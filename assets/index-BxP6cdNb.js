(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function v1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hm={exports:{}},pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function oA(){if(uE)return pc;uE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:c}}return pc.Fragment=e,pc.jsx=t,pc.jsxs=t,pc}var hE;function lA(){return hE||(hE=1,Hm.exports=oA()),Hm.exports}var g=lA(),Fm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function cA(){if(dE)return Ne;dE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,U={};function k(j,ne,le){this.props=j,this.context=ne,this.refs=U,this.updater=le||x}k.prototype.isReactComponent={},k.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=k.prototype;function K(j,ne,le){this.props=j,this.context=ne,this.refs=U,this.updater=le||x}var Z=K.prototype=new Y;Z.constructor=K,R(Z,k.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function M(j,ne,le,ie,_e,De){return le=De.ref,{$$typeof:r,type:j,key:ne,ref:le!==void 0?le:null,props:De}}function C(j,ne){return M(j.type,ne,void 0,void 0,void 0,j.props)}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function L(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return ne[le]})}var V=/\/+/g;function B(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):ne.toString(36)}function O(){}function wt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function He(j,ne,le,ie,_e){var De=typeof j;(De==="undefined"||De==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(De){case"bigint":case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case r:case e:we=!0;break;case v:return we=j._init,He(we(j._payload),ne,le,ie,_e)}}if(we)return _e=_e(j),we=ie===""?"."+B(j,0):ie,ce(_e)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),He(_e,ne,le,"",function(_r){return _r})):_e!=null&&(I(_e)&&(_e=C(_e,le+(_e.key==null||j&&j.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+we)),ne.push(_e)),1;we=0;var qt=ie===""?".":ie+":";if(ce(j))for(var it=0;it<j.length;it++)ie=j[it],De=qt+B(ie,it),we+=He(ie,ne,le,De,_e);else if(it=w(j),typeof it=="function")for(j=it.call(j),it=0;!(ie=j.next()).done;)ie=ie.value,De=qt+B(ie,it++),we+=He(ie,ne,le,De,_e);else if(De==="object"){if(typeof j.then=="function")return He(wt(j),ne,le,ie,_e);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(j,ne,le){if(j==null)return j;var ie=[],_e=0;return He(j,ie,"","",function(De){return ne.call(le,De,_e++)}),ie}function ae(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var ge=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Fe(){}return Ne.Children={map:W,forEach:function(j,ne,le){W(j,function(){ne.apply(this,arguments)},le)},count:function(j){var ne=0;return W(j,function(){ne++}),ne},toArray:function(j){return W(j,function(ne){return ne})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ne.Component=k,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=K,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(j){return he.H.useMemoCache(j)}},Ne.cache=function(j){return function(){return j.apply(null,arguments)}},Ne.cloneElement=function(j,ne,le){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ie=R({},j.props),_e=j.key,De=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(_e=""+ne.key),ne)!Ae.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(ie[we]=ne[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var qt=Array(we),it=0;it<we;it++)qt[it]=arguments[it+2];ie.children=qt}return M(j.type,_e,void 0,void 0,De,ie)},Ne.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Ne.createElement=function(j,ne,le){var ie,_e={},De=null;if(ne!=null)for(ie in ne.key!==void 0&&(De=""+ne.key),ne)Ae.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(_e[ie]=ne[ie]);var we=arguments.length-2;if(we===1)_e.children=le;else if(1<we){for(var qt=Array(we),it=0;it<we;it++)qt[it]=arguments[it+2];_e.children=qt}if(j&&j.defaultProps)for(ie in we=j.defaultProps,we)_e[ie]===void 0&&(_e[ie]=we[ie]);return M(j,De,void 0,void 0,null,_e)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:f,render:j}},Ne.isValidElement=I,Ne.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ae}},Ne.memo=function(j,ne){return{$$typeof:y,type:j,compare:ne===void 0?null:ne}},Ne.startTransition=function(j){var ne=he.T,le={};he.T=le;try{var ie=j(),_e=he.S;_e!==null&&_e(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Fe,ge)}catch(De){ge(De)}finally{he.T=ne}},Ne.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ne.use=function(j){return he.H.use(j)},Ne.useActionState=function(j,ne,le){return he.H.useActionState(j,ne,le)},Ne.useCallback=function(j,ne){return he.H.useCallback(j,ne)},Ne.useContext=function(j){return he.H.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j,ne){return he.H.useDeferredValue(j,ne)},Ne.useEffect=function(j,ne,le){var ie=he.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(j,ne)},Ne.useId=function(){return he.H.useId()},Ne.useImperativeHandle=function(j,ne,le){return he.H.useImperativeHandle(j,ne,le)},Ne.useInsertionEffect=function(j,ne){return he.H.useInsertionEffect(j,ne)},Ne.useLayoutEffect=function(j,ne){return he.H.useLayoutEffect(j,ne)},Ne.useMemo=function(j,ne){return he.H.useMemo(j,ne)},Ne.useOptimistic=function(j,ne){return he.H.useOptimistic(j,ne)},Ne.useReducer=function(j,ne,le){return he.H.useReducer(j,ne,le)},Ne.useRef=function(j){return he.H.useRef(j)},Ne.useState=function(j){return he.H.useState(j)},Ne.useSyncExternalStore=function(j,ne,le){return he.H.useSyncExternalStore(j,ne,le)},Ne.useTransition=function(){return he.H.useTransition()},Ne.version="19.1.1",Ne}var fE;function sg(){return fE||(fE=1,Fm.exports=cA()),Fm.exports}var N=sg();const uA=v1(N);var Gm={exports:{}},gc={},$m={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function hA(){return mE||(mE=1,(function(r){function e(W,ae){var ge=W.length;W.push(ae);e:for(;0<ge;){var Fe=ge-1>>>1,j=W[Fe];if(0<o(j,ae))W[Fe]=ae,W[ge]=j,ge=Fe;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ae=W[0],ge=W.pop();if(ge!==ae){W[0]=ge;e:for(var Fe=0,j=W.length,ne=j>>>1;Fe<ne;){var le=2*(Fe+1)-1,ie=W[le],_e=le+1,De=W[_e];if(0>o(ie,ge))_e<j&&0>o(De,ie)?(W[Fe]=De,W[_e]=ge,Fe=_e):(W[Fe]=ie,W[le]=ge,Fe=le);else if(_e<j&&0>o(De,ge))W[Fe]=De,W[_e]=ge,Fe=_e;else break e}}return ae}function o(W,ae){var ge=W.sortIndex-ae.sortIndex;return ge!==0?ge:W.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],v=1,b=null,w=3,x=!1,R=!1,U=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ce(W){for(var ae=t(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=W)i(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(y)}}function he(W){if(U=!1,ce(W),!R)if(t(p)!==null)R=!0,Ae||(Ae=!0,B());else{var ae=t(y);ae!==null&&He(he,ae.startTime-W)}}var Ae=!1,M=-1,C=5,I=-1;function L(){return k?!0:!(r.unstable_now()-I<C)}function V(){if(k=!1,Ae){var W=r.unstable_now();I=W;var ae=!0;try{e:{R=!1,U&&(U=!1,K(M),M=-1),x=!0;var ge=w;try{t:{for(ce(W),b=t(p);b!==null&&!(b.expirationTime>W&&L());){var Fe=b.callback;if(typeof Fe=="function"){b.callback=null,w=b.priorityLevel;var j=Fe(b.expirationTime<=W);if(W=r.unstable_now(),typeof j=="function"){b.callback=j,ce(W),ae=!0;break t}b===t(p)&&i(p),ce(W)}else i(p);b=t(p)}if(b!==null)ae=!0;else{var ne=t(y);ne!==null&&He(he,ne.startTime-W),ae=!1}}break e}finally{b=null,w=ge,x=!1}ae=void 0}}finally{ae?B():Ae=!1}}}var B;if(typeof Z=="function")B=function(){Z(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,wt=O.port2;O.port1.onmessage=V,B=function(){wt.postMessage(null)}}else B=function(){Y(V,0)};function He(W,ae){M=Y(function(){W(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ge=w;w=ae;try{return W()}finally{w=ge}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=w;w=W;try{return ae()}finally{w=ge}},r.unstable_scheduleCallback=function(W,ae,ge){var Fe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ge+j,W={id:v++,callback:ae,priorityLevel:W,startTime:ge,expirationTime:j,sortIndex:-1},ge>Fe?(W.sortIndex=ge,e(y,W),t(p)===null&&W===t(y)&&(U?(K(M),M=-1):U=!0,He(he,ge-Fe))):(W.sortIndex=j,e(p,W),R||x||(R=!0,Ae||(Ae=!0,B()))),W},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(W){var ae=w;return function(){var ge=w;w=ae;try{return W.apply(this,arguments)}finally{w=ge}}}})(Km)),Km}var pE;function dA(){return pE||(pE=1,$m.exports=hA()),$m.exports}var Qm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function fA(){if(gE)return on;gE=1;var r=sg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},on.flushSync=function(p){var y=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=y,i.p=v,i.d.f()}},on.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},on.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},on.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,b=f(v,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=f(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},on.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=f(v,y.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=f(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},on.requestFormReset=function(p){i.d.r(p)},on.unstable_batchedUpdates=function(p,y){return p(y)},on.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.1",on}var yE;function mA(){if(yE)return Qm.exports;yE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qm.exports=fA(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function pA(){if(_E)return gc;_E=1;var r=dA(),e=sg(),t=mA();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(i(188))}function p(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return f(d),n;if(m===l)return f(d),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=m;else{for(var T=!1,S=d.child;S;){if(S===a){T=!0,a=d,l=m;break}if(S===l){T=!0,l=d,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=d;break}if(S===l){T=!0,l=m,a=d;break}S=S.sibling}if(!T)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function wt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case k:return"Profiler";case U:return"StrictMode";case he:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case ce:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return s=n.displayName||null,s!==null?s:wt(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return wt(n(s))}catch{}}return null}var He=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Fe=[],j=-1;function ne(n){return{current:n}}function le(n){0>j||(n.current=Fe[j],Fe[j]=null,j--)}function ie(n,s){j++,Fe[j]=n.current,n.current=s}var _e=ne(null),De=ne(null),we=ne(null),qt=ne(null);function it(n,s){switch(ie(we,s),ie(De,n),ie(_e,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Vv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Vv(s),n=Uv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(_e),ie(_e,n)}function _r(){le(_e),le(De),le(we)}function Cs(n){n.memoizedState!==null&&ie(qt,n);var s=_e.current,a=Uv(s,n.type);s!==a&&(ie(De,n),ie(_e,a))}function Gr(n){De.current===n&&(le(_e),le(De)),qt.current===n&&(le(qt),uc._currentValue=ge)}var Ri=Object.prototype.hasOwnProperty,Ci=r.unstable_scheduleCallback,xi=r.unstable_cancelCallback,ol=r.unstable_shouldYield,tu=r.unstable_requestPaint,Hn=r.unstable_now,qd=r.unstable_getCurrentPriorityLevel,ll=r.unstable_ImmediatePriority,Ca=r.unstable_UserBlockingPriority,Ni=r.unstable_NormalPriority,Hd=r.unstable_LowPriority,xa=r.unstable_IdlePriority,cl=r.log,nu=r.unstable_setDisableYieldValue,gt=null,Xe=null;function Dn(n){if(typeof cl=="function"&&nu(n),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(gt,n)}catch{}}var sn=Math.clz32?Math.clz32:Ii,ru=Math.log,Fd=Math.LN2;function Ii(n){return n>>>=0,n===0?32:31-(ru(n)/Fd|0)|0}var Di=256,Oi=4194304;function ar(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Na(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?d=ar(l):(T&=S,T!==0?d=ar(T):a||(a=S&~n,a!==0&&(d=ar(a))))):(S=l&~m,S!==0?d=ar(S):T!==0?d=ar(T):a||(a=l&~n,a!==0&&(d=ar(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function ki(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ul(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var n=Di;return Di<<=1,(Di&4194048)===0&&(Di=256),n}function dl(){var n=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),n}function $r(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Kr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fl(n,s,a,l,d,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,F=n.hiddenUpdates;for(a=T&~a;0<a;){var J=31-sn(a),te=1<<J;S[J]=0,D[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var $=G[J];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&vr(n,l,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~s))}function vr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-sn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function ml(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-sn(a),d=1<<l;d&s|n[l]&s&&(n[l]|=s),a&=~d}}function xs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ns(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:sE(n.type))}function su(n,s){var a=ae.p;try{return ae.p=n,s()}finally{ae.p=a}}var ct=Math.random().toString(36).slice(2),jt="__reactFiber$"+ct,At="__reactProps$"+ct,Fn="__reactContainer$"+ct,pl="__reactEvents$"+ct,Gd="__reactListeners$"+ct,Is="__reactHandles$"+ct,iu="__reactResources$"+ct,ji="__reactMarker$"+ct;function Ds(n){delete n[jt],delete n[At],delete n[pl],delete n[Gd],delete n[Is]}function Qr(n){var s=n[jt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Fn]||a[jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Hv(n);n!==null;){if(a=n[jt])return a;n=Hv(n)}return s}n=a,a=n.parentNode}return null}function Er(n){if(n=n[jt]||n[Fn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Tr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function yn(n){var s=n[iu];return s||(s=n[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(n){n[ji]=!0}var gl=new Set,Da={};function or(n,s){Yr(n,s),Yr(n+"Capture",s)}function Yr(n,s){for(Da[n]=s,n=0;n<s.length;n++)gl.add(s[n])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Mi={};function lu(n){return Ri.call(Mi,n)?!0:Ri.call(ou,n)?!1:au.test(n)?Mi[n]=!0:(ou[n]=!0,!1)}function Os(n,s,a){if(lu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function br(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Wt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Pi,cu;function Xr(n){if(Pi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Pi=s&&s[1]||"",cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+n+cu}var Oa=!1;function ka(n,s){if(!n||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var G=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){G=$}n.call(te.prototype)}}else{try{throw Error()}catch($){G=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var D=T.split(`
`),F=S.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===F.length)for(l=D.length-1,d=F.length-1;1<=l&&0<=d&&D[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==F[d]){var J=`
`+D[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=d);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Xr(a):""}function yl(n){switch(n.tag){case 26:case 27:case 5:return Xr(n.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return ka(n.type,!1);case 11:return ka(n.type.render,!1);case 1:return ka(n.type,!0);case 31:return Xr("Activity");default:return""}}function ja(n){try{var s="";do s+=yl(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _l(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $d(n){var s=_l(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ma(n){n._valueTracker||(n._valueTracker=$d(n))}function vl(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=_l(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Li(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Kd=/[\n"\\]/g;function Rt(n){return n.replace(Kd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function On(n,s,a,l,d,m,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+_n(s)):n.value!==""+_n(s)&&(n.value=""+_n(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?ks(n,T,_n(s)):a!=null?ks(n,T,_n(a)):l!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+_n(S):n.removeAttribute("name")}function Vi(n,s,a,l,d,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+_n(a):"",s=s!=null?""+_n(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ks(n,s,a){s==="number"&&Li(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Wr(n,s,a,l){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+_n(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Ze(n,s,a){if(s!=null&&(s=""+_n(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+_n(a):""}function Ui(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(He(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=_n(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Gn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Bi.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function El(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&uu(n,d,l)}else for(var m in s)s.hasOwnProperty(m)&&uu(n,m,s[m])}function Tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(n){return Yd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Jr=null;function $n(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zr=null,es=null;function bl(n){var s=Er(n);if(s&&(n=s.stateNode)){var a=n[At]||null;e:switch(n=s.stateNode,s.type){case"input":if(On(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var d=l[At]||null;if(!d)throw Error(i(90));On(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&vl(l)}break e;case"textarea":Ze(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Wr(n,!!a.multiple,s,!1)}}}var Sr=!1;function hu(n,s,a){if(Sr)return n(s,a);Sr=!0;try{var l=n(s);return l}finally{if(Sr=!1,(Zr!==null||es!==null)&&(sh(),Zr&&(s=Zr,n=es,es=Zr=null,bl(s),n)))for(s=0;s<n.length;s++)bl(n[s])}}function zi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(lr)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Kn=!1}var wr=null,js=null,ts=null;function Sl(){if(ts)return ts;var n,s=js,a=s.length,l,d="value"in wr?wr.value:wr.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var T=a-n;for(l=1;l<=T&&s[a-l]===d[m-l];l++);return ts=d.slice(n,1<l?1-l:void 0)}function Ar(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rr(){return!0}function wl(){return!1}function Ht(n){function s(a,l,d,m,T){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Rr:wl,this.isPropagationStopped=wl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ht(Qe),Hi=v({},Qe,{view:0,detail:0}),du=Ht(Hi),Va,Ua,Cr,Fi=v({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cr&&(Cr&&n.type==="mousemove"?(Va=n.screenX-Cr.screenX,Ua=n.screenY-Cr.screenY):Ua=Va=0,Cr=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:Ua}}),Qn=Ht(Fi),fu=v({},Fi,{dataTransfer:0}),Xd=Ht(fu),Gi=v({},Hi,{relatedTarget:0}),Ba=Ht(Gi),Al=v({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Ht(Al),mu=v({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qa=Ht(mu),Wd=v({},Qe,{data:0}),Rl=Ht(Wd),$i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=gu[n])?!!s[n]:!1}function Ki(){return Cl}var yu=v({},Hi,{key:function(n){if(n.key){var s=$i[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ar(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(n){return n.type==="keypress"?Ar(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ar(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Ht(yu),_u=v({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Ht(_u),ns=v({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),vu=Ht(ns),Eu=v({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Ht(Eu),bu=v({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=Ht(bu),vn=v({},Qe,{newState:0,oldState:0}),Su=Ht(vn),wu=[9,13,27,32],xr=lr&&"CompositionEvent"in window,u=null;lr&&"documentMode"in document&&(u=document.documentMode);var _=lr&&"TextEvent"in window&&!u,E=lr&&(!xr||u&&8<u&&11>=u),A=" ",q=!1;function X(n,s){switch(n){case"keyup":return wu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function Mt(n,s){switch(n){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return n=s.data,n===A&&q?null:n;default:return null}}function Ue(n,s){if(Ve)return n==="compositionend"||!xr&&X(n,s)?(n=Sl(),ts=js=wr=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ft[n.type]:s==="textarea"}function rs(n,s,a,l){Zr?es?es.push(l):es=[l]:Zr=l,s=uh(s,"onChange"),0<s.length&&(a=new La("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Jt=null,Nr=null;function Nl(n){kv(n,0)}function Au(n){var s=Tr(n);if(vl(s))return n}function ey(n,s){if(n==="change")return s}var ty=!1;if(lr){var Jd;if(lr){var Zd="oninput"in document;if(!Zd){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Zd=typeof ny.oninput=="function"}Jd=Zd}else Jd=!1;ty=Jd&&(!document.documentMode||9<document.documentMode)}function ry(){Jt&&(Jt.detachEvent("onpropertychange",sy),Nr=Jt=null)}function sy(n){if(n.propertyName==="value"&&Au(Nr)){var s=[];rs(s,Nr,n,$n(n)),hu(Nl,s)}}function LS(n,s,a){n==="focusin"?(ry(),Jt=s,Nr=a,Jt.attachEvent("onpropertychange",sy)):n==="focusout"&&ry()}function VS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Au(Nr)}function US(n,s){if(n==="click")return Au(s)}function BS(n,s){if(n==="input"||n==="change")return Au(s)}function zS(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var kn=typeof Object.is=="function"?Object.is:zS;function Il(n,s){if(kn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Ri.call(s,d)||!kn(n[d],s[d]))return!1}return!0}function iy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ay(n,s){var a=iy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=iy(a)}}function oy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?oy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ly(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Li(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Li(n.document)}return s}function ef(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var qS=lr&&"documentMode"in document&&11>=document.documentMode,Ga=null,tf=null,Dl=null,nf=!1;function cy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Ga==null||Ga!==Li(l)||(l=Ga,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Il(Dl,l)||(Dl=l,l=uh(tf,"onSelect"),0<l.length&&(s=new La("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ga)))}function Qi(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var $a={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},rf={},uy={};lr&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Yi(n){if(rf[n])return rf[n];if(!$a[n])return n;var s=$a[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in uy)return rf[n]=s[a];return n}var hy=Yi("animationend"),dy=Yi("animationiteration"),fy=Yi("animationstart"),HS=Yi("transitionrun"),FS=Yi("transitionstart"),GS=Yi("transitioncancel"),my=Yi("transitionend"),py=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function cr(n,s){py.set(n,s),or(s,[n])}var gy=new WeakMap;function Yn(n,s){if(typeof n=="object"&&n!==null){var a=gy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ja(s)},gy.set(n,s),s)}return{value:n,source:s,stack:ja(s)}}var Xn=[],Ka=0,af=0;function Ru(){for(var n=Ka,s=af=Ka=0;s<n;){var a=Xn[s];Xn[s++]=null;var l=Xn[s];Xn[s++]=null;var d=Xn[s];Xn[s++]=null;var m=Xn[s];if(Xn[s++]=null,l!==null&&d!==null){var T=l.pending;T===null?d.next=d:(d.next=T.next,T.next=d),l.pending=d}m!==0&&yy(a,d,m)}}function Cu(n,s,a,l){Xn[Ka++]=n,Xn[Ka++]=s,Xn[Ka++]=a,Xn[Ka++]=l,af|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function of(n,s,a,l){return Cu(n,s,a,l),xu(n)}function Qa(n,s){return Cu(n,null,null,s),xu(n)}function yy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&s!==null&&(d=31-sn(a),n=m.hiddenUpdates,l=n[d],l===null?n[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function xu(n){if(50<nc)throw nc=0,fm=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ya={};function $S(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,s,a,l){return new $S(n,s,a,l)}function lf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ss(n,s){var a=n.alternate;return a===null?(a=jn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function _y(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Nu(n,s,a,l,d,m){var T=0;if(l=n,typeof n=="function")lf(n)&&(T=1);else if(typeof n=="string")T=Qw(n,a,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=jn(31,a,s,d),n.elementType=I,n.lanes=m,n;case R:return Xi(a.children,d,m,s);case U:T=8,d|=24;break;case k:return n=jn(12,a,s,d|2),n.elementType=k,n.lanes=m,n;case he:return n=jn(13,a,s,d),n.elementType=he,n.lanes=m,n;case Ae:return n=jn(19,a,s,d),n.elementType=Ae,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case Z:T=10;break e;case K:T=9;break e;case ce:T=11;break e;case M:T=14;break e;case C:T=16,l=null;break e}T=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=jn(T,a,s,d),s.elementType=n,s.type=l,s.lanes=m,s}function Xi(n,s,a,l){return n=jn(7,n,l,s),n.lanes=a,n}function cf(n,s,a){return n=jn(6,n,null,s),n.lanes=a,n}function uf(n,s,a){return s=jn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Xa=[],Wa=0,Iu=null,Du=0,Wn=[],Jn=0,Wi=null,is=1,as="";function Ji(n,s){Xa[Wa++]=Du,Xa[Wa++]=Iu,Iu=n,Du=s}function vy(n,s,a){Wn[Jn++]=is,Wn[Jn++]=as,Wn[Jn++]=Wi,Wi=n;var l=is;n=as;var d=32-sn(l)-1;l&=~(1<<d),a+=1;var m=32-sn(s)+d;if(30<m){var T=d-d%5;m=(l&(1<<T)-1).toString(32),l>>=T,d-=T,is=1<<32-sn(s)+d|a<<d|l,as=m+n}else is=1<<m|a<<d|l,as=n}function hf(n){n.return!==null&&(Ji(n,1),vy(n,1,0))}function df(n){for(;n===Iu;)Iu=Xa[--Wa],Xa[Wa]=null,Du=Xa[--Wa],Xa[Wa]=null;for(;n===Wi;)Wi=Wn[--Jn],Wn[Jn]=null,as=Wn[--Jn],Wn[Jn]=null,is=Wn[--Jn],Wn[Jn]=null}var En=null,yt=null,Ke=!1,Zi=null,Ir=!1,ff=Error(i(519));function ea(n){var s=Error(i(418,""));throw jl(Yn(s,n)),ff}function Ey(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[jt]=n,s[At]=l,a){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(a=0;a<sc.length;a++)je(sc[a],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Vi(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Ui(s,l.value,l.defaultValue,l.children),Ma(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Lv(s.textContent,a)?(l.popover!=null&&(je("beforetoggle",s),je("toggle",s)),l.onScroll!=null&&je("scroll",s),l.onScrollEnd!=null&&je("scrollend",s),l.onClick!=null&&(s.onclick=hh),s=!0):s=!1,s||ea(n)}function Ty(n){for(En=n.return;En;)switch(En.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:En=En.return}}function Ol(n){if(n!==En)return!1;if(!Ke)return Ty(n),Ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Nm(n.type,n.memoizedProps)),a=!a),a&&yt&&ea(n),Ty(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){yt=hr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}yt=null}}else s===27?(s=yt,Xs(n.type)?(n=km,km=null,yt=n):yt=s):yt=En?hr(n.stateNode.nextSibling):null;return!0}function kl(){yt=En=null,Ke=!1}function by(){var n=Zi;return n!==null&&(Cn===null?Cn=n:Cn.push.apply(Cn,n),Zi=null),n}function jl(n){Zi===null?Zi=[n]:Zi.push(n)}var mf=ne(null),ta=null,os=null;function Ms(n,s,a){ie(mf,s._currentValue),s._currentValue=a}function ls(n){n._currentValue=mf.current,le(mf)}function pf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function gf(n,s,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var D=0;D<s.length;D++)if(S.context===s[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),pf(m.return,a,n),l||(T=null);break e}m=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),pf(T,a,n),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===n){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ml(n,s,a,l){n=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=d.type;kn(d.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(d===qt.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(uc):n=[uc])}d=d.return}n!==null&&gf(s,n,a,l),s.flags|=262144}function Ou(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,os=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return Sy(ta,n)}function ku(n,s){return ta===null&&na(n),Sy(n,s)}function Sy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},os===null){if(n===null)throw Error(i(308));os=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else os=os.next=s;return a}var KS=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},QS=r.unstable_scheduleCallback,YS=r.unstable_NormalPriority,Lt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new KS,data:new Map,refCount:0}}function Pl(n){n.refCount--,n.refCount===0&&QS(YS,function(){n.controller.abort()})}var Ll=null,_f=0,Ja=0,Za=null;function XS(n,s){if(Ll===null){var a=Ll=[];_f=0,Ja=Em(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,s.then(wy,wy),s}function wy(){if(--_f===0&&Ll!==null){Za!==null&&(Za.status="fulfilled");var n=Ll;Ll=null,Ja=0,Za=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function WS(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Ay=W.S;W.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&XS(n,s),Ay!==null&&Ay(n,s)};var ra=ne(null);function vf(){var n=ra.current;return n!==null?n:at.pooledCache}function ju(n,s){s===null?ie(ra,ra.current):ie(ra,s.pool)}function Ry(){var n=vf();return n===null?null:{parent:Lt._currentValue,pool:n}}var Vl=Error(i(460)),Cy=Error(i(474)),Mu=Error(i(542)),Ef={then:function(){}};function xy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pu(){}function Ny(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Pu,Pu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Dy(n),n;default:if(typeof s.status=="string")s.then(Pu,Pu);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Dy(n),n}throw Ul=s,Vl}}var Ul=null;function Iy(){if(Ul===null)throw Error(i(459));var n=Ul;return Ul=null,n}function Dy(n){if(n===Vl||n===Mu)throw Error(i(483))}var Ps=!1;function Tf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ls(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=xu(n),yy(n,null,a),s}return Cu(n,l,s,a),xu(n)}function Bl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,ml(n,a)}}function Sf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var wf=!1;function zl(){if(wf){var n=Za;if(n!==null)throw n}}function ql(n,s,a,l){wf=!1;var d=n.updateQueue;Ps=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,F=D.next;D.next=null,T===null?m=F:T.next=F,T=D;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=F:S.next=F,J.lastBaseUpdate=D))}if(m!==null){var te=d.baseState;T=0,J=F=D=null,S=m;do{var G=S.lane&-536870913,$=G!==S.lane;if($?(Be&G)===G:(l&G)===G){G!==0&&G===Ja&&(wf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=n,Ee=S;G=s;var nt=a;switch(Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){te=Se.call(nt,te,G);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,G=typeof Se=="function"?Se.call(nt,te,G):Se,G==null)break e;te=v({},te,G);break e;case 2:Ps=!0}}G=S.callback,G!==null&&(n.flags|=64,$&&(n.flags|=8192),$=d.callbacks,$===null?d.callbacks=[G]:$.push(G))}else $={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(F=J=$,D=te):J=J.next=$,T|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;$=S,S=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);J===null&&(D=te),d.baseState=D,d.firstBaseUpdate=F,d.lastBaseUpdate=J,m===null&&(d.shared.lanes=0),$s|=T,n.lanes=T,n.memoizedState=te}}function Oy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function ky(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Oy(a[n],s)}var eo=ne(null),Lu=ne(0);function jy(n,s){n=ps,ie(Lu,n),ie(eo,s),ps=n|s.baseLanes}function Af(){ie(Lu,ps),ie(eo,eo.current)}function Rf(){ps=Lu.current,le(eo),le(Lu)}var Us=0,Ie=null,et=null,Ct=null,Vu=!1,to=!1,sa=!1,Uu=0,Hl=0,no=null,JS=0;function Et(){throw Error(i(321))}function Cf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!kn(n[a],s[a]))return!1;return!0}function xf(n,s,a,l,d,m){return Us=m,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?y_:__,sa=!1,m=a(l,d),sa=!1,to&&(m=Py(s,a,l,d)),My(n),m}function My(n){W.H=Gu;var s=et!==null&&et.next!==null;if(Us=0,Ct=et=Ie=null,Vu=!1,Hl=0,no=null,s)throw Error(i(300));n===null||Gt||(n=n.dependencies,n!==null&&Ou(n)&&(Gt=!0))}function Py(n,s,a,l){Ie=n;var d=0;do{if(to&&(no=null),Hl=0,to=!1,25<=d)throw Error(i(301));if(d+=1,Ct=et=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=iw,m=s(a,l)}while(to);return m}function ZS(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?Fl(s):s,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Ie.flags|=1024),s}function Nf(){var n=Uu!==0;return Uu=0,n}function If(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Df(n){if(Vu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vu=!1}Us=0,Ct=et=Ie=null,to=!1,Hl=Uu=0,no=null}function An(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function xt(){if(et===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var s=Ct===null?Ie.memoizedState:Ct.next;if(s!==null)Ct=s,et=n;else{if(n===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(n){var s=Hl;return Hl+=1,no===null&&(no=[]),n=Ny(no,n,s),s=Ie,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?y_:__),n}function Bu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fl(n);if(n.$$typeof===Z)return an(n)}throw Error(i(438,String(n)))}function kf(n){var s=null,a=Ie.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Of(),Ie.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=L;return s.index++,a}function cs(n,s){return typeof s=="function"?s(n):s}function zu(n){var s=xt();return jf(s,et,n)}function jf(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=n.baseQueue,m=l.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}s.baseQueue=d=m,l.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{s=d.next;var S=T=null,D=null,F=s,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Be&te)===te:(Us&te)===te){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Ja&&(J=!0);else if((Us&G)===G){F=F.next,G===Ja&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=te,T=m):D=D.next=te,Ie.lanes|=G,$s|=G;te=F.action,sa&&a(m,te),m=F.hasEagerState?F.eagerState:a(m,te)}else G={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=G,T=m):D=D.next=G,Ie.lanes|=te,$s|=te;F=F.next}while(F!==null&&F!==s);if(D===null?T=m:D.next=S,!kn(m,n.memoizedState)&&(Gt=!0,J&&(a=Za,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=D,l.lastRenderedState=m}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Mf(n){var s=xt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do m=n(m,T.action),T=T.next;while(T!==d);kn(m,s.memoizedState)||(Gt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Ly(n,s,a){var l=Ie,d=xt(),m=Ke;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var T=!kn((et||d).memoizedState,a);T&&(d.memoizedState=a,Gt=!0),d=d.queue;var S=By.bind(null,l,d,n);if(Gl(2048,8,S,[n]),d.getSnapshot!==s||T||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ro(9,qu(),Uy.bind(null,l,d,a,s),null),at===null)throw Error(i(349));m||(Us&124)!==0||Vy(l,s,a)}return a}function Vy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ie.updateQueue,s===null?(s=Of(),Ie.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Uy(n,s,a,l){s.value=a,s.getSnapshot=l,zy(s)&&qy(n)}function By(n,s,a){return a(function(){zy(s)&&qy(n)})}function zy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!kn(n,a)}catch{return!0}}function qy(n){var s=Qa(n,2);s!==null&&Un(s,n,2)}function Pf(n){var s=An();if(typeof n=="function"){var a=n;if(n=a(),sa){Dn(!0);try{a()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},s}function Hy(n,s,a,l){return n.baseState=a,jf(n,et,typeof l=="function"?l:cs)}function ew(n,s,a,l,d){if(Fu(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Fy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Fy(n,s){var a=s.action,l=s.payload,d=n.state;if(s.isTransition){var m=W.T,T={};W.T=T;try{var S=a(d,l),D=W.S;D!==null&&D(T,S),Gy(n,s,S)}catch(F){Lf(n,s,F)}finally{W.T=m}}else try{m=a(d,l),Gy(n,s,m)}catch(F){Lf(n,s,F)}}function Gy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(n,s,l)},function(l){return Lf(n,s,l)}):$y(n,s,a)}function $y(n,s,a){s.status="fulfilled",s.value=a,Ky(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Fy(n,a)))}function Lf(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ky(s),s=s.next;while(s!==l)}n.action=null}function Ky(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Qy(n,s){return s}function Yy(n,s){if(Ke){var a=at.formState;if(a!==null){e:{var l=Ie;if(Ke){if(yt){t:{for(var d=yt,m=Ir;d.nodeType!==8;){if(!m){d=null;break t}if(d=hr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){yt=hr(d.nextSibling),l=d.data==="F!";break e}}ea(l)}l=!1}l&&(s=a[0])}}return a=An(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:s},a.queue=l,a=m_.bind(null,Ie,l),l.dispatch=a,l=Pf(!1),m=qf.bind(null,Ie,!1,l.queue),l=An(),d={state:s,dispatch:null,action:n,pending:null},l.queue=d,a=ew.bind(null,Ie,d,m,a),d.dispatch=a,l.memoizedState=n,[s,a,!1]}function Xy(n){var s=xt();return Wy(s,et,n)}function Wy(n,s,a){if(s=jf(n,s,Qy)[0],n=zu(cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Fl(s)}catch(T){throw T===Vl?Mu:T}else l=s;s=xt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Ie.flags|=2048,ro(9,qu(),tw.bind(null,d,a),null)),[l,m,n]}function tw(n,s){n.action=s}function Jy(n){var s=xt(),a=et;if(a!==null)return Wy(s,a,n);xt(),s=s.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function ro(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Of(),Ie.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function qu(){return{destroy:void 0,resource:void 0}}function Zy(){return xt().memoizedState}function Hu(n,s,a,l){var d=An();l=l===void 0?null:l,Ie.flags|=n,d.memoizedState=ro(1|s,qu(),a,l)}function Gl(n,s,a,l){var d=xt();l=l===void 0?null:l;var m=d.memoizedState.inst;et!==null&&l!==null&&Cf(l,et.memoizedState.deps)?d.memoizedState=ro(s,m,a,l):(Ie.flags|=n,d.memoizedState=ro(1|s,m,a,l))}function e_(n,s){Hu(8390656,8,n,s)}function t_(n,s){Gl(2048,8,n,s)}function n_(n,s){return Gl(4,2,n,s)}function r_(n,s){return Gl(4,4,n,s)}function s_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function i_(n,s,a){a=a!=null?a.concat([n]):null,Gl(4,4,s_.bind(null,s,n),a)}function Vf(){}function a_(n,s){var a=xt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Cf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function o_(n,s){var a=xt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Cf(s,l[1]))return l[0];if(l=n(),sa){Dn(!0);try{n()}finally{Dn(!1)}}return a.memoizedState=[l,s],l}function Uf(n,s,a){return a===void 0||(Us&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=uv(),Ie.lanes|=n,$s|=n,a)}function l_(n,s,a,l){return kn(a,s)?a:eo.current!==null?(n=Uf(n,a,l),kn(n,s)||(Gt=!0),n):(Us&42)===0?(Gt=!0,n.memoizedState=a):(n=uv(),Ie.lanes|=n,$s|=n,s)}function c_(n,s,a,l,d){var m=ae.p;ae.p=m!==0&&8>m?m:8;var T=W.T,S={};W.T=S,qf(n,!1,s,a);try{var D=d(),F=W.S;if(F!==null&&F(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=WS(D,l);$l(n,s,J,Vn(n))}else $l(n,s,l,Vn(n))}catch(te){$l(n,s,{then:function(){},status:"rejected",reason:te},Vn())}finally{ae.p=m,W.T=T}}function nw(){}function Bf(n,s,a,l){if(n.tag!==5)throw Error(i(476));var d=u_(n).queue;c_(n,d,s,ge,a===null?nw:function(){return h_(n),a(l)})}function u_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function h_(n){var s=u_(n).next.queue;$l(n,s,{},Vn())}function zf(){return an(uc)}function d_(){return xt().memoizedState}function f_(){return xt().memoizedState}function rw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Vn();n=Ls(a);var l=Vs(s,n,a);l!==null&&(Un(l,s,a),Bl(l,s,a)),s={cache:yf()},n.payload=s;return}s=s.return}}function sw(n,s,a){var l=Vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(n)?p_(s,a):(a=of(n,s,a,l),a!==null&&(Un(a,n,l),g_(a,s,l)))}function m_(n,s,a){var l=Vn();$l(n,s,a,l)}function $l(n,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(n))p_(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,S=m(T,a);if(d.hasEagerState=!0,d.eagerState=S,kn(S,T))return Cu(n,s,d,0),at===null&&Ru(),!1}catch{}finally{}if(a=of(n,s,d,l),a!==null)return Un(a,n,l),g_(a,s,l),!0}return!1}function qf(n,s,a,l){if(l={lane:2,revertLane:Em(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(n)){if(s)throw Error(i(479))}else s=of(n,a,l,2),s!==null&&Un(s,n,2)}function Fu(n){var s=n.alternate;return n===Ie||s!==null&&s===Ie}function p_(n,s){to=Vu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function g_(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,ml(n,a)}}var Gu={readContext:an,use:Bu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},y_={readContext:an,use:Bu,useCallback:function(n,s){return An().memoizedState=[n,s===void 0?null:s],n},useContext:an,useEffect:e_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Hu(4194308,4,s_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Hu(4194308,4,n,s)},useInsertionEffect:function(n,s){Hu(4,2,n,s)},useMemo:function(n,s){var a=An();s=s===void 0?null:s;var l=n();if(sa){Dn(!0);try{n()}finally{Dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=An();if(a!==void 0){var d=a(s);if(sa){Dn(!0);try{a(s)}finally{Dn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=sw.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var s=An();return n={current:n},s.memoizedState=n},useState:function(n){n=Pf(n);var s=n.queue,a=m_.bind(null,Ie,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(n,s){var a=An();return Uf(a,n,s)},useTransition:function(){var n=Pf(!1);return n=c_.bind(null,Ie,n.queue,!0,!1),An().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ie,d=An();if(Ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),at===null)throw Error(i(349));(Be&124)!==0||Vy(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,e_(By.bind(null,l,m,n),[n]),l.flags|=2048,ro(9,qu(),Uy.bind(null,l,m,a,s),null),a},useId:function(){var n=An(),s=at.identifierPrefix;if(Ke){var a=as,l=is;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Uu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=JS++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:zf,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var s=An();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qf.bind(null,Ie,!0,a),a.dispatch=s,[n,s]},useMemoCache:kf,useCacheRefresh:function(){return An().memoizedState=rw.bind(null,Ie)}},__={readContext:an,use:Bu,useCallback:a_,useContext:an,useEffect:t_,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:zu,useRef:Zy,useState:function(){return zu(cs)},useDebugValue:Vf,useDeferredValue:function(n,s){var a=xt();return l_(a,et.memoizedState,n,s)},useTransition:function(){var n=zu(cs)[0],s=xt().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:Ly,useId:d_,useHostTransitionStatus:zf,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,s){var a=xt();return Hy(a,et,n,s)},useMemoCache:kf,useCacheRefresh:f_},iw={readContext:an,use:Bu,useCallback:a_,useContext:an,useEffect:t_,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:Mf,useRef:Zy,useState:function(){return Mf(cs)},useDebugValue:Vf,useDeferredValue:function(n,s){var a=xt();return et===null?Uf(a,n,s):l_(a,et.memoizedState,n,s)},useTransition:function(){var n=Mf(cs)[0],s=xt().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:Ly,useId:d_,useHostTransitionStatus:zf,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,s){var a=xt();return et!==null?Hy(a,et,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:f_},so=null,Kl=0;function $u(n){var s=Kl;return Kl+=1,so===null&&(so=[]),Ny(so,n,s)}function Ql(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ku(n,s){throw s.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function v_(n){var s=n._init;return s(n._payload)}function E_(n){function s(z,P){if(n){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function d(z,P){return z=ss(z,P),z.index=0,z.sibling=null,z}function m(z,P,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function S(z,P,H,ee){return P===null||P.tag!==6?(P=cf(H,z.mode,ee),P.return=z,P):(P=d(P,H),P.return=z,P)}function D(z,P,H,ee){var fe=H.type;return fe===R?J(z,P,H.props.children,ee,H.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===C&&v_(fe)===P.type)?(P=d(P,H.props),Ql(P,H),P.return=z,P):(P=Nu(H.type,H.key,H.props,null,z.mode,ee),Ql(P,H),P.return=z,P)}function F(z,P,H,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=uf(H,z.mode,ee),P.return=z,P):(P=d(P,H.children||[]),P.return=z,P)}function J(z,P,H,ee,fe){return P===null||P.tag!==7?(P=Xi(H,z.mode,ee,fe),P.return=z,P):(P=d(P,H),P.return=z,P)}function te(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=cf(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return H=Nu(P.type,P.key,P.props,null,z.mode,H),Ql(H,P),H.return=z,H;case x:return P=uf(P,z.mode,H),P.return=z,P;case C:var ee=P._init;return P=ee(P._payload),te(z,P,H)}if(He(P)||B(P))return P=Xi(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return te(z,$u(P),H);if(P.$$typeof===Z)return te(z,ku(z,P),H);Ku(z,P)}return null}function G(z,P,H,ee){var fe=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:S(z,P,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===fe?D(z,P,H,ee):null;case x:return H.key===fe?F(z,P,H,ee):null;case C:return fe=H._init,H=fe(H._payload),G(z,P,H,ee)}if(He(H)||B(H))return fe!==null?null:J(z,P,H,ee,null);if(typeof H.then=="function")return G(z,P,$u(H),ee);if(H.$$typeof===Z)return G(z,P,ku(z,H),ee);Ku(z,H)}return null}function $(z,P,H,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,S(P,z,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return z=z.get(ee.key===null?H:ee.key)||null,D(P,z,ee,fe);case x:return z=z.get(ee.key===null?H:ee.key)||null,F(P,z,ee,fe);case C:var Oe=ee._init;return ee=Oe(ee._payload),$(z,P,H,ee,fe)}if(He(ee)||B(ee))return z=z.get(H)||null,J(P,z,ee,fe,null);if(typeof ee.then=="function")return $(z,P,H,$u(ee),fe);if(ee.$$typeof===Z)return $(z,P,H,ku(P,ee),fe);Ku(P,ee)}return null}function Se(z,P,H,ee){for(var fe=null,Oe=null,ye=P,Te=P=0,Kt=null;ye!==null&&Te<H.length;Te++){ye.index>Te?(Kt=ye,ye=null):Kt=ye.sibling;var $e=G(z,ye,H[Te],ee);if($e===null){ye===null&&(ye=Kt);break}n&&ye&&$e.alternate===null&&s(z,ye),P=m($e,P,Te),Oe===null?fe=$e:Oe.sibling=$e,Oe=$e,ye=Kt}if(Te===H.length)return a(z,ye),Ke&&Ji(z,Te),fe;if(ye===null){for(;Te<H.length;Te++)ye=te(z,H[Te],ee),ye!==null&&(P=m(ye,P,Te),Oe===null?fe=ye:Oe.sibling=ye,Oe=ye);return Ke&&Ji(z,Te),fe}for(ye=l(ye);Te<H.length;Te++)Kt=$(ye,z,Te,H[Te],ee),Kt!==null&&(n&&Kt.alternate!==null&&ye.delete(Kt.key===null?Te:Kt.key),P=m(Kt,P,Te),Oe===null?fe=Kt:Oe.sibling=Kt,Oe=Kt);return n&&ye.forEach(function(ti){return s(z,ti)}),Ke&&Ji(z,Te),fe}function Ee(z,P,H,ee){if(H==null)throw Error(i(151));for(var fe=null,Oe=null,ye=P,Te=P=0,Kt=null,$e=H.next();ye!==null&&!$e.done;Te++,$e=H.next()){ye.index>Te?(Kt=ye,ye=null):Kt=ye.sibling;var ti=G(z,ye,$e.value,ee);if(ti===null){ye===null&&(ye=Kt);break}n&&ye&&ti.alternate===null&&s(z,ye),P=m(ti,P,Te),Oe===null?fe=ti:Oe.sibling=ti,Oe=ti,ye=Kt}if($e.done)return a(z,ye),Ke&&Ji(z,Te),fe;if(ye===null){for(;!$e.done;Te++,$e=H.next())$e=te(z,$e.value,ee),$e!==null&&(P=m($e,P,Te),Oe===null?fe=$e:Oe.sibling=$e,Oe=$e);return Ke&&Ji(z,Te),fe}for(ye=l(ye);!$e.done;Te++,$e=H.next())$e=$(ye,z,Te,$e.value,ee),$e!==null&&(n&&$e.alternate!==null&&ye.delete($e.key===null?Te:$e.key),P=m($e,P,Te),Oe===null?fe=$e:Oe.sibling=$e,Oe=$e);return n&&ye.forEach(function(aA){return s(z,aA)}),Ke&&Ji(z,Te),fe}function nt(z,P,H,ee){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var fe=H.key;P!==null;){if(P.key===fe){if(fe=H.type,fe===R){if(P.tag===7){a(z,P.sibling),ee=d(P,H.props.children),ee.return=z,z=ee;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===C&&v_(fe)===P.type){a(z,P.sibling),ee=d(P,H.props),Ql(ee,H),ee.return=z,z=ee;break e}a(z,P);break}else s(z,P);P=P.sibling}H.type===R?(ee=Xi(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=Nu(H.type,H.key,H.props,null,z.mode,ee),Ql(ee,H),ee.return=z,z=ee)}return T(z);case x:e:{for(fe=H.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(z,P.sibling),ee=d(P,H.children||[]),ee.return=z,z=ee;break e}else{a(z,P);break}else s(z,P);P=P.sibling}ee=uf(H,z.mode,ee),ee.return=z,z=ee}return T(z);case C:return fe=H._init,H=fe(H._payload),nt(z,P,H,ee)}if(He(H))return Se(z,P,H,ee);if(B(H)){if(fe=B(H),typeof fe!="function")throw Error(i(150));return H=fe.call(H),Ee(z,P,H,ee)}if(typeof H.then=="function")return nt(z,P,$u(H),ee);if(H.$$typeof===Z)return nt(z,P,ku(z,H),ee);Ku(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(z,P.sibling),ee=d(P,H),ee.return=z,z=ee):(a(z,P),ee=cf(H,z.mode,ee),ee.return=z,z=ee),T(z)):a(z,P)}return function(z,P,H,ee){try{Kl=0;var fe=nt(z,P,H,ee);return so=null,fe}catch(ye){if(ye===Vl||ye===Mu)throw ye;var Oe=jn(29,ye,null,z.mode);return Oe.lanes=ee,Oe.return=z,Oe}finally{}}}var io=E_(!0),T_=E_(!1),Zn=ne(null),Dr=null;function Bs(n){var s=n.alternate;ie(Vt,Vt.current&1),ie(Zn,n),Dr===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Dr=n)}function b_(n){if(n.tag===22){if(ie(Vt,Vt.current),ie(Zn,n),Dr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Dr=n)}}else zs()}function zs(){ie(Vt,Vt.current),ie(Zn,Zn.current)}function us(n){le(Zn),Dr===n&&(Dr=null),le(Vt)}var Vt=ne(0);function Qu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Om(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ff={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Vn(),d=Ls(l);d.payload=s,a!=null&&(d.callback=a),s=Vs(n,d,l),s!==null&&(Un(s,n,l),Bl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Vn(),d=Ls(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Vs(n,d,l),s!==null&&(Un(s,n,l),Bl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Vn(),l=Ls(a);l.tag=2,s!=null&&(l.callback=s),s=Vs(n,l,a),s!==null&&(Un(s,n,a),Bl(s,n,a))}};function S_(n,s,a,l,d,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Il(a,l)||!Il(d,m):!0}function w_(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Ff.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Yu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function A_(n){Yu(n)}function R_(n){console.error(n)}function C_(n){Yu(n)}function Xu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function x_(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gf(n,s,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(n,s)},a}function N_(n){return n=Ls(n),n.tag=3,n}function I_(n,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;n.payload=function(){return d(m)},n.callback=function(){x_(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){x_(s,a,l),typeof d!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function aw(n,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ml(s,a,d,!0),a=Zn.current,a!==null){switch(a.tag){case 13:return Dr===null?pm():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Ef?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ym(n,l,d)),!1;case 22:return a.flags|=65536,l===Ef?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ym(n,l,d)),!1}throw Error(i(435,a.tag))}return ym(n,l,d),pm(),!1}if(Ke)return s=Zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==ff&&(n=Error(i(422),{cause:l}),jl(Yn(n,a)))):(l!==ff&&(s=Error(i(423),{cause:l}),jl(Yn(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Yn(l,a),d=Gf(n.stateNode,l,d),Sf(n,d),_t!==4&&(_t=2)),!1;var m=Error(i(520),{cause:l});if(m=Yn(m,a),tc===null?tc=[m]:tc.push(m),_t!==4&&(_t=2),s===null)return!0;l=Yn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Gf(a.stateNode,l,n),Sf(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ks===null||!Ks.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=N_(d),I_(d,n,a,l),Sf(a,d),!1}a=a.return}while(a!==null);return!1}var D_=Error(i(461)),Gt=!1;function Zt(n,s,a,l){s.child=n===null?T_(s,null,a,l):io(s,n.child,a,l)}function O_(n,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return na(s),l=xf(n,s,a,T,m,d),S=Nf(),n!==null&&!Gt?(If(n,s,d),hs(n,s,d)):(Ke&&S&&hf(s),s.flags|=1,Zt(n,s,l,d),s.child)}function k_(n,s,a,l,d){if(n===null){var m=a.type;return typeof m=="function"&&!lf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,j_(n,s,m,l,d)):(n=Nu(a.type,null,l,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Zf(n,d)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(T,l)&&n.ref===s.ref)return hs(n,s,d)}return s.flags|=1,n=ss(m,l),n.ref=s.ref,n.return=s,s.child=n}function j_(n,s,a,l,d){if(n!==null){var m=n.memoizedProps;if(Il(m,l)&&n.ref===s.ref)if(Gt=!1,s.pendingProps=l=m,Zf(n,d))(n.flags&131072)!==0&&(Gt=!0);else return s.lanes=n.lanes,hs(n,s,d)}return $f(n,s,a,l,d)}function M_(n,s,a){var l=s.pendingProps,d=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(d=s.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return P_(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ju(s,m!==null?m.cachePool:null),m!==null?jy(s,m):Af(),b_(s);else return s.lanes=s.childLanes=536870912,P_(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(ju(s,m.cachePool),jy(s,m),zs(),s.memoizedState=null):(n!==null&&ju(s,null),Af(),zs());return Zt(n,s,d,a),s.child}function P_(n,s,a,l){var d=vf();return d=d===null?null:{parent:Lt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&ju(s,null),Af(),b_(s),n!==null&&Ml(n,s,l,!0),null}function Wu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function $f(n,s,a,l,d){return na(s),a=xf(n,s,a,l,void 0,d),l=Nf(),n!==null&&!Gt?(If(n,s,d),hs(n,s,d)):(Ke&&l&&hf(s),s.flags|=1,Zt(n,s,a,d),s.child)}function L_(n,s,a,l,d,m){return na(s),s.updateQueue=null,a=Py(s,l,a,d),My(n),l=Nf(),n!==null&&!Gt?(If(n,s,m),hs(n,s,m)):(Ke&&l&&hf(s),s.flags|=1,Zt(n,s,a,m),s.child)}function V_(n,s,a,l,d){if(na(s),s.stateNode===null){var m=Ya,T=a.contextType;typeof T=="object"&&T!==null&&(m=an(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ff,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Tf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?an(T):Ya,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Hf(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ff.enqueueReplaceState(m,m.state,null),ql(s,l,m,d),zl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,D=ia(a,S);m.props=D;var F=m.context,J=a.contextType;T=Ya,typeof J=="object"&&J!==null&&(T=an(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||F!==T)&&w_(s,m,l,T),Ps=!1;var G=s.memoizedState;m.state=G,ql(s,l,m,d),zl(),F=s.memoizedState,S||G!==F||Ps?(typeof te=="function"&&(Hf(s,a,te,l),F=s.memoizedState),(D=Ps||S_(s,a,D,l,G,F,T))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),m.props=l,m.state=F,m.context=T,l=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,bf(n,s),T=s.memoizedProps,J=ia(a,T),m.props=J,te=s.pendingProps,G=m.context,F=a.contextType,D=Ya,typeof F=="object"&&F!==null&&(D=an(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==te||G!==D)&&w_(s,m,l,D),Ps=!1,G=s.memoizedState,m.state=G,ql(s,l,m,d),zl();var $=s.memoizedState;T!==te||G!==$||Ps||n!==null&&n.dependencies!==null&&Ou(n.dependencies)?(typeof S=="function"&&(Hf(s,a,S,l),$=s.memoizedState),(J=Ps||S_(s,a,J,l,G,$,D)||n!==null&&n.dependencies!==null&&Ou(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=$),m.props=l,m.state=$,m.context=D,l=J):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,Wu(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=io(s,n.child,null,d),s.child=io(s,null,a,d)):Zt(n,s,a,d),s.memoizedState=m.state,n=s.child):n=hs(n,s,d),n}function U_(n,s,a,l){return kl(),s.flags|=256,Zt(n,s,a,l),s.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(n){return{baseLanes:n,cachePool:Ry()}}function Yf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=er),n}function B_(n,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(d?Bs(s):zs(),Ke){var S=yt,D;if(D=S){e:{for(D=S,S=Ir;D.nodeType!==8;){if(!S){S=null;break e}if(D=hr(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(s.memoizedState={dehydrated:S,treeContext:Wi!==null?{id:is,overflow:as}:null,retryLane:536870912,hydrationErrors:null},D=jn(18,null,null,0),D.stateNode=S,D.return=s,s.child=D,En=s,yt=null,D=!0):D=!1}D||ea(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Om(S)?s.lanes=32:s.lanes=536870912,null;us(s)}return S=l.children,l=l.fallback,d?(zs(),d=s.mode,S=Ju({mode:"hidden",children:S},d),l=Xi(l,d,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,d=s.child,d.memoizedState=Qf(a),d.childLanes=Yf(n,T,a),s.memoizedState=Kf,l):(Bs(s),Xf(s,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(m)s.flags&256?(Bs(s),s.flags&=-257,s=Wf(n,s,a)):s.memoizedState!==null?(zs(),s.child=n.child,s.flags|=128,s=null):(zs(),d=l.fallback,S=s.mode,l=Ju({mode:"visible",children:l.children},S),d=Xi(d,S,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,io(s,n.child,null,a),l=s.child,l.memoizedState=Qf(a),l.childLanes=Yf(n,T,a),s.memoizedState=Kf,s=d);else if(Bs(s),Om(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(i(419)),l.stack="",l.digest=T,jl({value:l,source:null,stack:null}),s=Wf(n,s,a)}else if(Gt||Ml(n,s,a,!1),T=(a&n.childLanes)!==0,Gt||T){if(T=at,T!==null&&(l=a&-a,l=(l&42)!==0?1:xs(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Qa(n,l),Un(T,n,l),D_;S.data==="$?"||pm(),s=Wf(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,yt=hr(S.nextSibling),En=s,Ke=!0,Zi=null,Ir=!1,n!==null&&(Wn[Jn++]=is,Wn[Jn++]=as,Wn[Jn++]=Wi,is=n.id,as=n.overflow,Wi=s),s=Xf(s,l.children),s.flags|=4096);return s}return d?(zs(),d=l.fallback,S=s.mode,D=n.child,F=D.sibling,l=ss(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?d=ss(F,d):(d=Xi(d,S,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,S=n.child.memoizedState,S===null?S=Qf(a):(D=S.cachePool,D!==null?(F=Lt._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Ry(),S={baseLanes:S.baseLanes|a,cachePool:D}),d.memoizedState=S,d.childLanes=Yf(n,T,a),s.memoizedState=Kf,l):(Bs(s),a=n.child,n=a.sibling,a=ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=a,s.memoizedState=null,a)}function Xf(n,s){return s=Ju({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ju(n,s){return n=jn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Wf(n,s,a){return io(s,n.child,null,a),n=Xf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function z_(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),pf(n.return,s,a)}function Jf(n,s,a,l,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function q_(n,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(Zt(n,s,l.children,a),l=Vt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&z_(n,a,s);else if(n.tag===19)z_(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Vt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Qu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Jf(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Qu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Jf(s,!0,a,null,m);break;case"together":Jf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hs(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),$s|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ml(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=ss(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ss(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Zf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ou(n)))}function ow(n,s,a){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),Ms(s,Lt,n.memoizedState.cache),kl();break;case 27:case 5:Cs(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:Ms(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?B_(n,s,a):(Bs(s),n=hs(n,s,a),n!==null?n.sibling:null);Bs(s);break;case 19:var d=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ml(n,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return q_(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(Vt,Vt.current),l)break;return null;case 22:case 23:return s.lanes=0,M_(n,s,a);case 24:Ms(s,Lt,n.memoizedState.cache)}return hs(n,s,a)}function H_(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Zf(n,a)&&(s.flags&128)===0)return Gt=!1,ow(n,s,a);Gt=(n.flags&131072)!==0}else Gt=!1,Ke&&(s.flags&1048576)!==0&&vy(s,Du,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")lf(l)?(n=ia(l,n),s.tag=1,s=V_(null,s,l,n,a)):(s.tag=0,s=$f(null,s,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===ce){s.tag=11,s=O_(null,s,l,n,a);break e}else if(d===M){s.tag=14,s=k_(null,s,l,n,a);break e}}throw s=wt(l)||l,Error(i(306,s,""))}}return s;case 0:return $f(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ia(l,s.pendingProps),V_(n,s,l,d,a);case 3:e:{if(it(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,bf(n,s),ql(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Ms(s,Lt,l),l!==m.cache&&gf(s,[Lt],a,!0),zl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=U_(n,s,l,a);break e}else if(l!==d){d=Yn(Error(i(424)),s),jl(d),s=U_(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yt=hr(n.firstChild),En=s,Ke=!0,Zi=null,Ir=!0,a=T_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(kl(),l===d){s=hs(n,s,a);break e}Zt(n,s,l,a)}s=s.child}return s;case 26:return Wu(n,s),n===null?(a=Kv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,n=s.pendingProps,l=dh(we.current).createElement(a),l[jt]=s,l[At]=n,tn(l,a,n),vt(l),s.stateNode=l):s.memoizedState=Kv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Cs(s),n===null&&Ke&&(l=s.stateNode=Fv(s.type,s.pendingProps,we.current),En=s,Ir=!0,d=yt,Xs(s.type)?(km=d,yt=hr(l.firstChild)):yt=d),Zt(n,s,s.pendingProps.children,a),Wu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((d=l=yt)&&(l=Mw(l,s.type,s.pendingProps,Ir),l!==null?(s.stateNode=l,En=s,yt=hr(l.firstChild),Ir=!1,d=!0):d=!1),d||ea(s)),Cs(s),d=s.type,m=s.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Nm(d,m)?l=null:T!==null&&Nm(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=xf(n,s,ZS,null,null,a),uc._currentValue=d),Wu(n,s),Zt(n,s,l,a),s.child;case 6:return n===null&&Ke&&((n=a=yt)&&(a=Pw(a,s.pendingProps,Ir),a!==null?(s.stateNode=a,En=s,yt=null,n=!0):n=!1),n||ea(s)),null;case 13:return B_(n,s,a);case 4:return it(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=io(s,null,l,a):Zt(n,s,l,a),s.child;case 11:return O_(n,s,s.type,s.pendingProps,a);case 7:return Zt(n,s,s.pendingProps,a),s.child;case 8:return Zt(n,s,s.pendingProps.children,a),s.child;case 12:return Zt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ms(s,s.type,l.value),Zt(n,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,na(s),d=an(d),l=l(d),s.flags|=1,Zt(n,s,l,a),s.child;case 14:return k_(n,s,s.type,s.pendingProps,a);case 15:return j_(n,s,s.type,s.pendingProps,a);case 19:return q_(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Ju(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ss(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return M_(n,s,a);case 24:return na(s),l=an(Lt),n===null?(d=vf(),d===null&&(d=at,m=yf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},Tf(s),Ms(s,Lt,d)):((n.lanes&a)!==0&&(bf(n,s),ql(s,null,null,a),zl()),d=n.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ms(s,Lt,l)):(l=m.cache,Ms(s,Lt,l),l!==d.cache&&gf(s,[Lt],a,!0))),Zt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ds(n){n.flags|=4}function F_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jv(s)){if(s=Zn.current,s!==null&&((Be&4194048)===Be?Dr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Dr))throw Ul=Ef,Cy;n.flags|=8192}}function Zu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?dl():536870912,n.lanes|=s,co|=s)}function Yl(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ft(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function lw(n,s,a){var l=s.pendingProps;switch(df(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ls(Lt),_r(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ol(s)?ds(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,by())),ft(s),null;case 26:return a=s.memoizedState,n===null?(ds(s),a!==null?(ft(s),F_(s,a)):(ft(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ds(s),ft(s),F_(s,a)):(ft(s),s.flags&=-16777217):(n.memoizedProps!==l&&ds(s),ft(s),s.flags&=-16777217),null;case 27:Gr(s),a=we.current;var d=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ft(s),null}n=_e.current,Ol(s)?Ey(s):(n=Fv(d,l,a),s.stateNode=n,ds(s))}return ft(s),null;case 5:if(Gr(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(n=_e.current,Ol(s))Ey(s);else{switch(d=dh(we.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[jt]=s,n[At]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=n;e:switch(tn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ds(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=we.current,Ol(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,d=En,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[jt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Lv(n.nodeValue,a)),n||ea(s)}else n=dh(n).createTextNode(l),n[jt]=s,s.stateNode=n}return ft(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ol(s),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[jt]=s}else kl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),d=!1}else d=by(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(us(s),s):(us(s),null)}if(us(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Zu(s,s.updateQueue),ft(s),null;case 4:return _r(),n===null&&wm(s.stateNode.containerInfo),ft(s),null;case 10:return ls(s.type),ft(s),null;case 19:if(le(Vt),d=s.memoizedState,d===null)return ft(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)Yl(d,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Qu(n),m!==null){for(s.flags|=128,Yl(d,!1),n=m.updateQueue,s.updateQueue=n,Zu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)_y(a,n),a=a.sibling;return ie(Vt,Vt.current&1|2),s.child}n=n.sibling}d.tail!==null&&Hn()>nh&&(s.flags|=128,l=!0,Yl(d,!1),s.lanes=4194304)}else{if(!l)if(n=Qu(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Zu(s,n),Yl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ke)return ft(s),null}else 2*Hn()-d.renderingStartTime>nh&&a!==536870912&&(s.flags|=128,l=!0,Yl(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(n=d.last,n!==null?n.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Hn(),s.sibling=null,n=Vt.current,ie(Vt,l?n&1|2:n&1),s):(ft(s),null);case 22:case 23:return us(s),Rf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),a=s.updateQueue,a!==null&&Zu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&le(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ls(Lt),ft(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function cw(n,s){switch(df(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ls(Lt),_r(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Gr(s),null;case 13:if(us(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));kl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return le(Vt),null;case 4:return _r(),null;case 10:return ls(s.type),null;case 22:case 23:return us(s),Rf(),n!==null&&le(ra),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ls(Lt),null;case 25:return null;default:return null}}function G_(n,s){switch(df(s),s.tag){case 3:ls(Lt),_r();break;case 26:case 27:case 5:Gr(s);break;case 4:_r();break;case 13:us(s);break;case 19:le(Vt);break;case 10:ls(s.type);break;case 22:case 23:us(s),Rf(),n!==null&&le(ra);break;case 24:ls(Lt)}}function Xl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==d)}}catch(S){st(s,s.return,S)}}function qs(n,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&n)===n){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=s;var D=a,F=S;try{F()}catch(J){st(d,D,J)}}}l=l.next}while(l!==m)}}catch(J){st(s,s.return,J)}}function $_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{ky(s,a)}catch(l){st(n,n.return,l)}}}function K_(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){st(n,s,l)}}function Wl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){st(n,s,d)}}function Or(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){st(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){st(n,s,d)}else a.current=null}function Q_(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){st(n,n.return,d)}}function em(n,s,a){try{var l=n.stateNode;Iw(l,n.type,a,s),l[At]=s}catch(d){st(n,n.return,d)}}function Y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xs(n.type)||n.tag===4}function tm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hh));else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(nm(n,s,a),n=n.sibling;n!==null;)nm(n,s,a),n=n.sibling}function eh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(eh(n,s,a),n=n.sibling;n!==null;)eh(n,s,a),n=n.sibling}function X_(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);tn(s,l,a),s[jt]=n,s[At]=a}catch(m){st(n,n.return,m)}}var fs=!1,Tt=!1,rm=!1,W_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function uw(n,s){if(n=n.containerInfo,Cm=_h,n=ly(n),ef(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,S=-1,D=-1,F=0,J=0,te=n,G=null;t:for(;;){for(var $;te!==a||d!==0&&te.nodeType!==3||(S=T+d),te!==m||l!==0&&te.nodeType!==3||(D=T+l),te.nodeType===3&&(T+=te.nodeValue.length),($=te.firstChild)!==null;)G=te,te=$;for(;;){if(te===n)break t;if(G===a&&++F===d&&(S=T),G===m&&++J===l&&(D=T),($=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=$}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(xm={focusedElem:n,selectionRange:a},_h=!1,$t=s;$t!==null;)if(s=$t,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,$t=n;else for(;$t!==null;){switch(s=$t,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Se=ia(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){st(a,a.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Dm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,$t=n;break}$t=s.return}}function J_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hs(n,a),l&4&&Xl(5,a);break;case 1:if(Hs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(T){st(a,a.return,T)}else{var d=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){st(a,a.return,T)}}l&64&&$_(a),l&512&&Wl(a,a.return);break;case 3:if(Hs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ky(n,s)}catch(T){st(a,a.return,T)}}break;case 27:s===null&&l&4&&X_(a);case 26:case 5:Hs(n,a),s===null&&l&4&&Q_(a),l&512&&Wl(a,a.return);break;case 12:Hs(n,a);break;case 13:Hs(n,a),l&4&&tv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=vw.bind(null,a),Lw(n,a))));break;case 22:if(l=a.memoizedState!==null||fs,!l){s=s!==null&&s.memoizedState!==null||Tt,d=fs;var m=Tt;fs=l,(Tt=s)&&!m?Fs(n,a,(a.subtreeFlags&8772)!==0):Hs(n,a),fs=d,Tt=m}break;case 30:break;default:Hs(n,a)}}function Z_(n){var s=n.alternate;s!==null&&(n.alternate=null,Z_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ds(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,Rn=!1;function ms(n,s,a){for(a=a.child;a!==null;)ev(n,s,a),a=a.sibling}function ev(n,s,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gt,a)}catch{}switch(a.tag){case 26:Tt||Or(a,s),ms(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||Or(a,s);var l=ut,d=Rn;Xs(a.type)&&(ut=a.stateNode,Rn=!1),ms(n,s,a),ac(a.stateNode),ut=l,Rn=d;break;case 5:Tt||Or(a,s);case 6:if(l=ut,d=Rn,ut=null,ms(n,s,a),ut=l,Rn=d,ut!==null)if(Rn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){st(a,s,m)}else try{ut.removeChild(a.stateNode)}catch(m){st(a,s,m)}break;case 18:ut!==null&&(Rn?(n=ut,qv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),mc(n)):qv(ut,a.stateNode));break;case 4:l=ut,d=Rn,ut=a.stateNode.containerInfo,Rn=!0,ms(n,s,a),ut=l,Rn=d;break;case 0:case 11:case 14:case 15:Tt||qs(2,a,s),Tt||qs(4,a,s),ms(n,s,a);break;case 1:Tt||(Or(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&K_(a,s,l)),ms(n,s,a);break;case 21:ms(n,s,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,ms(n,s,a),Tt=l;break;default:ms(n,s,a)}}function tv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{mc(n)}catch(a){st(s,s.return,a)}}function hw(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new W_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new W_),s;default:throw Error(i(435,n.tag))}}function sm(n,s){var a=hw(n);s.forEach(function(l){var d=Ew.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Mn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=n,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Xs(S.type)){ut=S.stateNode,Rn=!1;break e}break;case 5:ut=S.stateNode,Rn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(ut===null)throw Error(i(160));ev(m,T,d),ut=null,Rn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)nv(s,n),s=s.sibling}var ur=null;function nv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mn(s,n),Pn(n),l&4&&(qs(3,n,n.return),Xl(3,n),qs(5,n,n.return));break;case 1:Mn(s,n),Pn(n),l&512&&(Tt||a===null||Or(a,a.return)),l&64&&fs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ur;if(Mn(s,n),Pn(n),l&512&&(Tt||a===null||Or(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ji]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),tn(m,l,a),m[jt]=n,vt(m),l=m;break e;case"link":var T=Xv("link","href",d).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}m=d.createElement(l),tn(m,l,a),d.head.appendChild(m);break;case"meta":if(T=Xv("meta","content",d).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}m=d.createElement(l),tn(m,l,a),d.head.appendChild(m);break;default:throw Error(i(468,l))}m[jt]=n,vt(m),l=m}n.stateNode=l}else Wv(d,n.type,n.stateNode);else n.stateNode=Yv(d,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Wv(d,n.type,n.stateNode):Yv(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&em(n,n.memoizedProps,a.memoizedProps)}break;case 27:Mn(s,n),Pn(n),l&512&&(Tt||a===null||Or(a,a.return)),a!==null&&l&4&&em(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Mn(s,n),Pn(n),l&512&&(Tt||a===null||Or(a,a.return)),n.flags&32){d=n.stateNode;try{Gn(d,"")}catch($){st(n,n.return,$)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,em(n,d,a!==null?a.memoizedProps:d)),l&1024&&(rm=!0);break;case 6:if(Mn(s,n),Pn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){st(n,n.return,$)}}break;case 3:if(ph=null,d=ur,ur=fh(s.containerInfo),Mn(s,n),ur=d,Pn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mc(s.containerInfo)}catch($){st(n,n.return,$)}rm&&(rm=!1,rv(n));break;case 4:l=ur,ur=fh(n.stateNode.containerInfo),Mn(s,n),Pn(n),ur=l;break;case 12:Mn(s,n),Pn(n);break;case 13:Mn(s,n),Pn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(um=Hn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sm(n,l)));break;case 22:d=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=fs,J=Tt;if(fs=F||d,Tt=J||D,Mn(s,n),Tt=J,fs=F,Pn(n),l&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||D||fs||Tt||aa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var te=D.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){st(D,D.return,$)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch($){st(D,D.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sm(n,a))));break;case 19:Mn(s,n),Pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sm(n,l)));break;case 30:break;case 21:break;default:Mn(s,n),Pn(n)}}function Pn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Y_(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,m=tm(n);eh(n,m,d);break;case 5:var T=a.stateNode;a.flags&32&&(Gn(T,""),a.flags&=-33);var S=tm(n);eh(n,S,T);break;case 3:case 4:var D=a.stateNode.containerInfo,F=tm(n);nm(n,F,D);break;default:throw Error(i(161))}}catch(J){st(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;rv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Hs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J_(n,s.alternate,s),s=s.sibling}function aa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),aa(s);break;case 1:Or(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&K_(s,s.return,a),aa(s);break;case 27:ac(s.stateNode);case 26:case 5:Or(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}n=n.sibling}}function Fs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=n,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Fs(d,m,a),Xl(4,m);break;case 1:if(Fs(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){st(l,l.return,F)}if(l=m,d=l.updateQueue,d!==null){var S=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Oy(D[d],S)}catch(F){st(l,l.return,F)}}a&&T&64&&$_(m),Wl(m,m.return);break;case 27:X_(m);case 26:case 5:Fs(d,m,a),a&&l===null&&T&4&&Q_(m),Wl(m,m.return);break;case 12:Fs(d,m,a);break;case 13:Fs(d,m,a),a&&T&4&&tv(d,m);break;case 22:m.memoizedState===null&&Fs(d,m,a),Wl(m,m.return);break;case 30:break;default:Fs(d,m,a)}s=s.sibling}}function im(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Pl(a))}function am(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n))}function kr(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sv(n,s,a,l),s=s.sibling}function sv(n,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:kr(n,s,a,l),d&2048&&Xl(9,s);break;case 1:kr(n,s,a,l);break;case 3:kr(n,s,a,l),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n)));break;case 12:if(d&2048){kr(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){st(s,s.return,D)}}else kr(n,s,a,l);break;case 13:kr(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?kr(n,s,a,l):Jl(n,s):m._visibility&2?kr(n,s,a,l):(m._visibility|=2,ao(n,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&im(T,s);break;case 24:kr(n,s,a,l),d&2048&&am(s.alternate,s);break;default:kr(n,s,a,l)}}function ao(n,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,T=s,S=a,D=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:ao(m,T,S,D,d),Xl(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?ao(m,T,S,D,d):Jl(m,T):(J._visibility|=2,ao(m,T,S,D,d)),d&&F&2048&&im(T.alternate,T);break;case 24:ao(m,T,S,D,d),d&&F&2048&&am(T.alternate,T);break;default:ao(m,T,S,D,d)}s=s.sibling}}function Jl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,d=l.flags;switch(l.tag){case 22:Jl(a,l),d&2048&&im(l.alternate,l);break;case 24:Jl(a,l),d&2048&&am(l.alternate,l);break;default:Jl(a,l)}s=s.sibling}}var Zl=8192;function oo(n){if(n.subtreeFlags&Zl)for(n=n.child;n!==null;)iv(n),n=n.sibling}function iv(n){switch(n.tag){case 26:oo(n),n.flags&Zl&&n.memoizedState!==null&&Xw(ur,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var s=ur;ur=fh(n.stateNode.containerInfo),oo(n),ur=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Zl,Zl=16777216,oo(n),Zl=s):oo(n));break;default:oo(n)}}function av(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ec(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,lv(l,n)}av(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ov(n),n=n.sibling}function ov(n){switch(n.tag){case 0:case 11:case 15:ec(n),n.flags&2048&&qs(9,n,n.return);break;case 3:ec(n);break;case 12:ec(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,th(n)):ec(n);break;default:ec(n)}}function th(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$t=l,lv(l,n)}av(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:qs(8,s,s.return),th(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,th(s));break;default:th(s)}n=n.sibling}}function lv(n,s){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:qs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=n;$t!==null;){l=$t;var d=l.sibling,m=l.return;if(Z_(l),l===a){$t=null;break e}if(d!==null){d.return=m,$t=d;break e}$t=m}}}var dw={getCacheForType:function(n){var s=an(Lt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},fw=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,ke=null,Be=0,Je=0,Ln=null,Gs=!1,lo=!1,om=!1,ps=0,_t=0,$s=0,oa=0,lm=0,er=0,co=0,tc=null,Cn=null,cm=!1,um=0,nh=1/0,rh=null,Ks=null,en=0,Qs=null,uo=null,ho=0,hm=0,dm=null,cv=null,nc=0,fm=null;function Vn(){if((We&2)!==0&&Be!==0)return Be&-Be;if(W.T!==null){var n=Ja;return n!==0?n:Em()}return Ns()}function uv(){er===0&&(er=(Be&536870912)===0||Ke?hl():536870912);var n=Zn.current;return n!==null&&(n.flags|=32),er}function Un(n,s,a){(n===at&&(Je===2||Je===9)||n.cancelPendingCommit!==null)&&(fo(n,0),Ys(n,Be,er,!1)),Kr(n,a),((We&2)===0||n!==at)&&(n===at&&((We&2)===0&&(oa|=a),_t===4&&Ys(n,Be,er,!1)),jr(n))}function hv(n,s,a){if((We&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||ki(n,s),d=l?gw(n,s):gm(n,s,!0),m=l;do{if(d===0){lo&&!l&&Ys(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!mw(a)){d=gm(n,s,!1),m=!1;continue}if(d===2){if(m=s,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=n;d=tc;var D=S.current.memoizedState.isDehydrated;if(D&&(fo(S,T).flags|=256),T=gm(S,T,!1),T!==2){if(om&&!D){S.errorRecoveryDisabledLanes|=m,oa|=m,d=4;break e}m=Cn,Cn=d,m!==null&&(Cn===null?Cn=m:Cn.push.apply(Cn,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){fo(n,0),Ys(n,s,0,!0);break}e:{switch(l=n,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ys(l,s,er,!Gs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=um+300-Hn(),10<d)){if(Ys(l,s,er,!Gs),Na(l,0,!0)!==0)break e;l.timeoutHandle=Bv(dv.bind(null,l,a,Cn,rh,cm,s,er,oa,co,Gs,m,2,-0,0),d);break e}dv(l,a,Cn,rh,cm,s,er,oa,co,Gs,m,0,-0,0)}}break}while(!0);jr(n)}function dv(n,s,a,l,d,m,T,S,D,F,J,te,G,$){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(cc={stylesheets:null,count:0,unsuspend:Yw},iv(s),te=Ww(),te!==null)){n.cancelPendingCommit=te(vv.bind(null,n,s,m,a,l,d,T,S,D,J,1,G,$)),Ys(n,m,T,!F);return}vv(n,s,m,a,l,d,T,S,D)}function mw(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!kn(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(n,s,a,l){s&=~lm,s&=~oa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var d=s;0<d;){var m=31-sn(d),T=1<<m;l[m]=-1,d&=~T}a!==0&&vr(n,a,s)}function sh(){return(We&6)===0?(rc(0),!1):!0}function mm(){if(ke!==null){if(Je===0)var n=ke.return;else n=ke,os=ta=null,Df(n),so=null,Kl=0,n=ke;for(;n!==null;)G_(n.alternate,n),n=n.return;ke=null}}function fo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Ow(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),mm(),at=n,ke=a=ss(n.current,null),Be=s,Je=0,Ln=null,Gs=!1,lo=ki(n,s),om=!1,co=er=lm=oa=$s=_t=0,Cn=tc=null,cm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var d=31-sn(l),m=1<<d;s|=n[d],l&=~m}return ps=s,Ru(),a}function fv(n,s){Ie=null,W.H=Gu,s===Vl||s===Mu?(s=Iy(),Je=3):s===Cy?(s=Iy(),Je=4):Je=s===D_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,ke===null&&(_t=1,Xu(n,Yn(s,n.current)))}function mv(){var n=W.H;return W.H=Gu,n===null?Gu:n}function pv(){var n=W.A;return W.A=dw,n}function pm(){_t=4,Gs||(Be&4194048)!==Be&&Zn.current!==null||(lo=!0),($s&134217727)===0&&(oa&134217727)===0||at===null||Ys(at,Be,er,!1)}function gm(n,s,a){var l=We;We|=2;var d=mv(),m=pv();(at!==n||Be!==s)&&(rh=null,fo(n,s)),s=!1;var T=_t;e:do try{if(Je!==0&&ke!==null){var S=ke,D=Ln;switch(Je){case 8:mm(),T=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(s=!0);var F=Je;if(Je=0,Ln=null,mo(n,S,D,F),a&&lo){T=0;break e}break;default:F=Je,Je=0,Ln=null,mo(n,S,D,F)}}pw(),T=_t;break}catch(J){fv(n,J)}while(!0);return s&&n.shellSuspendCounter++,os=ta=null,We=l,W.H=d,W.A=m,ke===null&&(at=null,Be=0,Ru()),T}function pw(){for(;ke!==null;)gv(ke)}function gw(n,s){var a=We;We|=2;var l=mv(),d=pv();at!==n||Be!==s?(rh=null,nh=Hn()+500,fo(n,s)):lo=ki(n,s);e:do try{if(Je!==0&&ke!==null){s=ke;var m=Ln;t:switch(Je){case 1:Je=0,Ln=null,mo(n,s,m,1);break;case 2:case 9:if(xy(m)){Je=0,Ln=null,yv(s);break}s=function(){Je!==2&&Je!==9||at!==n||(Je=7),jr(n)},m.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:xy(m)?(Je=0,Ln=null,yv(s)):(Je=0,Ln=null,mo(n,s,m,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var S=ke;if(!T||Jv(T)){Je=0,Ln=null;var D=S.sibling;if(D!==null)ke=D;else{var F=S.return;F!==null?(ke=F,ih(F)):ke=null}break t}}Je=0,Ln=null,mo(n,s,m,5);break;case 6:Je=0,Ln=null,mo(n,s,m,6);break;case 8:mm(),_t=6;break e;default:throw Error(i(462))}}yw();break}catch(J){fv(n,J)}while(!0);return os=ta=null,W.H=l,W.A=d,We=a,ke!==null?0:(at=null,Be=0,Ru(),_t)}function yw(){for(;ke!==null&&!ol();)gv(ke)}function gv(n){var s=H_(n.alternate,n,ps);n.memoizedProps=n.pendingProps,s===null?ih(n):ke=s}function yv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=L_(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=L_(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Df(s);default:G_(a,s),s=ke=_y(s,ps),s=H_(a,s,ps)}n.memoizedProps=n.pendingProps,s===null?ih(n):ke=s}function mo(n,s,a,l){os=ta=null,Df(s),so=null,Kl=0;var d=s.return;try{if(aw(n,d,s,a,Be)){_t=1,Xu(n,Yn(a,n.current)),ke=null;return}}catch(m){if(d!==null)throw ke=d,m;_t=1,Xu(n,Yn(a,n.current)),ke=null;return}s.flags&32768?(Ke||l===1?n=!0:lo||(Be&536870912)!==0?n=!1:(Gs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_v(s,n)):ih(s)}function ih(n){var s=n;do{if((s.flags&32768)!==0){_v(s,Gs);return}n=s.return;var a=lw(s.alternate,s,ps);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=n}while(s!==null);_t===0&&(_t=5)}function _v(n,s){do{var a=cw(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);_t=6,ke=null}function vv(n,s,a,l,d,m,T,S,D){n.cancelPendingCommit=null;do ah();while(en!==0);if((We&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=af,fl(n,a,m,T,S,D),n===at&&(ke=at=null,Be=0),uo=s,Qs=n,ho=a,hm=m,dm=d,cv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Tw(Ni,function(){return wv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=ae.p,ae.p=2,T=We,We|=4;try{uw(n,s,a)}finally{We=T,ae.p=d,W.T=l}}en=1,Ev(),Tv(),bv()}}function Ev(){if(en===1){en=0;var n=Qs,s=uo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var d=We;We|=4;try{nv(s,n);var m=xm,T=ly(n.containerInfo),S=m.focusedElem,D=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&oy(S.ownerDocument.documentElement,S)){if(D!==null&&ef(S)){var F=D.start,J=D.end;if(J===void 0&&(J=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var $=G.getSelection(),Se=S.textContent.length,Ee=Math.min(D.start,Se),nt=D.end===void 0?Ee:Math.min(D.end,Se);!$.extend&&Ee>nt&&(T=nt,nt=Ee,Ee=T);var z=ay(S,Ee),P=ay(S,nt);if(z&&P&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var H=te.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),Ee>nt?($.addRange(H),$.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),$.addRange(H))}}}}for(te=[],$=S;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}_h=!!Cm,xm=Cm=null}finally{We=d,ae.p=l,W.T=a}}n.current=s,en=2}}function Tv(){if(en===2){en=0;var n=Qs,s=uo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var d=We;We|=4;try{J_(n,s.alternate,s)}finally{We=d,ae.p=l,W.T=a}}en=3}}function bv(){if(en===4||en===3){en=0,tu();var n=Qs,s=uo,a=ho,l=cv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,uo=Qs=null,Sv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Ks=null),Ia(a),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,d=ae.p,ae.p=2,W.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{W.T=s,ae.p=d}}(ho&3)!==0&&ah(),jr(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===fm?nc++:(nc=0,fm=n):nc=0,rc(0)}}function Sv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pl(s)))}function ah(n){return Ev(),Tv(),bv(),wv()}function wv(){if(en!==5)return!1;var n=Qs,s=hm;hm=0;var a=Ia(ho),l=W.T,d=ae.p;try{ae.p=32>a?32:a,W.T=null,a=dm,dm=null;var m=Qs,T=ho;if(en=0,uo=Qs=null,ho=0,(We&6)!==0)throw Error(i(331));var S=We;if(We|=4,ov(m.current),sv(m,m.current,T,a),We=S,rc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gt,m)}catch{}return!0}finally{ae.p=d,W.T=l,Sv(n,s)}}function Av(n,s,a){s=Yn(a,s),s=Gf(n.stateNode,s,2),n=Vs(n,s,2),n!==null&&(Kr(n,2),jr(n))}function st(n,s,a){if(n.tag===3)Av(n,n,a);else for(;s!==null;){if(s.tag===3){Av(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){n=Yn(a,n),a=N_(2),l=Vs(s,a,2),l!==null&&(I_(a,l,s,n),Kr(l,2),jr(l));break}}s=s.return}}function ym(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new fw;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(om=!0,d.add(a),n=_w.bind(null,n,s,a),s.then(n,n))}function _w(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(Be&a)===a&&(_t===4||_t===3&&(Be&62914560)===Be&&300>Hn()-um?(We&2)===0&&fo(n,0):lm|=a,co===Be&&(co=0)),jr(n)}function Rv(n,s){s===0&&(s=dl()),n=Qa(n,s),n!==null&&(Kr(n,s),jr(n))}function vw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Rv(n,a)}function Ew(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Rv(n,a)}function Tw(n,s){return Ci(n,s)}var oh=null,po=null,_m=!1,lh=!1,vm=!1,la=0;function jr(n){n!==po&&n.next===null&&(po===null?oh=po=n:po=po.next=n),lh=!0,_m||(_m=!0,Sw())}function rc(n,s){if(!vm&&lh){vm=!0;do for(var a=!1,l=oh;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-sn(42|n)+1)-1,m&=d&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Iv(l,m))}else m=Be,m=Na(l,l===at?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ki(l,m)||(a=!0,Iv(l,m));l=l.next}while(a);vm=!1}}function bw(){Cv()}function Cv(){lh=_m=!1;var n=0;la!==0&&(Dw()&&(n=la),la=0);for(var s=Hn(),a=null,l=oh;l!==null;){var d=l.next,m=xv(l,s);m===0?(l.next=null,a===null?oh=d:a.next=d,d===null&&(po=a)):(a=l,(n!==0||(m&3)!==0)&&(lh=!0)),l=d}rc(n)}function xv(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-sn(m),S=1<<T,D=d[T];D===-1?((S&a)===0||(S&l)!==0)&&(d[T]=ul(S,s)):D<=s&&(n.expiredLanes|=S),m&=~S}if(s=at,a=Be,a=Na(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Je===2||Je===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&xi(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ki(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&xi(l),Ia(a)){case 2:case 8:a=Ca;break;case 32:a=Ni;break;case 268435456:a=xa;break;default:a=Ni}return l=Nv.bind(null,n),a=Ci(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&xi(l),n.callbackPriority=2,n.callbackNode=null,2}function Nv(n,s){if(en!==0&&en!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ah()&&n.callbackNode!==a)return null;var l=Be;return l=Na(n,n===at?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(hv(n,l,s),xv(n,Hn()),n.callbackNode!=null&&n.callbackNode===a?Nv.bind(null,n):null)}function Iv(n,s){if(ah())return null;hv(n,s,!0)}function Sw(){kw(function(){(We&6)!==0?Ci(ll,bw):Cv()})}function Em(){return la===0&&(la=hl()),la}function Dv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Pa(""+n)}function Ov(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function ww(n,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=Dv((d[At]||null).action),T=l.submitter;T&&(s=(s=T[At]||null)?Dv(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var S=new La("action","action",null,l,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var D=T?Ov(d,T):new FormData(d);Bf(a,{pending:!0,data:D,method:d.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=T?Ov(d,T):new FormData(d),Bf(a,{pending:!0,data:D,method:d.method,action:m},m,D))},currentTarget:d}]})}}for(var Tm=0;Tm<sf.length;Tm++){var bm=sf[Tm],Aw=bm.toLowerCase(),Rw=bm[0].toUpperCase()+bm.slice(1);cr(Aw,"on"+Rw)}cr(hy,"onAnimationEnd"),cr(dy,"onAnimationIteration"),cr(fy,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(HS,"onTransitionRun"),cr(FS,"onTransitionStart"),cr(GS,"onTransitionCancel"),cr(my,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function kv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var S=l[T],D=S.instance,F=S.currentTarget;if(S=S.listener,D!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=F;try{m(d)}catch(J){Yu(J)}d.currentTarget=null,m=D}else for(T=0;T<l.length;T++){if(S=l[T],D=S.instance,F=S.currentTarget,S=S.listener,D!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=F;try{m(d)}catch(J){Yu(J)}d.currentTarget=null,m=D}}}}function je(n,s){var a=s[pl];a===void 0&&(a=s[pl]=new Set);var l=n+"__bubble";a.has(l)||(jv(s,n,2,!1),a.add(l))}function Sm(n,s,a){var l=0;s&&(l|=4),jv(a,n,l,s)}var ch="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[ch]){n[ch]=!0,gl.forEach(function(a){a!=="selectionchange"&&(Cw.has(a)||Sm(a,!1,n),Sm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ch]||(s[ch]=!0,Sm("selectionchange",!1,s))}}function jv(n,s,a,l){switch(sE(s)){case 2:var d=eA;break;case 8:d=tA;break;default:d=Vm}a=d.bind(null,s,a,n),d=void 0,!Kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Am(n,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Qr(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=m=T;continue e}S=S.parentNode}}l=l.return}hu(function(){var F=m,J=$n(a),te=[];e:{var G=py.get(n);if(G!==void 0){var $=La,Se=n;switch(n){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":$=Ha;break;case"focusin":Se="focus",$=Ba;break;case"focusout":Se="blur",$=Ba;break;case"beforeblur":case"afterblur":$=Ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=vu;break;case hy:case dy:case fy:$=za;break;case my:$=Tu;break;case"scroll":case"scrollend":$=du;break;case"wheel":$=Fa;break;case"copy":case"cut":case"paste":$=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=xl;break;case"toggle":case"beforetoggle":$=Su}var Ee=(s&4)!==0,nt=!Ee&&(n==="scroll"||n==="scrollend"),z=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var P=F,H;P!==null;){var ee=P;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=zi(P,z),ee!=null&&Ee.push(ic(P,ee,H))),nt)break;P=P.return}0<Ee.length&&(G=new $(G,Se,null,a,J),te.push({event:G,listeners:Ee}))}}if((s&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",G&&a!==Jr&&(Se=a.relatedTarget||a.fromElement)&&(Qr(Se)||Se[Fn]))break e;if(($||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,$?(Se=a.relatedTarget||a.toElement,$=F,Se=Se?Qr(Se):null,Se!==null&&(nt=c(Se),Ee=Se.tag,Se!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(Se=null)):($=null,Se=F),$!==Se)){if(Ee=Qn,ee="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=xl,ee="onPointerLeave",z="onPointerEnter",P="pointer"),nt=$==null?G:Tr($),H=Se==null?G:Tr(Se),G=new Ee(ee,P+"leave",$,a,J),G.target=nt,G.relatedTarget=H,ee=null,Qr(J)===F&&(Ee=new Ee(z,P+"enter",Se,a,J),Ee.target=H,Ee.relatedTarget=nt,ee=Ee),nt=ee,$&&Se)t:{for(Ee=$,z=Se,P=0,H=Ee;H;H=go(H))P++;for(H=0,ee=z;ee;ee=go(ee))H++;for(;0<P-H;)Ee=go(Ee),P--;for(;0<H-P;)z=go(z),H--;for(;P--;){if(Ee===z||z!==null&&Ee===z.alternate)break t;Ee=go(Ee),z=go(z)}Ee=null}else Ee=null;$!==null&&Mv(te,G,$,Ee,!1),Se!==null&&nt!==null&&Mv(te,nt,Se,Ee,!0)}}e:{if(G=F?Tr(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var fe=ey;else if(Pt(G))if(ty)fe=BS;else{fe=VS;var Oe=LS}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Tl(F.elementType)&&(fe=ey):fe=US;if(fe&&(fe=fe(n,F))){rs(te,fe,a,J);break e}Oe&&Oe(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ks(G,"number",G.value)}switch(Oe=F?Tr(F):window,n){case"focusin":(Pt(Oe)||Oe.contentEditable==="true")&&(Ga=Oe,tf=F,Dl=null);break;case"focusout":Dl=tf=Ga=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,cy(te,a,J);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":cy(te,a,J)}var ye;if(xr)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ve?X(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(E&&a.locale!=="ko"&&(Ve||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ve&&(ye=Sl()):(wr=J,js="value"in wr?wr.value:wr.textContent,Ve=!0)),Oe=uh(F,Te),0<Oe.length&&(Te=new Rl(Te,n,null,a,J),te.push({event:Te,listeners:Oe}),ye?Te.data=ye:(ye=oe(a),ye!==null&&(Te.data=ye)))),(ye=_?Mt(n,a):Ue(n,a))&&(Te=uh(F,"onBeforeInput"),0<Te.length&&(Oe=new Rl("onBeforeInput","beforeinput",null,a,J),te.push({event:Oe,listeners:Te}),Oe.data=ye)),ww(te,n,F,a,J)}kv(te,s)})}function ic(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=zi(n,a),d!=null&&l.unshift(ic(n,d,m)),d=zi(n,s),d!=null&&l.push(ic(n,d,m))),n.tag===3)return l;n=n.return}return[]}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Mv(n,s,a,l,d){for(var m=s._reactName,T=[];a!==null&&a!==l;){var S=a,D=S.alternate,F=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||F===null||(D=F,d?(F=zi(a,m),F!=null&&T.unshift(ic(a,F,D))):d||(F=zi(a,m),F!=null&&T.push(ic(a,F,D)))),a=a.return}T.length!==0&&n.push({event:s,listeners:T})}var xw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Pv(n){return(typeof n=="string"?n:""+n).replace(xw,`
`).replace(Nw,"")}function Lv(n,s){return s=Pv(s),Pv(n)===s}function hh(){}function tt(n,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Gn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Gn(n,""+l);break;case"className":br(n,"class",l);break;case"tabIndex":br(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(n,a,l);break;case"style":El(n,l,m);break;case"data":if(s!=="object"){br(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&tt(n,s,"name",d.name,d,null),tt(n,s,"formEncType",d.formEncType,d,null),tt(n,s,"formMethod",d.formMethod,d,null),tt(n,s,"formTarget",d.formTarget,d,null)):(tt(n,s,"encType",d.encType,d,null),tt(n,s,"method",d.method,d,null),tt(n,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=hh);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),Os(n,"popover",l);break;case"xlinkActuate":Wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Os(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qd.get(a)||a,Os(n,a,l))}}function Rm(n,s,a,l,d,m){switch(a){case"style":El(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Gn(n,l):(typeof l=="number"||typeof l=="bigint")&&Gn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=n[At]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Os(n,a,l)}}}function tn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(n,s,m,T,a,null)}}d&&tt(n,s,"srcSet",a.srcSet,a,null),l&&tt(n,s,"src",a.src,a,null);return;case"input":je("invalid",n);var S=m=T=d=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":T=J;break;case"checked":D=J;break;case"defaultChecked":F=J;break;case"value":m=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:tt(n,s,l,J,a,null)}}Vi(n,m,S,D,F,T,d,!1),Ma(n);return;case"select":je("invalid",n),l=T=m=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:tt(n,s,d,S,a,null)}s=m,a=T,n.multiple=!!l,s!=null?Wr(n,!!l,s,!1):a!=null&&Wr(n,!!l,a,!0);return;case"textarea":je("invalid",n),m=d=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:tt(n,s,T,S,a,null)}Ui(n,l,d,m),Ma(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,s,D,l,a,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<sc.length;l++)je(sc[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(n,s,F,l,a,null)}return;default:if(Tl(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Rm(n,s,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(n,s,S,l,a,null))}function Iw(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,S=null,D=null,F=null,J=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty($)||tt(n,s,$,null,l,te)}}for(var G in l){var $=l[G];if(te=a[G],l.hasOwnProperty(G)&&($!=null||te!=null))switch(G){case"type":m=$;break;case"name":d=$;break;case"checked":F=$;break;case"defaultChecked":J=$;break;case"value":T=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:$!==te&&tt(n,s,G,$,l,te)}}On(n,T,S,D,F,J,m,d);return;case"select":$=T=S=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(m)||tt(n,s,m,null,l,D)}for(d in l)if(m=l[d],D=a[d],l.hasOwnProperty(d)&&(m!=null||D!=null))switch(d){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==D&&tt(n,s,d,m,l,D)}s=S,a=T,l=$,G!=null?Wr(n,!!a,G,!1):!!l!=!!a&&(s!=null?Wr(n,!!a,s,!0):Wr(n,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(n,s,S,null,l,d)}for(T in l)if(d=l[T],m=a[T],l.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":G=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&tt(n,s,T,d,l,m)}Ze(n,G,$);return;case"option":for(var Se in a)if(G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:tt(n,s,Se,null,l,G)}for(D in l)if(G=l[D],$=a[D],l.hasOwnProperty(D)&&G!==$&&(G!=null||$!=null))switch(D){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:tt(n,s,D,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&tt(n,s,Ee,null,l,G);for(F in l)if(G=l[F],$=a[F],l.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:tt(n,s,F,G,l,$)}return;default:if(Tl(s)){for(var nt in a)G=a[nt],a.hasOwnProperty(nt)&&G!==void 0&&!l.hasOwnProperty(nt)&&Rm(n,s,nt,void 0,l,G);for(J in l)G=l[J],$=a[J],!l.hasOwnProperty(J)||G===$||G===void 0&&$===void 0||Rm(n,s,J,G,l,$);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&tt(n,s,z,null,l,G);for(te in l)G=l[te],$=a[te],!l.hasOwnProperty(te)||G===$||G==null&&$==null||tt(n,s,te,G,l,$)}var Cm=null,xm=null;function dh(n){return n.nodeType===9?n:n.ownerDocument}function Vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Im=null;function Dw(){var n=window.event;return n&&n.type==="popstate"?n===Im?!1:(Im=n,!0):(Im=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,kw=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(n){return zv.resolve(null).then(n).catch(jw)}:Bv;function jw(n){setTimeout(function(){throw n})}function Xs(n){return n==="head"}function qv(n,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&ac(T.documentElement),a&2&&ac(T.body),a&4)for(a=T.head,ac(a),T=a.firstChild;T;){var S=T.nextSibling,D=T.nodeName;T[ji]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(d===0){n.removeChild(m),mc(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);mc(s)}function Dm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dm(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Mw(n,s,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ji])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=hr(n.nextSibling),n===null)break}return null}function Pw(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hr(n.nextSibling),n===null))return null;return n}function Om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Lw(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function hr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var km=null;function Hv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function Fv(n,s,a){switch(s=dh(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ac(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ds(n)}var tr=new Map,Gv=new Set;function fh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var gs=ae.d;ae.d={f:Vw,r:Uw,D:Bw,C:zw,L:qw,m:Hw,X:Gw,S:Fw,M:$w};function Vw(){var n=gs.f(),s=sh();return n||s}function Uw(n){var s=Er(n);s!==null&&s.tag===5&&s.type==="form"?h_(s):gs.r(n)}var yo=typeof document>"u"?null:document;function $v(n,s,a){var l=yo;if(l&&typeof s=="string"&&s){var d=Rt(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Gv.has(d)||(Gv.add(d),n={rel:n,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),tn(s,"link",n),vt(s),l.head.appendChild(s)))}}function Bw(n){gs.D(n),$v("dns-prefetch",n,null)}function zw(n,s){gs.C(n,s),$v("preconnect",n,s)}function qw(n,s,a){gs.L(n,s,a);var l=yo;if(l&&n&&s){var d='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Rt(a.imageSizes)+'"]')):d+='[href="'+Rt(n)+'"]';var m=d;switch(s){case"style":m=_o(n);break;case"script":m=vo(n)}tr.has(m)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),tr.set(m,n),l.querySelector(d)!==null||s==="style"&&l.querySelector(oc(m))||s==="script"&&l.querySelector(lc(m))||(s=l.createElement("link"),tn(s,"link",n),vt(s),l.head.appendChild(s)))}}function Hw(n,s){gs.m(n,s);var a=yo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(n)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vo(n)}if(!tr.has(m)&&(n=v({rel:"modulepreload",href:n},s),tr.set(m,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(lc(m)))return}l=a.createElement("link"),tn(l,"link",n),vt(l),a.head.appendChild(l)}}}function Fw(n,s,a){gs.S(n,s,a);var l=yo;if(l&&n){var d=yn(l).hoistableStyles,m=_o(n);s=s||"default";var T=d.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(oc(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=tr.get(m))&&jm(n,a);var D=T=l.createElement("link");vt(D),tn(D,"link",n),D._p=new Promise(function(F,J){D.onload=F,D.onerror=J}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,mh(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(m,T)}}}function Gw(n,s){gs.X(n,s);var a=yo;if(a&&n){var l=yn(a).hoistableScripts,d=vo(n),m=l.get(d);m||(m=a.querySelector(lc(d)),m||(n=v({src:n,async:!0},s),(s=tr.get(d))&&Mm(n,s),m=a.createElement("script"),vt(m),tn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function $w(n,s){gs.M(n,s);var a=yo;if(a&&n){var l=yn(a).hoistableScripts,d=vo(n),m=l.get(d);m||(m=a.querySelector(lc(d)),m||(n=v({src:n,async:!0,type:"module"},s),(s=tr.get(d))&&Mm(n,s),m=a.createElement("script"),vt(m),tn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Kv(n,s,a,l){var d=(d=we.current)?fh(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=_o(a.href),a=yn(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=_o(a.href);var m=yn(d).hoistableStyles,T=m.get(n);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=d.querySelector(oc(n)))&&!m._p&&(T.instance=m,T.state.loading=5),tr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tr.set(n,a),m||Kw(d,n,a,T.state))),s&&l===null)throw Error(i(528,""));return T}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vo(a),a=yn(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function _o(n){return'href="'+Rt(n)+'"'}function oc(n){return'link[rel="stylesheet"]['+n+"]"}function Qv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Kw(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),tn(s,"link",a),vt(s),n.head.appendChild(s))}function vo(n){return'[src="'+Rt(n)+'"]'}function lc(n){return"script[async]"+n}function Yv(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(l)return s.instance=l,vt(l),l;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),vt(l),tn(l,"style",d),mh(l,a.precedence,n),s.instance=l;case"stylesheet":d=_o(a.href);var m=n.querySelector(oc(d));if(m)return s.state.loading|=4,s.instance=m,vt(m),m;l=Qv(a),(d=tr.get(d))&&jm(l,d),m=(n.ownerDocument||n).createElement("link"),vt(m);var T=m;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),tn(m,"link",l),s.state.loading|=4,mh(m,a.precedence,n),s.instance=m;case"script":return m=vo(a.src),(d=n.querySelector(lc(m)))?(s.instance=d,vt(d),d):(l=a,(d=tr.get(m))&&(l=v({},a),Mm(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),vt(d),tn(d,"link",l),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,mh(l,a.precedence,n));return s.instance}function mh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===s)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function jm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ph=null;function Xv(n,s,a){if(ph===null){var l=new Map,d=ph=new Map;d.set(a,l)}else d=ph,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[ji]||m[jt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=n+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function Wv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Qw(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Jv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var cc=null;function Yw(){}function Xw(n,s,a){if(cc===null)throw Error(i(475));var l=cc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=_o(a.href),m=n.querySelector(oc(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=gh.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,vt(m);return}m=n.ownerDocument||n,a=Qv(a),(d=tr.get(d))&&jm(a,d),m=m.createElement("link"),vt(m);var T=m;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),tn(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=gh.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function Ww(){if(cc===null)throw Error(i(475));var n=cc;return n.stylesheets&&n.count===0&&Pm(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Pm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yh=null;function Pm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yh=new Map,s.forEach(Jw,n),yh=null,gh.call(n))}function Jw(n,s){if(!(s.state.loading&4)){var a=yh.get(n);if(a)var l=a.get(null);else{a=new Map,yh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}d=s.instance,T=d.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,d),a.set(T,d),this.count++,l=gh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var uc={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Zw(n,s,a,l,d,m,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Zv(n,s,a,l,d,m,T,S,D,F,J,te){return n=new Zw(n,s,a,T,S,D,F,te),s=1,m===!0&&(s|=24),m=jn(3,null,null,s),n.current=m,m.stateNode=n,s=yf(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Tf(m),n}function eE(n){return n?(n=Ya,n):Ya}function tE(n,s,a,l,d,m){d=eE(d),l.context===null?l.context=d:l.pendingContext=d,l=Ls(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Vs(n,l,s),a!==null&&(Un(a,n,s),Bl(a,n,s))}function nE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Lm(n,s){nE(n,s),(n=n.alternate)&&nE(n,s)}function rE(n){if(n.tag===13){var s=Qa(n,67108864);s!==null&&Un(s,n,67108864),Lm(n,67108864)}}var _h=!0;function eA(n,s,a,l){var d=W.T;W.T=null;var m=ae.p;try{ae.p=2,Vm(n,s,a,l)}finally{ae.p=m,W.T=d}}function tA(n,s,a,l){var d=W.T;W.T=null;var m=ae.p;try{ae.p=8,Vm(n,s,a,l)}finally{ae.p=m,W.T=d}}function Vm(n,s,a,l){if(_h){var d=Um(l);if(d===null)Am(n,s,l,vh,a),iE(n,l);else if(rA(d,n,s,a,l))l.stopPropagation();else if(iE(n,l),s&4&&-1<nA.indexOf(n)){for(;d!==null;){var m=Er(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ar(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-sn(T);S.entanglements[1]|=D,T&=~D}jr(m),(We&6)===0&&(nh=Hn()+500,rc(0))}}break;case 13:S=Qa(m,2),S!==null&&Un(S,m,2),sh(),Lm(m,2)}if(m=Um(l),m===null&&Am(n,s,l,vh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Am(n,s,l,null,a)}}function Um(n){return n=$n(n),Bm(n)}var vh=null;function Bm(n){if(vh=null,n=Qr(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vh=n,null}function sE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qd()){case ll:return 2;case Ca:return 8;case Ni:case Hd:return 32;case xa:return 268435456;default:return 32}default:return 32}}var zm=!1,Ws=null,Js=null,Zs=null,hc=new Map,dc=new Map,ei=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(n,s){switch(n){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":hc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(n,s,a,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Er(s),s!==null&&rE(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function rA(n,s,a,l,d){switch(s){case"focusin":return Ws=fc(Ws,n,s,a,l,d),!0;case"dragenter":return Js=fc(Js,n,s,a,l,d),!0;case"mouseover":return Zs=fc(Zs,n,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return hc.set(m,fc(hc.get(m)||null,n,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,dc.set(m,fc(dc.get(m)||null,n,s,a,l,d)),!0}return!1}function aE(n){var s=Qr(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,su(n.priority,function(){if(a.tag===13){var l=Vn();l=xs(l);var d=Qa(a,l);d!==null&&Un(d,a,l),Lm(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Eh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Um(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Jr=l,a.target.dispatchEvent(l),Jr=null}else return s=Er(a),s!==null&&rE(s),n.blockedOn=a,!1;s.shift()}return!0}function oE(n,s,a){Eh(n)&&a.delete(s)}function sA(){zm=!1,Ws!==null&&Eh(Ws)&&(Ws=null),Js!==null&&Eh(Js)&&(Js=null),Zs!==null&&Eh(Zs)&&(Zs=null),hc.forEach(oE),dc.forEach(oE)}function Th(n,s){n.blockedOn===s&&(n.blockedOn=null,zm||(zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sA)))}var bh=null;function lE(n){bh!==n&&(bh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],d=n[s+2];if(typeof l!="function"){if(Bm(l||a)===null)continue;break}var m=Er(a);m!==null&&(n.splice(s,3),s-=3,Bf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function mc(n){function s(D){return Th(D,n)}Ws!==null&&Th(Ws,n),Js!==null&&Th(Js,n),Zs!==null&&Th(Zs,n),hc.forEach(s),dc.forEach(s);for(var a=0;a<ei.length;a++){var l=ei[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ei.length&&(a=ei[0],a.blockedOn===null);)aE(a),a.blockedOn===null&&ei.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],T=d[At]||null;if(typeof m=="function")T||lE(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[At]||null)S=T.formAction;else if(Bm(d)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),lE(a)}}}function qm(n){this._internalRoot=n}Sh.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Vn();tE(a,l,n,s,null,null)},Sh.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;tE(n.current,2,null,n,null,null),sh(),s[Fn]=null}};function Sh(n){this._internalRoot=n}Sh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ns();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ei.length&&s!==0&&s<ei[a].priority;a++);ei.splice(a,0,n),a===0&&aE(n)}};var cE=e.version;if(cE!=="19.1.1")throw Error(i(527,cE,"19.1.1"));ae.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var iA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{gt=wh.inject(iA),Xe=wh}catch{}}return gc.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",d=A_,m=R_,T=C_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=Zv(n,1,!1,null,null,a,l,d,m,T,S,null),n[Fn]=s.current,wm(n),new qm(s)},gc.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,d="",m=A_,T=R_,S=C_,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),s=Zv(n,1,!0,s,a??null,l,d,m,T,S,D,F),s.context=eE(null),a=s.current,l=Vn(),l=xs(l),d=Ls(l),d.callback=null,Vs(a,d,l),a=l,s.current.lanes=a,Kr(s,a),jr(s),n[Fn]=s.current,wm(n),new Sh(s)},gc.version="19.1.1",gc}var vE;function gA(){if(vE)return Gm.exports;vE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=pA(),Gm.exports}var yA=gA();const _A=v1(yA);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EE="popstate";function vA(r={}){function e(o,c){let{pathname:h="/",search:f="",hash:p=""}=ba(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ep("",{pathname:h,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof c=="string"?c:Dc(c))}function i(o,c){sr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return TA(e,t,i,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EA(){return Math.random().toString(36).substring(2,10)}function TE(r,e){return{usr:r.state,key:r.key,idx:e}}function Ep(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:t,key:e&&e.key||i||EA()}}function Dc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ba(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function TA(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,h=o.history,f="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function b(){f="POP";let k=v(),Y=k==null?null:k-y;y=k,p&&p({action:f,location:U.location,delta:Y})}function w(k,Y){f="PUSH";let K=Ep(U.location,k,Y);t&&t(K,k),y=v()+1;let Z=TE(K,y),ce=U.createHref(K);try{h.pushState(Z,"",ce)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ce)}c&&p&&p({action:f,location:U.location,delta:1})}function x(k,Y){f="REPLACE";let K=Ep(U.location,k,Y);t&&t(K,k),y=v();let Z=TE(K,y),ce=U.createHref(K);h.replaceState(Z,"",ce),c&&p&&p({action:f,location:U.location,delta:0})}function R(k){return bA(k)}let U={get action(){return f},get location(){return r(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(EE,b),p=k,()=>{o.removeEventListener(EE,b),p=null}},createHref(k){return e(o,k)},createURL:R,encodeLocation(k){let Y=R(k);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:w,replace:x,go(k){return h.go(k)}};return U}function bA(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Dc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function E1(r,e,t="/"){return SA(r,e,t,!1)}function SA(r,e,t,i){let o=typeof e=="string"?ba(e):e,c=Ts(o.pathname||"/",t);if(c==null)return null;let h=T1(r);wA(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=MA(c);f=kA(h[p],y,i)}return f}function T1(r,e=[],t=[],i="",o=!1){let c=(h,f,p=o,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;dt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Es([i,v.relativePath]),w=t.concat(v);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),T1(h.children,e,w,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:DA(b,h.index),routesMeta:w})};return r.forEach((h,f)=>{if(h.path===""||!h.path?.includes("?"))c(h,f);else for(let p of b1(h.path))c(h,f,!0,p)}),e}function b1(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let h=b1(i.join("/")),f=[];return f.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function wA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:OA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AA=/^:[\w-]+$/,RA=3,CA=2,xA=1,NA=10,IA=-2,bE=r=>r==="*";function DA(r,e){let t=r.split("/"),i=t.length;return t.some(bE)&&(i+=IA),e&&(i+=CA),t.filter(o=>!bE(o)).reduce((o,c)=>o+(AA.test(c)?RA:c===""?xA:NA),i)}function OA(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function kA(r,e,t=!1){let{routesMeta:i}=r,o={},c="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=Yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),w=p.route;if(!b&&y&&t&&!i[i.length-1].route.index&&(b=Yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Es([c,b.pathname]),pathnameBase:UA(Es([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=Es([c,b.pathnameBase]))}return h}function Yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=jA(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:b},w)=>{if(v==="*"){let R=f[w]||"";h=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const x=f[w];return b&&!x?y[v]=void 0:y[v]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function jA(r,e=!1,t=!0){sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function MA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function PA(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?ba(r):r;return{pathname:t?t.startsWith("/")?t:LA(t,e):e,search:BA(i),hash:zA(o)}}function LA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ym(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ig(r){let e=VA(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ag(r,e,t,i=!1){let o;typeof r=="string"?o=ba(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,f;if(h==null)f=t;else{let b=e.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=PA(o,f),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Es=r=>r.join("/").replace(/\/\/+/g,"/"),UA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var S1=["POST","PUT","PATCH","DELETE"];new Set(S1);var HA=["GET",...S1];new Set(HA);var Yo=N.createContext(null);Yo.displayName="DataRouter";var md=N.createContext(null);md.displayName="DataRouterState";N.createContext(!1);var w1=N.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var FA=N.createContext(new Map);FA.displayName="Fetchers";var GA=N.createContext(null);GA.displayName="Await";var gr=N.createContext(null);gr.displayName="Navigation";var Bc=N.createContext(null);Bc.displayName="Location";var ir=N.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var og=N.createContext(null);og.displayName="RouteError";function $A(r,{relative:e}={}){dt(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(gr),{hash:o,pathname:c,search:h}=zc(r,{relative:e}),f=c;return t!=="/"&&(f=c==="/"?t:Es([t,c])),i.createHref({pathname:f,search:h,hash:o})}function Xo(){return N.useContext(Bc)!=null}function wi(){return dt(Xo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Bc).location}var A1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R1(r){N.useContext(gr).static||N.useLayoutEffect(r)}function Sa(){let{isDataRoute:r}=N.useContext(ir);return r?lR():KA()}function KA(){dt(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(Yo),{basename:e,navigator:t}=N.useContext(gr),{matches:i}=N.useContext(ir),{pathname:o}=wi(),c=JSON.stringify(ig(i)),h=N.useRef(!1);return R1(()=>{h.current=!0}),N.useCallback((p,y={})=>{if(sr(h.current,A1),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=ag(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Es([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,c,o,r])}var QA=N.createContext(null);function YA(r){let e=N.useContext(ir).outlet;return e&&N.createElement(QA.Provider,{value:r},e)}function XA(){let{matches:r}=N.useContext(ir),e=r[r.length-1];return e?e.params:{}}function zc(r,{relative:e}={}){let{matches:t}=N.useContext(ir),{pathname:i}=wi(),o=JSON.stringify(ig(t));return N.useMemo(()=>ag(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function WA(r,e){return C1(r,e)}function C1(r,e,t,i,o){dt(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=N.useContext(gr),{matches:h}=N.useContext(ir),f=h[h.length-1],p=f?f.params:{},y=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let K=b&&b.path||"";x1(y,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=wi(),x;if(e){let K=typeof e=="string"?ba(e):e;dt(v==="/"||K.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),x=K}else x=w;let R=x.pathname||"/",U=R;if(v!=="/"){let K=v.replace(/^\//,"").split("/");U="/"+R.replace(/^\//,"").split("/").slice(K.length).join("/")}let k=E1(r,{pathname:U});sr(b||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),sr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=nR(k&&k.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Es([v,c.encodeLocation?c.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Es([v,c.encodeLocation?c.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,t,i,o);return e&&Y?N.createElement(Bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Y):Y}function JA(){let r=oR(),e=qA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:c},"ErrorBoundary")," or"," ",N.createElement("code",{style:c},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,h)}var ZA=N.createElement(JA,null),eR=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(ir.Provider,{value:this.props.routeContext},N.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:r,match:e,children:t}){let i=N.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ir.Provider,{value:r},t)}function nR(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,h=t?.errors;if(h!=null){let y=c.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,p=-1;if(t)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:b,errors:w}=t,x=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||x){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,v,b)=>{let w,x=!1,R=null,U=null;t&&(w=h&&v.route.id?h[v.route.id]:void 0,R=v.route.errorElement||ZA,f&&(p<0&&b===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,U=null):p===b&&(x=!0,U=v.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,b+1)),Y=()=>{let K;return w?K=R:x?K=U:v.route.Component?K=N.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=y,N.createElement(tR,{match:v,routeContext:{outlet:y,matches:k,isDataRoute:t!=null},children:K})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?N.createElement(eR,{location:t.location,revalidation:t.revalidation,component:R,error:w,children:Y(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):Y()},null)}function lg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(r){let e=N.useContext(Yo);return dt(e,lg(r)),e}function sR(r){let e=N.useContext(md);return dt(e,lg(r)),e}function iR(r){let e=N.useContext(ir);return dt(e,lg(r)),e}function cg(r){let e=iR(r),t=e.matches[e.matches.length-1];return dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function aR(){return cg("useRouteId")}function oR(){let r=N.useContext(og),e=sR("useRouteError"),t=cg("useRouteError");return r!==void 0?r:e.errors?.[t]}function lR(){let{router:r}=rR("useNavigate"),e=cg("useNavigate"),t=N.useRef(!1);return R1(()=>{t.current=!0}),N.useCallback(async(o,c={})=>{sr(t.current,A1),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var SE={};function x1(r,e,t){!e&&!SE[r]&&(SE[r]=!0,sr(!1,t))}N.memo(cR);function cR({routes:r,future:e,state:t,unstable_onError:i}){return C1(r,void 0,t,i,e)}function Tp({to:r,replace:e,state:t,relative:i}){dt(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(gr);sr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=N.useContext(ir),{pathname:h}=wi(),f=Sa(),p=ag(r,ig(c),h,i==="path"),y=JSON.stringify(p);return N.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function uR(r){return YA(r.context)}function Qt(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hR({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:c=!1}){dt(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof t=="string"&&(t=ba(t));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:w="default"}=t,x=N.useMemo(()=>{let R=Ts(p,h);return R==null?null:{location:{pathname:R,search:y,hash:v,state:b,key:w},navigationType:i}},[h,p,y,v,b,w,i]);return sr(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(gr.Provider,{value:f},N.createElement(Bc.Provider,{children:e,value:x}))}function dR({children:r,location:e}){return WA(bp(r),e)}function bp(r,e=[]){let t=[];return N.Children.forEach(r,(i,o)=>{if(!N.isValidElement(i))return;let c=[...e,o];if(i.type===N.Fragment){t.push.apply(t,bp(i.props.children,c));return}dt(i.type===Qt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=bp(i.props.children,c)),t.push(h)}),t}var Mh="get",Ph="application/x-www-form-urlencoded";function pd(r){return r!=null&&typeof r.tagName=="string"}function fR(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function mR(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function pR(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function gR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yR(r,e){return r.button===0&&(!e||e==="_self")&&!gR(r)}var Ah=null;function _R(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var vR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(r){return r!=null&&!vR.has(r)?(sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):r}function ER(r,e){let t,i,o,c,h;if(mR(r)){let f=r.getAttribute("action");i=f?Ts(f,e):null,t=r.getAttribute("method")||Mh,o=Xm(r.getAttribute("enctype"))||Ph,c=new FormData(r)}else if(fR(r)||pR(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(i=p?Ts(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Mh,o=Xm(r.getAttribute("formenctype"))||Xm(f.getAttribute("enctype"))||Ph,c=new FormData(f,r),!_R()){let{name:y,type:v,value:b}=r;if(v==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,b)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mh,i=null,o=Ph,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function TR(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ts(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function bR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wR(r,e,t){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await bR(c,t);return h.links?h.links():[]}return[]}));return xR(i.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wE(r,e,t,i,o,c){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):c==="data"?e.filter((p,y)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function AR(r,e,{includeHydrateFallback:t}={}){return RR(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function RR(r){return[...new Set(r)]}function CR(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function xR(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(CR(o));return t.has(c)||(t.add(c),i.push({key:c,link:o})),i},[])}function N1(){let r=N.useContext(Yo);return ug(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function NR(){let r=N.useContext(md);return ug(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hg=N.createContext(void 0);hg.displayName="FrameworkContext";function I1(){let r=N.useContext(hg);return ug(r,"You must render this element inside a <HydratedRouter> element"),r}function IR(r,e){let t=N.useContext(hg),[i,o]=N.useState(!1),[c,h]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,w=N.useRef(null);N.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=Y=>{Y.forEach(K=>{h(K.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),N.useEffect(()=>{if(i){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[i]);let x=()=>{o(!0)},R=()=>{o(!1),h(!1)};return t?r!=="intent"?[c,w,{}]:[c,w,{onFocus:yc(f,x),onBlur:yc(p,R),onMouseEnter:yc(y,x),onMouseLeave:yc(v,R),onTouchStart:yc(b,x)}]:[!1,w,{}]}function yc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function DR({page:r,...e}){let{router:t}=N1(),i=N.useMemo(()=>E1(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?N.createElement(kR,{page:r,matches:i,...e}):null}function OR(r){let{manifest:e,routeModules:t}=I1(),[i,o]=N.useState([]);return N.useEffect(()=>{let c=!1;return wR(r,e,t).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,t]),i}function kR({page:r,matches:e,...t}){let i=wi(),{manifest:o,routeModules:c}=I1(),{basename:h}=N1(),{loaderData:f,matches:p}=NR(),y=N.useMemo(()=>wE(r,e,p,o,i,"data"),[r,e,p,o,i]),v=N.useMemo(()=>wE(r,e,p,o,i,"assets"),[r,e,p,o,i]),b=N.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let R=new Set,U=!1;if(e.forEach(Y=>{let K=o.routes[Y.route.id];!K||!K.hasLoader||(!y.some(Z=>Z.route.id===Y.route.id)&&Y.route.id in f&&c[Y.route.id]?.shouldRevalidate||K.hasClientLoader?U=!0:R.add(Y.route.id))}),R.size===0)return[];let k=TR(r,h,"data");return U&&R.size>0&&k.searchParams.set("_routes",e.filter(Y=>R.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[k.pathname+k.search]},[h,f,i,o,y,e,r,c]),w=N.useMemo(()=>AR(v,o),[v,o]),x=OR(v);return N.createElement(N.Fragment,null,b.map(R=>N.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>N.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),x.map(({key:R,link:U})=>N.createElement("link",{key:R,nonce:t.nonce,...U})))}function jR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D1&&(window.__reactRouterVersion="7.9.1")}catch{}function MR({basename:r,children:e,window:t}){let i=N.useRef();i.current==null&&(i.current=vA({window:t,v5Compat:!0}));let o=i.current,[c,h]=N.useState({action:o.action,location:o.location}),f=N.useCallback(p=>{N.startTransition(()=>h(p))},[h]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(hR,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var O1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:c,replace:h,state:f,target:p,to:y,preventScrollReset:v,viewTransition:b,...w},x){let{basename:R}=N.useContext(gr),U=typeof y=="string"&&O1.test(y),k,Y=!1;if(typeof y=="string"&&U&&(k=y,D1))try{let I=new URL(window.location.href),L=y.startsWith("//")?new URL(I.protocol+y):new URL(y),V=Ts(L.pathname,R);L.origin===I.origin&&V!=null?y=V+L.search+L.hash:Y=!0}catch{sr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=$A(y,{relative:o}),[Z,ce,he]=IR(i,w),Ae=VR(y,{replace:h,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:b});function M(I){e&&e(I),I.defaultPrevented||Ae(I)}let C=N.createElement("a",{...w,...he,href:k||K,onClick:Y||c?e:M,ref:jR(x,ce),target:p,"data-discover":!U&&t==="render"?"true":void 0});return Z&&!U?N.createElement(N.Fragment,null,C,N.createElement(DR,{page:K})):C});Sn.displayName="Link";var k1=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:c,to:h,viewTransition:f,children:p,...y},v){let b=zc(h,{relative:y.relative}),w=wi(),x=N.useContext(md),{navigator:R,basename:U}=N.useContext(gr),k=x!=null&&HR(b)&&f===!0,Y=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,K=w.pathname,Z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(K=K.toLowerCase(),Z=Z?Z.toLowerCase():null,Y=Y.toLowerCase()),Z&&U&&(Z=Ts(Z,U)||Z);const ce=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=K===Y||!o&&K.startsWith(Y)&&K.charAt(ce)==="/",Ae=Z!=null&&(Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(Y.length)==="/"),M={isActive:he,isPending:Ae,isTransitioning:k},C=he?e:void 0,I;typeof i=="function"?I=i(M):I=[i,he?"active":null,Ae?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(M):c;return N.createElement(Sn,{...y,"aria-current":C,className:I,ref:v,style:L,to:h,viewTransition:f},typeof p=="function"?p(M):p)});k1.displayName="NavLink";var PR=N.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:c,method:h=Mh,action:f,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:b,...w},x)=>{let R=zR(),U=qR(f,{relative:y}),k=h.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&O1.test(f),K=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ce=Z.nativeEvent.submitter,he=ce?.getAttribute("formmethod")||h;R(ce||Z.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:c,relative:y,preventScrollReset:v,viewTransition:b})};return N.createElement("form",{ref:x,method:k,action:U,onSubmit:i?p:K,...w,"data-discover":!Y&&r==="render"?"true":void 0})});PR.displayName="Form";function LR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(r){let e=N.useContext(Yo);return dt(e,LR(r)),e}function VR(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:c,viewTransition:h}={}){let f=Sa(),p=wi(),y=zc(r,{relative:c});return N.useCallback(v=>{if(yR(v,e)){v.preventDefault();let b=t!==void 0?t:Dc(p)===Dc(y);f(r,{replace:b,state:i,preventScrollReset:o,relative:c,viewTransition:h})}},[p,f,y,t,i,e,r,o,c,h])}var UR=0,BR=()=>`__${String(++UR)}__`;function zR(){let{router:r}=j1("useSubmit"),{basename:e}=N.useContext(gr),t=aR();return N.useCallback(async(i,o={})=>{let{action:c,method:h,encType:f,formData:p,body:y}=ER(i,e);if(o.navigate===!1){let v=o.fetcherKey||BR();await r.fetch(v,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function qR(r,{relative:e}={}){let{basename:t}=N.useContext(gr),i=N.useContext(ir);dt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...zc(r||".",{relative:e})},h=wi();if(r==null){c.search=h.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Es([t,c.pathname])),Dc(c)}function HR(r,{relative:e}={}){let t=N.useContext(w1);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=j1("useViewTransitionState"),o=zc(r,{relative:e});if(!t.isTransitioning)return!1;let c=Ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yh(o.pathname,h)!=null||Yh(o.pathname,c)!=null}const FR=()=>{};var AE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GR=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,v=c>>2,b=(c&3)<<4|f>>4;let w=(f&15)<<2|y>>6,x=y&63;p||(x=64,h||(w=64)),i.push(t[v],t[b],t[w],t[x])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(M1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||f==null||y==null||b==null)throw new $R;const w=c<<2|f>>4;if(i.push(w),y!==64){const x=f<<4&240|y>>2;if(i.push(x),b!==64){const R=y<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KR=function(r){const e=M1(r);return P1.encodeByteArray(e,!0)},Xh=function(r){return KR(r).replace(/\./g,"")},L1=function(r){try{return P1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>QR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof AE>"u")return;const r=AE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&L1(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return FR()||YR()||XR()||WR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},V1=r=>gd()?.emulatorHosts?.[r],JR=r=>{const e=V1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U1=()=>gd()?.config,B1=r=>gd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xh(JSON.stringify(t)),Xh(JSON.stringify(h)),""].join(".")}const Ac={};function tC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?r.emulator.push(e):r.prod.push(e);return r}function nC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let RE=!1;function q1(r,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||Ac[r]===e||Ac[r]||RE)return;Ac[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",c=tC().prod.length>0;function h(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{RE=!0,h()},w}function v(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=nC(i),x=t("text"),R=document.getElementById(x)||document.createElement("span"),U=t("learnmore"),k=document.getElementById(U)||document.createElement("a"),Y=t("preprendIcon"),K=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;f(Z),v(k,U);const ce=y();p(K,Y),Z.append(K,R,k,ce),document.body.appendChild(Z)}c?(R.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function sC(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lC(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cC(){return!sC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uC(){try{return typeof indexedDB=="object"}catch{return!1}}function hC(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="FirebaseError";class As extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=dC,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qc.prototype.create)}}class qc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?fC(c,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new As(o,f,i)}}function fC(r,e){return r.replace(mC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mC=/\{\$([^}]+)}/g;function pC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ya(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=r[o],h=e[o];if(CE(c)&&CE(h)){if(!ya(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function CE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ec(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function gC(r,e){const t=new yC(r,e);return t.subscribe.bind(t)}class yC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");_C(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _C(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(r){return r&&r._delegate?r._delegate:r}class _a{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ZR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TC(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:EC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EC(r){return r===ua?void 0:r}function TC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const SC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},wC=Pe.INFO,AC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},RC=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=AC[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=wC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const CC=(r,e)=>e.some(t=>r instanceof t);let xE,NE;function xC(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NC(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,Sp=new WeakMap,F1=new WeakMap,Jm=new WeakMap,fg=new WeakMap;function IC(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{t(di(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&H1.set(t,r)}).catch(()=>{}),fg.set(e,r),e}function DC(r){if(Sp.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Sp.set(r,e)}let wp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OC(r){wp=r(wp)}function kC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Zm(this),e,...t);return F1.set(i,e.sort?e.sort():[e]),di(i)}:NC().includes(r)?function(...e){return r.apply(Zm(this),e),di(H1.get(this))}:function(...e){return di(r.apply(Zm(this),e))}}function jC(r){return typeof r=="function"?kC(r):(r instanceof IDBTransaction&&DC(r),CC(r,xC())?new Proxy(r,wp):r)}function di(r){if(r instanceof IDBRequest)return IC(r);if(Jm.has(r))return Jm.get(r);const e=jC(r);return e!==r&&(Jm.set(r,e),fg.set(e,r)),e}const Zm=r=>fg.get(r);function MC(r,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),f=di(h);return i&&h.addEventListener("upgradeneeded",p=>{i(di(h.result),p.oldVersion,p.newVersion,di(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const PC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],ep=new Map;function IE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=LC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||PC.includes(t)))return;const c=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return ep.set(e,c),c}OC(r=>({...r,get:(e,t,i)=>IE(e,t)||r.get(e,t,i),has:(e,t)=>!!IE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function UC(r){return r.getComponent()?.type==="VERSION"}const Ap="@firebase/app",DE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new dg("@firebase/app"),BC="@firebase/app-compat",zC="@firebase/analytics-compat",qC="@firebase/analytics",HC="@firebase/app-check-compat",FC="@firebase/app-check",GC="@firebase/auth",$C="@firebase/auth-compat",KC="@firebase/database",QC="@firebase/data-connect",YC="@firebase/database-compat",XC="@firebase/functions",WC="@firebase/functions-compat",JC="@firebase/installations",ZC="@firebase/installations-compat",ex="@firebase/messaging",tx="@firebase/messaging-compat",nx="@firebase/performance",rx="@firebase/performance-compat",sx="@firebase/remote-config",ix="@firebase/remote-config-compat",ax="@firebase/storage",ox="@firebase/storage-compat",lx="@firebase/firestore",cx="@firebase/ai",ux="@firebase/firestore-compat",hx="firebase",dx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="[DEFAULT]",fx={[Ap]:"fire-core",[BC]:"fire-core-compat",[qC]:"fire-analytics",[zC]:"fire-analytics-compat",[FC]:"fire-app-check",[HC]:"fire-app-check-compat",[GC]:"fire-auth",[$C]:"fire-auth-compat",[KC]:"fire-rtdb",[QC]:"fire-data-connect",[YC]:"fire-rtdb-compat",[XC]:"fire-fn",[WC]:"fire-fn-compat",[JC]:"fire-iid",[ZC]:"fire-iid-compat",[ex]:"fire-fcm",[tx]:"fire-fcm-compat",[nx]:"fire-perf",[rx]:"fire-perf-compat",[sx]:"fire-rc",[ix]:"fire-rc-compat",[ax]:"fire-gcs",[ox]:"fire-gcs-compat",[lx]:"fire-fst",[ux]:"fire-fst-compat",[cx]:"fire-vertex","fire-js":"fire-js",[hx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,mx=new Map,Cp=new Map;function OE(r,e){try{r.container.addComponent(e)}catch(t){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Uo(r){const e=r.name;if(Cp.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,r);for(const t of Wh.values())OE(t,r);for(const t of mx.values())OE(t,r);return!0}function mg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function dr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new qc("app","Firebase",px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=dx;function G1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Rp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw fi.create("bad-app-name",{appName:String(o)});if(t||(t=U1()),!t)throw fi.create("no-options");const c=Wh.get(o);if(c){if(ya(t,c.options)&&ya(i,c.config))return c;throw fi.create("duplicate-app",{appName:o})}const h=new bC(o);for(const p of Cp.values())h.addComponent(p);const f=new gx(t,i,h);return Wh.set(o,f),f}function $1(r=Rp){const e=Wh.get(r);if(!e&&r===Rp&&U1())return G1();if(!e)throw fi.create("no-app",{appName:r});return e}function mi(r,e,t){let i=fx[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(h.join(" "));return}Uo(new _a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebase-heartbeat-database",_x=1,Oc="firebase-heartbeat-store";let tp=null;function K1(){return tp||(tp=MC(yx,_x,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Oc)}catch(t){console.warn(t)}}}}).catch(r=>{throw fi.create("idb-open",{originalErrorMessage:r.message})})),tp}async function vx(r){try{const t=(await K1()).transaction(Oc),i=await t.objectStore(Oc).get(Q1(r));return await t.done,i}catch(e){if(e instanceof As)bs.warn(e.message);else{const t=fi.create("idb-get",{originalErrorMessage:e?.message});bs.warn(t.message)}}}async function kE(r,e){try{const i=(await K1()).transaction(Oc,"readwrite");await i.objectStore(Oc).put(e,Q1(r)),await i.done}catch(t){if(t instanceof As)bs.warn(t.message);else{const i=fi.create("idb-set",{originalErrorMessage:t?.message});bs.warn(i.message)}}}function Q1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=1024,Tx=30;class bx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Tx){const o=Ax(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jE(),{heartbeatsToSend:t,unsentEntries:i}=Sx(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function jE(){return new Date().toISOString().substring(0,10)}function Sx(r,e=Ex){const t=[];let i=r.slice();for(const o of r){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),ME(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ME(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class wx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uC()?hC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ME(r){return Xh(JSON.stringify({version:2,heartbeats:r})).length}function Ax(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r){Uo(new _a("platform-logger",e=>new VC(e),"PRIVATE")),Uo(new _a("heartbeat",e=>new bx(e),"PRIVATE")),mi(Ap,DE,r),mi(Ap,DE,"esm2020"),mi("fire-js","")}Rx("");function Y1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cx=Y1,X1=new qc("auth","Firebase",Y1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new dg("@firebase/auth");function xx(r,...e){Jh.logLevel<=Pe.WARN&&Jh.warn(`Auth (${Jo}): ${r}`,...e)}function Lh(r,...e){Jh.logLevel<=Pe.ERROR&&Jh.error(`Auth (${Jo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(r,...e){throw pg(r,...e)}function Ur(r,...e){return pg(r,...e)}function W1(r,e,t){const i={...Cx(),[e]:t};return new qc("auth","Firebase",i).create(e,{appName:r.name})}function pi(r){return W1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return X1.create(r,...e)}function be(r,e,...t){if(!r)throw pg(e,...t)}function _s(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lh(e),new Error(e)}function Ss(r,e){r||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){return typeof self<"u"&&self.location?.href||""}function Nx(){return PE()==="http:"||PE()==="https:"}function PE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nx()||aC()||"connection"in navigator)?navigator.onLine:!0}function Dx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ss(t>e,"Short delay should be less than long delay!"),this.isMobile=rC()||oC()}get(){return Ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e){Ss(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jx=new Fc(3e4,6e4);function Ai(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rs(r,e,t,i,o={}){return Z1(r,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const f=Hc({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...c};return iC()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Wo(r.emulatorConfig.host)&&(y.credentials="include"),J1.fetch()(await eT(r,r.config.apiHost,t,f),y)})}async function Z1(r,e,t){r._canInitEmulator=!1;const i={...Ox,...e};try{const o=new Px(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Rh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const f=c.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Rh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Rh(r,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw W1(r,v,y);mr(r,v)}}catch(o){if(o instanceof As)throw o;mr(r,"network-request-failed",{message:String(o)})}}async function yd(r,e,t,i,o={}){const c=await Rs(r,e,t,i,o);return"mfaPendingCredential"in c&&mr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function eT(r,e,t,i){const o=`${e}${t}?${i}`,c=r,h=c.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return kx.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function Mx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Px{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ur(this.auth,"network-request-failed")),jx.get())})}}function Rh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ur(r,e,i);return o.customData._tokenResponse=t,o}function LE(r){return r!==void 0&&r.enterprise!==void 0}class Lx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vx(r,e){return Rs(r,"GET","/v2/recaptchaConfig",Ai(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function Zh(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bx(r,e=!1){const t=wn(r),i=await t.getIdToken(e),o=yg(i);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:i,authTime:Rc(np(o.auth_time)),issuedAtTime:Rc(np(o.iat)),expirationTime:Rc(np(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function yg(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=L1(t);return o?JSON.parse(o):(Lh("Failed to decode base64 JWT payload"),null)}catch(o){return Lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function VE(r){const e=yg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof As&&zx(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function zx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(r){const e=r.auth,t=await r.getIdToken(),i=await kc(r,Zh(e,{idToken:t}));be(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?tT(o.providerUserInfo):[],h=Fx(r.providerData,c),f=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,y=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,v)}async function Hx(r){const e=wn(r);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fx(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function tT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(r,e){const t=await Z1(r,{},async()=>{const i=Hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await eT(r,o,"/v1/token",`key=${c}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return r.emulatorConfig&&Wo(r.emulatorConfig.host)&&(p.credentials="include"),J1.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $x(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",Ai(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=VE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await Gx(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,h=new Do;return i&&(be(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await kc(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Bx(this,e)}reload(){return Hx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await kc(this,Ux(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:R,stsTokenManager:U}=t;be(b&&U,e,"internal-error");const k=Do.fromJSON(this.name,U);be(typeof b=="string",e,"internal-error"),ni(i,e.name),ni(o,e.name),be(typeof w=="boolean",e,"internal-error"),be(typeof x=="boolean",e,"internal-error"),ni(c,e.name),ni(h,e.name),ni(f,e.name),ni(p,e.name),ni(y,e.name),ni(v,e.name);const Y=new fr({uid:b,auth:e,email:o,emailVerified:w,displayName:i,isAnonymous:x,photoURL:h,phoneNumber:c,tenantId:f,stsTokenManager:k,createdAt:y,lastLoginAt:v});return R&&Array.isArray(R)&&(Y.providerData=R.map(K=>({...K}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,t,i=!1){const o=new Do;o.updateFromServerResponse(t);const c=new fr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ed(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?tT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,f=new Do;f.updateFromIdToken(i);const p=new fr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;function vs(r){Ss(r instanceof Function,"Expected a class definition");let e=UE.get(r);return e?(Ss(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,UE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nT.type="NONE";const BE=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r,e,t){return`firebase:${r}:${e}:${t}`}class Oo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zh(this.auth,{idToken:e}).catch(()=>{});return t?fr._fromGetAccountInfoResponse(this.auth,t,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oo(vs(BE),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||vs(BE);const h=Vh(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(h);if(v){let b;if(typeof v=="string"){const w=await Zh(e,{idToken:v}).catch(()=>{});if(!w)break;b=await fr._fromGetAccountInfoResponse(e,w,v)}else b=fr._fromJSON(e,v);y!==c&&(f=b),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Oo(c,e,i):(c=p[0],f&&await c._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Oo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function rT(r=gn()){return/firefox\//i.test(r)}function sT(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(r=gn()){return/crios\//i.test(r)}function aT(r=gn()){return/iemobile/i.test(r)}function oT(r=gn()){return/android/i.test(r)}function lT(r=gn()){return/blackberry/i.test(r)}function cT(r=gn()){return/webos/i.test(r)}function _g(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Kx(r=gn()){return _g(r)&&!!window.navigator?.standalone}function Qx(){return lC()&&document.documentMode===10}function uT(r=gn()){return _g(r)||oT(r)||cT(r)||lT(r)||/windows phone/i.test(r)||aT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r,e=[]){let t;switch(r){case"Browser":t=zE(gn());break;case"Worker":t=`${zE(gn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,f)=>{try{const p=e(c);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",Ai(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=6;class Jx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Wx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new Yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zh(this,{idToken:e}),i=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&f?.user&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(pi(this));const t=e?wn(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xx(this),t=new Jx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await $x(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vs(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wa(r){return wn(r)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(r){_d=r}function dT(r){return _d.loadJS(r)}function t2(){return _d.recaptchaEnterpriseScript}function n2(){return _d.gapiScript}function r2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class s2{constructor(){this.enterprise=new i2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class i2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const a2="recaptcha-enterprise",fT="NO_RECAPTCHA";class o2{constructor(e){this.type=a2,this.auth=wa(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,f)=>{Vx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new Lx(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(c,h,f){const p=window.grecaptcha;LE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(fT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s2().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(f=>{if(!t&&LE(window.grecaptcha))o(f,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=t2();p.length!==0&&(p+=f),dT(p).then(()=>{o(f,c,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function HE(r,e,t,i=!1,o=!1){const c=new o2(r);let h;if(o)h=fT;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ip(r,e,t,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await HE(r,e,t,t==="getOobCode");return i(r,c)}else return i(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await HE(r,e,t,t==="getOobCode");return i(r,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r,e){const t=mg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(ya(c,e??{}))return o;mr(o,"already-initialized")}return t.initialize({options:e})}function c2(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(vs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function u2(r,e,t){const i=wa(r);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=mT(e),{host:h,port:f}=h2(e),p=f===null?"":`:${f}`,y={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(ya(y,i.config.emulator)&&ya(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Wo(h)?(z1(`${c}//${h}${p}`),q1("Auth",!0)):d2()}function mT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function h2(r){const e=mT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:FE(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:FE(h)}}}function FE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function d2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,t){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function f2(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(r,e){return yd(r,"POST","/v1/accounts:signInWithPassword",Ai(r,e))}async function p2(r,e){return Rs(r,"POST","/v1/accounts:sendOobCode",Ai(r,e))}async function g2(r,e){return p2(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,e){return yd(r,"POST","/v1/accounts:signInWithEmailLink",Ai(r,e))}async function _2(r,e){return yd(r,"POST","/v1/accounts:signInWithEmailLink",Ai(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends vg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new jc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new jc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,t,"signInWithPassword",m2);case"emailLink":return y2(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,i,"signUpPassword",f2);case"emailLink":return _2(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(r,e){return yd(r,"POST","/v1/accounts:signInWithIdp",Ai(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class va extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=t;if(!i||!o)return null;const h=new va(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ko(e,t)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T2(r){const e=vc(Ec(r)).link,t=e?vc(Ec(e)).deep_link_id:null,i=vc(Ec(r)).deep_link_id;return(i?vc(Ec(i)).link:null)||i||t||e||r}class Eg{constructor(e){const t=vc(Ec(e)),i=t.apiKey??null,o=t.oobCode??null,c=E2(t.mode??null);be(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=T2(e);try{return new Eg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,t){return jc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Eg.parseLink(t);return be(i,"argument-error"),jc._fromEmailAndCode(e,i.code,i.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Gc{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return oi.credential(t,i)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Gc{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Gc{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ci.credential(t,i)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await fr._fromIdTokenResponse(e,i,o),h=GE(i);return new Bo({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=GE(i);return new Bo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function GE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends As{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new td(e,t,i,o)}}function gT(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(r,c,e,i):c})}async function b2(r,e,t=!1){const i=await kc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Bo._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e,t=!1){const{auth:i}=r;if(dr(i.app))return Promise.reject(pi(i));const o="reauthenticate";try{const c=await kc(r,gT(i,o,e,r),t);be(c.idToken,i,"internal-error");const h=yg(c.idToken);be(h,i,"internal-error");const{sub:f}=h;return be(r.uid===f,i,"user-mismatch"),Bo._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&mr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(r,e,t=!1){if(dr(r.app))return Promise.reject(pi(r));const i="signIn",o=await gT(r,i,e),c=await Bo._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(c.user),c}async function w2(r,e){return yT(wa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(r){const e=wa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _T(r,e,t){const i=wa(r);await Ip(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g2)}function R2(r,e,t){return dr(r.app)?Promise.reject(pi(r)):w2(wn(r),Zo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&A2(r),i})}function C2(r,e,t,i){return wn(r).onIdTokenChanged(e,t,i)}function x2(r,e,t){return wn(r).beforeAuthStateChanged(e,t)}function N2(r,e,t,i){return wn(r).onAuthStateChanged(e,t,i)}function vT(r){return wn(r).signOut()}const nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1e3,D2=10;class TT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);Qx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D2):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TT.type="LOCAL";const O2=TT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bT.type="SESSION";const ST=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,c)),p=await k2(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((f,p)=>{const y=Tg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(w.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function M2(r){Br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function P2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){return navigator?.serviceWorker?.controller||null}function V2(){return wT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",U2=1,rd="firebaseLocalStorage",RT="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ed(r,e){return r.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function B2(){const r=indexedDB.deleteDatabase(AT);return new $c(r).toPromise()}function Dp(){const r=indexedDB.open(AT,U2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(rd,{keyPath:RT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(rd)?e(i):(i.close(),await B2(),e(await Dp()))})})}async function $E(r,e,t){const i=Ed(r,!0).put({[RT]:e,value:t});return new $c(i).toPromise()}async function z2(r,e){const t=Ed(r,!1).get(e),i=await new $c(t).toPromise();return i===void 0?null:i.value}function KE(r,e){const t=Ed(r,!0).delete(e);return new $c(t).toPromise()}const q2=800,H2=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>H2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(V2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P2(),!this.activeServiceWorker)return;this.sender=new j2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await $E(e,nd,"1"),await KE(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$E(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>z2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>KE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ed(o,!1).getAll();return new $c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const F2=CT;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r,e){return e?vs(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $2(r){return yT(r.auth,new bg(r),r.bypassAuthState)}function K2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),S2(t,new bg(r),r.bypassAuthState)}async function Q2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),b2(t,new bg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return K2;default:mr(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Fc(2e3,1e4);class Io extends xT{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y2.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="pendingRedirect",Uh=new Map;class W2 extends xT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const i=await J2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(r,e){const t=tN(e),i=eN(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Z2(r,e){Uh.set(r._key(),e)}function eN(r){return vs(r._redirectPersistence)}function tN(r){return Vh(X2,r.config.apiKey,r.name)}async function nN(r,e,t=!1){if(dr(r.app))return Promise.reject(pi(r));const i=wa(r),o=G2(i,e),h=await new W2(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=600*1e3;class sN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!NT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ur(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rN&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function NT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function iN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(r,e={}){return Rs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function cN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await aN(r);for(const t of e)try{if(uN(t))return}catch{}mr(r,"unauthorized-domain")}function uN(r){const e=xp(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!lN.test(t))return!1;if(oN.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Fc(3e4,6e4);function YE(){const r=Br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function dN(r){return new Promise((e,t)=>{function i(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),t(Ur(r,"network-request-failed"))},timeout:hN.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)i();else{const o=r2("iframefcb");return Br()[o]=()=>{gapi.load?i():t(Ur(r,"network-request-failed"))},dT(`${n2()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function fN(r){return Bh=Bh||dN(r),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Fc(5e3,15e3),pN="__/auth/iframe",gN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?gg(e,gN):`https://${r.config.authDomain}/${pN}`,i={apiKey:e.apiKey,appName:r.name,v:Jo},o=_N.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${Hc(i).slice(1)}`}async function EN(r){const e=await fN(r),t=Br().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:vN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=Ur(r,"network-request-failed"),f=Br().setTimeout(()=>{c(h)},mN.get());function p(){Br().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,SN=600,wN="_blank",AN="http://localhost";class XE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RN(r,e,t,i=bN,o=SN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...TN,width:i.toString(),height:o.toString(),top:c,left:h},y=gn().toLowerCase();t&&(f=iT(y)?wN:t),rT(y)&&(e=e||AN,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[x,R])=>`${w}${x}=${R},`,"");if(Kx(y)&&f!=="_self")return CN(e||"",f),new XE(null);const b=window.open(e||"",f,v);be(b,r,"popup-blocked");try{b.focus()}catch{}return new XE(b)}function CN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="__/auth/handler",NN="emulator/auth/handler",IN=encodeURIComponent("fac");async function WE(r,e,t,i,o,c){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Jo,eventId:o};if(e instanceof pT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",pC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Gc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),y=p?`#${IN}=${encodeURIComponent(p)}`:"";return`${DN(r)}?${Hc(f).slice(1)}${y}`}function DN({config:r}){return r.emulator?gg(r,NN):`https://${r.authDomain}/${xN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class ON{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=nN,this._overrideRedirectResult=Z2}async _openPopup(e,t,i,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await WE(e,t,i,xp(),o);return RN(e,c,Tg())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await WE(e,t,i,xp(),o);return M2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ss(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await EN(e),i=new sN(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{const c=o?.[0]?.[rp];c!==void 0&&t(!!c),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uT()||sT()||_g()}}const kN=ON;var JE="@firebase/auth",ZE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PN(r){Uo(new _a("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(r)},y=new Zx(i,o,c,p);return c2(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Uo(new _a("auth-internal",e=>{const t=wa(e.getProvider("auth").getImmediate());return(i=>new jN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(JE,ZE,MN(r)),mi(JE,ZE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=300,VN=B1("authIdTokenMaxAge")||LN;let e0=null;const UN=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>VN)return;const o=t?.token;e0!==o&&(e0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BN(r=$1()){const e=mg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=l2(r,{popupRedirectResolver:kN,persistence:[F2,O2,ST]}),i=B1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=UN(c.toString());x2(t,h,()=>h(t.currentUser)),C2(t,f=>h(f))}}const o=V1("auth");return o&&u2(t,`http://${o}`),t}function zN(){return document.getElementsByTagName("head")?.[0]??document}e2({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=Ur("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",zN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PN("Browser");var qN="firebase",HN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(qN,HN,"app");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,IT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(L,V,B){for(var O=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)O[wt-2]=arguments[wt];return C.prototype[V].apply(L,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,I){I||(I=0);var L=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)L[V]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(V=0;16>V;++V)L[V]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],V=M.g[2];var B=M.g[3],O=C+(B^I&(V^B))+L[0]+3614090360&4294967295;C=I+(O<<7&4294967295|O>>>25),O=B+(V^C&(I^V))+L[1]+3905402710&4294967295,B=C+(O<<12&4294967295|O>>>20),O=V+(I^B&(C^I))+L[2]+606105819&4294967295,V=B+(O<<17&4294967295|O>>>15),O=I+(C^V&(B^C))+L[3]+3250441966&4294967295,I=V+(O<<22&4294967295|O>>>10),O=C+(B^I&(V^B))+L[4]+4118548399&4294967295,C=I+(O<<7&4294967295|O>>>25),O=B+(V^C&(I^V))+L[5]+1200080426&4294967295,B=C+(O<<12&4294967295|O>>>20),O=V+(I^B&(C^I))+L[6]+2821735955&4294967295,V=B+(O<<17&4294967295|O>>>15),O=I+(C^V&(B^C))+L[7]+4249261313&4294967295,I=V+(O<<22&4294967295|O>>>10),O=C+(B^I&(V^B))+L[8]+1770035416&4294967295,C=I+(O<<7&4294967295|O>>>25),O=B+(V^C&(I^V))+L[9]+2336552879&4294967295,B=C+(O<<12&4294967295|O>>>20),O=V+(I^B&(C^I))+L[10]+4294925233&4294967295,V=B+(O<<17&4294967295|O>>>15),O=I+(C^V&(B^C))+L[11]+2304563134&4294967295,I=V+(O<<22&4294967295|O>>>10),O=C+(B^I&(V^B))+L[12]+1804603682&4294967295,C=I+(O<<7&4294967295|O>>>25),O=B+(V^C&(I^V))+L[13]+4254626195&4294967295,B=C+(O<<12&4294967295|O>>>20),O=V+(I^B&(C^I))+L[14]+2792965006&4294967295,V=B+(O<<17&4294967295|O>>>15),O=I+(C^V&(B^C))+L[15]+1236535329&4294967295,I=V+(O<<22&4294967295|O>>>10),O=C+(V^B&(I^V))+L[1]+4129170786&4294967295,C=I+(O<<5&4294967295|O>>>27),O=B+(I^V&(C^I))+L[6]+3225465664&4294967295,B=C+(O<<9&4294967295|O>>>23),O=V+(C^I&(B^C))+L[11]+643717713&4294967295,V=B+(O<<14&4294967295|O>>>18),O=I+(B^C&(V^B))+L[0]+3921069994&4294967295,I=V+(O<<20&4294967295|O>>>12),O=C+(V^B&(I^V))+L[5]+3593408605&4294967295,C=I+(O<<5&4294967295|O>>>27),O=B+(I^V&(C^I))+L[10]+38016083&4294967295,B=C+(O<<9&4294967295|O>>>23),O=V+(C^I&(B^C))+L[15]+3634488961&4294967295,V=B+(O<<14&4294967295|O>>>18),O=I+(B^C&(V^B))+L[4]+3889429448&4294967295,I=V+(O<<20&4294967295|O>>>12),O=C+(V^B&(I^V))+L[9]+568446438&4294967295,C=I+(O<<5&4294967295|O>>>27),O=B+(I^V&(C^I))+L[14]+3275163606&4294967295,B=C+(O<<9&4294967295|O>>>23),O=V+(C^I&(B^C))+L[3]+4107603335&4294967295,V=B+(O<<14&4294967295|O>>>18),O=I+(B^C&(V^B))+L[8]+1163531501&4294967295,I=V+(O<<20&4294967295|O>>>12),O=C+(V^B&(I^V))+L[13]+2850285829&4294967295,C=I+(O<<5&4294967295|O>>>27),O=B+(I^V&(C^I))+L[2]+4243563512&4294967295,B=C+(O<<9&4294967295|O>>>23),O=V+(C^I&(B^C))+L[7]+1735328473&4294967295,V=B+(O<<14&4294967295|O>>>18),O=I+(B^C&(V^B))+L[12]+2368359562&4294967295,I=V+(O<<20&4294967295|O>>>12),O=C+(I^V^B)+L[5]+4294588738&4294967295,C=I+(O<<4&4294967295|O>>>28),O=B+(C^I^V)+L[8]+2272392833&4294967295,B=C+(O<<11&4294967295|O>>>21),O=V+(B^C^I)+L[11]+1839030562&4294967295,V=B+(O<<16&4294967295|O>>>16),O=I+(V^B^C)+L[14]+4259657740&4294967295,I=V+(O<<23&4294967295|O>>>9),O=C+(I^V^B)+L[1]+2763975236&4294967295,C=I+(O<<4&4294967295|O>>>28),O=B+(C^I^V)+L[4]+1272893353&4294967295,B=C+(O<<11&4294967295|O>>>21),O=V+(B^C^I)+L[7]+4139469664&4294967295,V=B+(O<<16&4294967295|O>>>16),O=I+(V^B^C)+L[10]+3200236656&4294967295,I=V+(O<<23&4294967295|O>>>9),O=C+(I^V^B)+L[13]+681279174&4294967295,C=I+(O<<4&4294967295|O>>>28),O=B+(C^I^V)+L[0]+3936430074&4294967295,B=C+(O<<11&4294967295|O>>>21),O=V+(B^C^I)+L[3]+3572445317&4294967295,V=B+(O<<16&4294967295|O>>>16),O=I+(V^B^C)+L[6]+76029189&4294967295,I=V+(O<<23&4294967295|O>>>9),O=C+(I^V^B)+L[9]+3654602809&4294967295,C=I+(O<<4&4294967295|O>>>28),O=B+(C^I^V)+L[12]+3873151461&4294967295,B=C+(O<<11&4294967295|O>>>21),O=V+(B^C^I)+L[15]+530742520&4294967295,V=B+(O<<16&4294967295|O>>>16),O=I+(V^B^C)+L[2]+3299628645&4294967295,I=V+(O<<23&4294967295|O>>>9),O=C+(V^(I|~B))+L[0]+4096336452&4294967295,C=I+(O<<6&4294967295|O>>>26),O=B+(I^(C|~V))+L[7]+1126891415&4294967295,B=C+(O<<10&4294967295|O>>>22),O=V+(C^(B|~I))+L[14]+2878612391&4294967295,V=B+(O<<15&4294967295|O>>>17),O=I+(B^(V|~C))+L[5]+4237533241&4294967295,I=V+(O<<21&4294967295|O>>>11),O=C+(V^(I|~B))+L[12]+1700485571&4294967295,C=I+(O<<6&4294967295|O>>>26),O=B+(I^(C|~V))+L[3]+2399980690&4294967295,B=C+(O<<10&4294967295|O>>>22),O=V+(C^(B|~I))+L[10]+4293915773&4294967295,V=B+(O<<15&4294967295|O>>>17),O=I+(B^(V|~C))+L[1]+2240044497&4294967295,I=V+(O<<21&4294967295|O>>>11),O=C+(V^(I|~B))+L[8]+1873313359&4294967295,C=I+(O<<6&4294967295|O>>>26),O=B+(I^(C|~V))+L[15]+4264355552&4294967295,B=C+(O<<10&4294967295|O>>>22),O=V+(C^(B|~I))+L[6]+2734768916&4294967295,V=B+(O<<15&4294967295|O>>>17),O=I+(B^(V|~C))+L[13]+1309151649&4294967295,I=V+(O<<21&4294967295|O>>>11),O=C+(V^(I|~B))+L[4]+4149444226&4294967295,C=I+(O<<6&4294967295|O>>>26),O=B+(I^(C|~V))+L[11]+3174756917&4294967295,B=C+(O<<10&4294967295|O>>>22),O=V+(C^(B|~I))+L[2]+718787259&4294967295,V=B+(O<<15&4294967295|O>>>17),O=I+(B^(V|~C))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,L=this.B,V=this.h,B=0;B<C;){if(V==0)for(;B<=I;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<C;)if(L[V++]=M.charCodeAt(B++),V==this.blockSize){o(this,L),V=0;break}}else for(;B<C;)if(L[V++]=M[B++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var L=0;32>L;L+=8)M[I++]=this.g[C]>>>L&255;return M};function c(M,C){var I=f;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function h(M,C){this.h=C;for(var I=[],L=!0,V=M.length-1;0<=V;V--){var B=M[V]|0;L&&B==C||(I[V]=B,L=!1)}this.g=I}var f={};function p(M){return-128<=M&&128>M?c(M,function(C){return new h([C|0],0>C?-1:0)}):new h([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return k(y(-M));for(var C=[],I=1,L=0;M>=I;L++)C[L]=M/I|0,I*=4294967296;return new h(C,0)}function v(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return k(v(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(C,8)),L=b,V=0;V<M.length;V+=8){var B=Math.min(8,M.length-V),O=parseInt(M.substring(V,V+B),C);8>B?(B=y(Math.pow(C,B)),L=L.j(B).add(y(O))):(L=L.j(I),L=L.add(y(O)))}return L}var b=p(0),w=p(1),x=p(16777216);r=h.prototype,r.m=function(){if(U(this))return-k(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var L=this.i(I);M+=(0<=L?L:4294967296+L)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(U(this))return"-"+k(this).toString(M);for(var C=y(Math.pow(M,6)),I=this,L="";;){var V=ce(I,C).g;I=Y(I,V.j(C));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,R(I))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function U(M){return M.h==-1}r.l=function(M){return M=Y(this,M),U(M)?-1:R(M)?0:1};function k(M){for(var C=M.g.length,I=[],L=0;L<C;L++)I[L]=~M.g[L];return new h(I,~M.h).add(w)}r.abs=function(){return U(this)?k(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],L=0,V=0;V<=C;V++){var B=L+(this.i(V)&65535)+(M.i(V)&65535),O=(B>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);L=O>>>16,B&=65535,O&=65535,I[V]=O<<16|B}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Y(M,C){return M.add(k(C))}r.j=function(M){if(R(this)||R(M))return b;if(U(this))return U(M)?k(this).j(k(M)):k(k(this).j(M));if(U(M))return k(this.j(k(M)));if(0>this.l(x)&&0>M.l(x))return y(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],L=0;L<2*C;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<M.g.length;V++){var B=this.i(L)>>>16,O=this.i(L)&65535,wt=M.i(V)>>>16,He=M.i(V)&65535;I[2*L+2*V]+=O*He,K(I,2*L+2*V),I[2*L+2*V+1]+=B*He,K(I,2*L+2*V+1),I[2*L+2*V+1]+=O*wt,K(I,2*L+2*V+1),I[2*L+2*V+2]+=B*wt,K(I,2*L+2*V+2)}for(L=0;L<C;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=C;L<2*C;L++)I[L]=0;return new h(I,0)};function K(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function Z(M,C){this.g=M,this.h=C}function ce(M,C){if(R(C))throw Error("division by zero");if(R(M))return new Z(b,b);if(U(M))return C=ce(k(M),C),new Z(k(C.g),k(C.h));if(U(C))return C=ce(M,k(C)),new Z(k(C.g),C.h);if(30<M.g.length){if(U(M)||U(C))throw Error("slowDivide_ only works with positive integers.");for(var I=w,L=C;0>=L.l(M);)I=he(I),L=he(L);var V=Ae(I,1),B=Ae(L,1);for(L=Ae(L,2),I=Ae(I,2);!R(L);){var O=B.add(L);0>=O.l(M)&&(V=V.add(I),B=O),L=Ae(L,1),I=Ae(I,1)}return C=Y(M,V.j(C)),new Z(V,C)}for(V=b;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=y(I),O=B.j(C);U(O)||0<O.l(M);)I-=L,B=y(I),O=B.j(C);R(B)&&(B=w),V=V.add(B),M=Y(M,O)}return new Z(V,M)}r.A=function(M){return ce(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],L=0;L<C;L++)I[L]=this.i(L)&M.i(L);return new h(I,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],L=0;L<C;L++)I[L]=this.i(L)|M.i(L);return new h(I,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],L=0;L<C;L++)I[L]=this.i(L)^M.i(L);return new h(I,this.h^M.h)};function he(M){for(var C=M.g.length+1,I=[],L=0;L<C;L++)I[L]=M.i(L)<<1|M.i(L-1)>>>31;return new h(I,M.h)}function Ae(M,C){var I=C>>5;C%=32;for(var L=M.g.length-I,V=[],B=0;B<L;B++)V[B]=0<C?M.i(B+I)>>>C|M.i(B+I+1)<<32-C:M.i(B+I);return new h(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,IT=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,gi=h}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,Tc,OT,zh,Op,kT,jT,MT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,_,E){return u==Array.prototype||u==Object.prototype||(u[_]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var _=0;_<u.length;++_){var E=u[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function o(u,_){if(_)e:{var E=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in E))break e;E=E[q]}u=u[u.length-1],A=E[u],_=_(A),_!=A&&_!=null&&e(E,u,{configurable:!0,writable:!0,value:_})}}function c(u,_){u instanceof String&&(u+="");var E=0,A=!1,q={next:function(){if(!A&&E<u.length){var X=E++;return{value:_(X,u[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var _=typeof u;return _=_!="object"?_:u?Array.isArray(u)?"array":_:"null",_=="array"||_=="object"&&typeof u.length=="number"}function y(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function v(u,_,E){return u.call.apply(u.bind,arguments)}function b(u,_,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),u.apply(_,q)}}return function(){return u.apply(_,arguments)}}function w(u,_,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function x(u,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function R(u,_){function E(){}E.prototype=_.prototype,u.aa=_.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,q,X){for(var oe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)oe[Ve-2]=arguments[Ve];return _.prototype[q].apply(A,oe)}}function U(u){const _=u.length;if(0<_){const E=Array(_);for(let A=0;A<_;A++)E[A]=u[A];return E}return[]}function k(u,_){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const q=u.length||0,X=A.length||0;u.length=q+X;for(let oe=0;oe<X;oe++)u[q+oe]=A[oe]}else u.push(A)}}class Y{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function K(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var he=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ae(u,_,E){for(const A in u)_.call(E,u[A],A,u)}function M(u,_){for(const E in u)_.call(void 0,u[E],E,u)}function C(u){const _={};for(const E in u)_[E]=u[E];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,_){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)u[E]=A[E];for(let X=0;X<I.length;X++)E=I[X],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function V(u){var _=1;u=u.split(":");const E=[];for(;0<_&&u.length;)E.push(u.shift()),_--;return u.length&&E.push(u.join(":")),E}function B(u){f.setTimeout(()=>{throw u},0)}function O(){var u=Fe;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class wt{constructor(){this.h=this.g=null}add(_,E){const A=He.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var He=new Y(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,Fe=new wt,j=()=>{const u=f.Promise.resolve(void 0);ae=()=>{u.then(ne)}};var ne=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(E){B(E)}var _=He;_.j(u),100>_.h&&(_.h++,u.next=_.g,_.g=u)}ge=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return u})();function De(u,_){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget){if(he){e:{try{ce(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else E=="mouseover"?_=u.fromElement:E=="mouseout"&&(_=u.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:we[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}R(De,ie);var we={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),it=0;function _r(u,_,E,A,q){this.listener=u,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=q,this.key=++it,this.da=this.fa=!1}function Cs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gr(u){this.src=u,this.g={},this.h=0}Gr.prototype.add=function(u,_,E,A,q){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var oe=Ci(u,_,A,q);return-1<oe?(_=u[oe],E||(_.fa=!1)):(_=new _r(_,this.src,X,!!A,q),_.fa=E,u.push(_)),_};function Ri(u,_){var E=_.type;if(E in u.g){var A=u.g[E],q=Array.prototype.indexOf.call(A,_,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(Cs(_),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Ci(u,_,E,A){for(var q=0;q<u.length;++q){var X=u[q];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==A)return q}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),ol={};function tu(u,_,E,A,q){if(Array.isArray(_)){for(var X=0;X<_.length;X++)tu(u,_[X],E,A,q);return null}return E=nu(E),u&&u[qt]?u.K(_,E,y(A)?!!A.capture:!1,q):Hn(u,_,E,!1,A,q)}function Hn(u,_,E,A,q,X){if(!_)throw Error("Invalid event type");var oe=y(q)?!!q.capture:!!q,Ve=xa(u);if(Ve||(u[xi]=Ve=new Gr(u)),E=Ve.add(_,E,A,oe,X),E.proxy)return E;if(A=qd(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)_e||(q=oe),q===void 0&&(q=!1),u.addEventListener(_.toString(),A,q);else if(u.attachEvent)u.attachEvent(Ni(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qd(){function u(E){return _.call(u.src,u.listener,E)}const _=Hd;return u}function ll(u,_,E,A,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)ll(u,_[X],E,A,q);else A=y(A)?!!A.capture:!!A,E=nu(E),u&&u[qt]?(u=u.i,_=String(_).toString(),_ in u.g&&(X=u.g[_],E=Ci(X,E,A,q),-1<E&&(Cs(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete u.g[_],u.h--)))):u&&(u=xa(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Ci(_,E,A,q)),(E=-1<u?_[u]:null)&&Ca(E))}function Ca(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[qt])Ri(_.i,u);else{var E=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(E,A,u.capture):_.detachEvent?_.detachEvent(Ni(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=xa(_))?(Ri(E,u),E.h==0&&(E.src=null,_[xi]=null)):Cs(u)}}}function Ni(u){return u in ol?ol[u]:ol[u]="on"+u}function Hd(u,_){if(u.da)u=!0;else{_=new De(_,this);var E=u.listener,A=u.ha||u.src;u.fa&&Ca(u),u=E.call(A,_)}return u}function xa(u){return u=u[xi],u instanceof Gr?u:null}var cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(u){return typeof u=="function"?u:(u[cl]||(u[cl]=function(_){return u.handleEvent(_)}),u[cl])}function gt(){le.call(this),this.i=new Gr(this),this.M=this,this.F=null}R(gt,le),gt.prototype[qt]=!0,gt.prototype.removeEventListener=function(u,_,E,A){ll(this,u,_,E,A)};function Xe(u,_){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new ie(_,u);else if(_ instanceof ie)_.target=_.target||u;else{var q=_;_=new ie(A,u),L(_,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var oe=_.g=E[X];q=Dn(oe,A,!0,_)&&q}if(oe=_.g=u,q=Dn(oe,A,!0,_)&&q,q=Dn(oe,A,!1,_)&&q,E)for(X=0;X<E.length;X++)oe=_.g=E[X],q=Dn(oe,A,!1,_)&&q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,_;for(_ in u.g){for(var E=u.g[_],A=0;A<E.length;A++)Cs(E[A]);delete u.g[_],u.h--}}this.F=null},gt.prototype.K=function(u,_,E,A){return this.i.add(String(u),_,!1,E,A)},gt.prototype.L=function(u,_,E,A){return this.i.add(String(u),_,!0,E,A)};function Dn(u,_,E,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,X=0;X<_.length;++X){var oe=_[X];if(oe&&!oe.da&&oe.capture==E){var Ve=oe.listener,Mt=oe.ha||oe.src;oe.fa&&Ri(u.i,oe),q=Ve.call(Mt,A)!==!1&&q}}return q&&!A.defaultPrevented}function sn(u,_,E){if(typeof u=="function")E&&(u=w(u,E));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(u,_||0)}function ru(u){u.g=sn(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class Fd extends le{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(u){le.call(this),this.h=u,this.g={}}R(Ii,le);var Di=[];function Oi(u){Ae(u.g,function(_,E){this.g.hasOwnProperty(E)&&Ca(_)},u),u.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),Oi(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=f.JSON.stringify,Na=f.JSON.parse,ki=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function ul(){}ul.prototype.h=null;function hl(u){return u.h||(u.h=u.i())}function dl(){}var $r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){ie.call(this,"d")}R(Kr,ie);function fl(){ie.call(this,"c")}R(fl,ie);var vr={},ml=null;function xs(){return ml=ml||new gt}vr.La="serverreachability";function Ia(u){ie.call(this,vr.La,u)}R(Ia,ie);function Ns(u){const _=xs();Xe(_,new Ia(_))}vr.STAT_EVENT="statevent";function su(u,_){ie.call(this,vr.STAT_EVENT,u),this.stat=_}R(su,ie);function ct(u){const _=xs();Xe(_,new su(_,u))}vr.Ma="timingevent";function jt(u,_){ie.call(this,vr.Ma,u),this.size=_}R(jt,ie);function At(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},_)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function pl(u,_,E,A,q,X){u.info(function(){if(u.g)if(X)for(var oe="",Ve=X.split("&"),Mt=0;Mt<Ve.length;Mt++){var Ue=Ve[Mt].split("=");if(1<Ue.length){var Ft=Ue[0];Ue=Ue[1];var Pt=Ft.split("_");oe=2<=Pt.length&&Pt[1]=="type"?oe+(Ft+"="+Ue+"&"):oe+(Ft+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+E+`
`+oe})}function Gd(u,_,E,A,q,X,oe){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+E+`
`+X+" "+oe})}function Is(u,_,E,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+ji(u,E)+(A?" "+A:"")})}function iu(u,_){u.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function ji(u,_){if(!u.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return ar(E)}catch{return _}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Tr(){}R(Tr,ul),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Er=new Tr;function yn(u,_,E,A){this.j=u,this.i=_,this.l=E,this.R=A||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var gl={},Da={};function or(u,_,E){u.L=1,u.v=Ui(On(_)),u.m=E,u.P=!0,Yr(u,null)}function Yr(u,_){u.F=Date.now(),Mi(u),u.A=On(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),bl(E.i,"t",A),u.C=0,E=u.j.J,u.h=new vt,u.g=Tu(u.j,E?_:null,!u.m),0<u.O&&(u.M=new Fd(w(u.Y,u,u.g),u.O)),_=u.U,E=u.g,A=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Di[0]=q.toString()),q=Di);for(var X=0;X<q.length;X++){var oe=tu(E,q[X],A||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,_)):(u.u="GET",u.g.ea(u.A,u.u,null,_)),Ns(),pl(u.i,u.u,u.A,u.l,u.R,u.m)}yn.prototype.ca=function(u){u=u.target;const _=this.M;_&&Qn(u)==3?_.j():this.Y(u)},yn.prototype.Y=function(u){try{if(u==this.g)e:{const Pt=Qn(this.g);var _=this.g.Ba();const rs=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||Pt!=4||_==7||(_==8||0>=rs?Ns(3):Ns(2)),Os(this);var E=this.g.Z();this.X=E;t:if(au(this)){var A=fu(this.g);u="";var q=A.length,X=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),br(this);var oe="";break t}this.h.i=new f.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,u+=this.h.i.decode(A[_],{stream:!(X&&_==q-1)});A.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Gd(this.i,this.u,this.A,this.l,this.R,Pt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Mt=this.g;if((Ve=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ve)){var Ue=Ve;break t}}Ue=null}if(E=Ue)Is(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pi(this,E);else{this.o=!1,this.s=3,ct(12),Wt(this),br(this);break e}}if(this.P){E=!0;let Jt;for(;!this.J&&this.C<oe.length;)if(Jt=ou(this,oe),Jt==Da){Pt==4&&(this.s=4,ct(14),E=!1),Is(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==gl){this.s=4,ct(15),Is(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Is(this.i,this.l,Jt,null),Pi(this,Jt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||oe.length!=0||this.h.h||(this.s=1,ct(16),E=!1),this.o=this.o&&E,!E)Is(this.i,this.l,oe,"[Invalid Chunked Response]"),Wt(this),br(this);else if(0<oe.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ki(Ft),Ft.M=!0,ct(11))}}else Is(this.i,this.l,oe,null),Pi(this,oe);Pt==4&&Wt(this),this.o&&!this.J&&(Pt==4?_u(this.j,this):(this.o=!1,Mi(this)))}else Xd(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Wt(this),br(this)}}}catch{}finally{}};function au(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ou(u,_){var E=u.C,A=_.indexOf(`
`,E);return A==-1?Da:(E=Number(_.substring(E,A)),isNaN(E)?gl:(A+=1,A+E>_.length?Da:(_=_.slice(A,A+E),u.C=A+E,_)))}yn.prototype.cancel=function(){this.J=!0,Wt(this)};function Mi(u){u.S=Date.now()+u.I,lu(u,u.I)}function lu(u,_){if(u.B!=null)throw Error("WatchDog timer not null");u.B=At(w(u.ba,u),_)}function Os(u){u.B&&(f.clearTimeout(u.B),u.B=null)}yn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(iu(this.i,this.A),this.L!=2&&(Ns(),ct(17)),Wt(this),this.s=2,br(this)):lu(this,this.S-u)};function br(u){u.j.G==0||u.J||_u(u.j,u)}function Wt(u){Os(u);var _=u.M;_&&typeof _.ma=="function"&&_.ma(),u.M=null,Oi(u.U),u.g&&(_=u.g,u.g=null,_.abort(),_.ma())}function Pi(u,_){try{var E=u.j;if(E.G!=0&&(E.g==u||yl(E.h,u))){if(!u.K&&yl(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Ha(E),za(E);else break e;Cl(E),ct(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=At(w(E.Za,E),6e3));if(1>=ka(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ns(E,11)}else if((u.K||E.g==u)&&Ha(E),!K(_))for(q=E.Da.g.parse(_),_=0;_<q.length;_++){let Ue=q[_];if(E.T=Ue[0],Ue=Ue[1],E.G==2)if(Ue[0]=="c"){E.K=Ue[1],E.ia=Ue[2];const Ft=Ue[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const Pt=Ue[4];Pt!=null&&(E.Aa=Pt,E.j.info("SVER="+E.Aa));const rs=Ue[5];rs!=null&&typeof rs=="number"&&0<rs&&(A=1.5*rs,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Jt=u.g;if(Jt){const Nr=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var X=A.h;X.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ja(X,X.h),X.h=null))}if(A.D){const Nl=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(A.ya=Nl,Ze(A.I,A.D,Nl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var oe=u;if(A.qa=Eu(A,A.J?A.ia:null,A.W),oe.K){_n(A.h,oe);var Ve=oe,Mt=A.L;Mt&&(Ve.I=Mt),Ve.B&&(Os(Ve),Mi(Ve)),A.g=oe}else gu(A);0<E.i.length&&qa(E)}else Ue[0]!="stop"&&Ue[0]!="close"||ns(E,7);else E.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ns(E,7):Al(E):Ue[0]!="noop"&&E.l&&E.l.ta(Ue),E.v=0)}}Ns(4)}catch{}}var cu=class{constructor(u,_){this.g=u,this.map=_}};function Xr(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ka(u){return u.h?1:u.g?u.g.size:0}function yl(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function ja(u,_){u.g?u.g.add(_):u.h=_}function _n(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Xr.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const E of u.g.values())_=_.concat(E.D);return _}return U(u.i)}function $d(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var _=[],E=u.length,A=0;A<E;A++)_.push(u[A]);return _}_=[],E=0;for(A in u)_[E++]=u[A];return _}function Ma(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var _=[];u=u.length;for(var E=0;E<u;E++)_.push(E);return _}_=[],E=0;for(const A in u)_[E++]=A;return _}}}function vl(u,_){if(u.forEach&&typeof u.forEach=="function")u.forEach(_,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,_,void 0);else for(var E=Ma(u),A=$d(u),q=A.length,X=0;X<q;X++)_.call(void 0,A[X],E&&E[X],u)}var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kd(u,_){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),q=null;if(0<=A){var X=u[E].substring(0,A);q=u[E].substring(A+1)}else X=u[E];_(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Rt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Rt){this.h=u.h,Vi(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.s),this.l=u.l;var _=u.i,E=new Jr;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Wr(this,E),this.m=u.m}else u&&(_=String(u).match(Li))?(this.h=!1,Vi(this,_[1]||"",!0),this.o=Gn(_[2]||""),this.g=Gn(_[3]||"",!0),ks(this,_[4]),this.l=Gn(_[5]||"",!0),Wr(this,_[6]||"",!0),this.m=Gn(_[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Rt.prototype.toString=function(){var u=[],_=this.j;_&&u.push(Bi(_,El,!0),":");var E=this.g;return(E||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Bi(_,El,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Bi(E,E.charAt(0)=="/"?Qd:Tl,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Bi(E,Pa)),u.join("")};function On(u){return new Rt(u)}function Vi(u,_,E){u.j=E?Gn(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);u.s=_}else u.s=null}function Wr(u,_,E){_ instanceof Jr?(u.i=_,hu(u.i,u.h)):(E||(_=Bi(_,Yd)),u.i=new Jr(_,u.h))}function Ze(u,_,E){u.i.set(_,E)}function Ui(u){return Ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Gn(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bi(u,_,E){return typeof u=="string"?(u=encodeURI(u).replace(_,uu),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var El=/[#\/\?@]/g,Tl=/[#\?:]/g,Qd=/[#\?]/g,Yd=/[#\?@]/g,Pa=/#/g;function Jr(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function $n(u){u.g||(u.g=new Map,u.h=0,u.i&&Kd(u.i,function(_,E){u.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}r=Jr.prototype,r.add=function(u,_){$n(this),this.i=null,u=Sr(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(_),this.h+=1,this};function Zr(u,_){$n(u),_=Sr(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function es(u,_){return $n(u),_=Sr(u,_),u.g.has(_)}r.forEach=function(u,_){$n(this),this.g.forEach(function(E,A){E.forEach(function(q){u.call(_,q,A,this)},this)},this)},r.na=function(){$n(this);const u=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let A=0;A<_.length;A++){const q=u[A];for(let X=0;X<q.length;X++)E.push(_[A])}return E},r.V=function(u){$n(this);let _=[];if(typeof u=="string")es(this,u)&&(_=_.concat(this.g.get(Sr(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)_=_.concat(u[E])}return _},r.set=function(u,_){return $n(this),this.i=null,u=Sr(this,u),es(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},r.get=function(u,_){return u?(u=this.V(u),0<u.length?String(u[0]):_):_};function bl(u,_,E){Zr(u,_),0<E.length&&(u.i=null,u.g.set(Sr(u,_),U(E)),u.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var A=_[E];const X=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var q=X;oe[A]!==""&&(q+="="+encodeURIComponent(String(oe[A]))),u.push(q)}}return this.i=u.join("&")};function Sr(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function hu(u,_){_&&!u.j&&($n(u),u.i=null,u.g.forEach(function(E,A){var q=A.toLowerCase();A!=q&&(Zr(this,A),bl(this,q,E))},u)),u.j=_}function zi(u,_){const E=new Fn;if(f.Image){const A=new Image;A.onload=x(Kn,E,"TestLoadImage: loaded",!0,_,A),A.onerror=x(Kn,E,"TestLoadImage: error",!1,_,A),A.onabort=x(Kn,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=x(Kn,E,"TestLoadImage: timeout",!1,_,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function lr(u,_){const E=new Fn,A=new AbortController,q=setTimeout(()=>{A.abort(),Kn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?Kn(E,"TestPingServer: ok",!0,_):Kn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Kn(E,"TestPingServer: error",!1,_)})}function Kn(u,_,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function qi(){this.g=new ki}function wr(u,_,E){const A=E||"";try{vl(u,function(q,X){let oe=q;y(q)&&(oe=ar(q)),_.push(A+X+"="+encodeURIComponent(oe))})}catch(q){throw _.push(A+"type="+encodeURIComponent("_badmap")),q}}function js(u){this.l=u.Ub||null,this.j=u.eb||!1}R(js,ul),js.prototype.g=function(){return new ts(this.l,this.j)},js.prototype.i=(function(u){return function(){return u}})({});function ts(u,_){gt.call(this),this.D=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ts,gt),r=ts.prototype,r.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=_,this.readyState=1,Rr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(_.body=u),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Ar(this):Rr(this),this.readyState==3&&Sl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Ar(this))},r.Qa=function(u){this.g&&(this.response=u,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Rr(u)}r.setRequestHeader=function(u,_){this.u.append(u,_)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=_.next();return u.join(`\r
`)};function Rr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wl(u){let _="";return Ae(u,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Ht(u,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=wl(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Ze(u,_,E))}function Qe(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Qe,gt);var La=/^https?$/i,Hi=["POST","PUT"];r=Qe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?hl(this.o):hl(Er),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(X){du(this,X);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Hi,_,void 0))||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of E)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){du(this,X)}};function du(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.m=5,Va(u),Cr(u)}function Va(u){u.A||(u.A=!0,Xe(u,"complete"),Xe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xe(this,"complete"),Xe(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},r.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qn(u)!=4||u.Z()!=2)){if(u.u&&Qn(u)==4)sn(u.Ea,0,u);else if(Xe(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=oe===0){var q=String(u.D).match(Li)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),A=!La.test(q?q.toLowerCase():"")}E=A}if(E)Xe(u,"complete"),Xe(u,"success");else{u.m=6;try{var X=2<Qn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",Va(u)}}finally{Cr(u)}}}}function Cr(u,_){if(u.g){Fi(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,_||Xe(u,"ready");try{E.onreadystatechange=A}catch{}}}function Fi(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),Na(_)}};function fu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xd(u){const _={};u=(u.g&&2<=Qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(K(u[A]))continue;var E=V(u[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[q]||[];_[q]=X,X.push(E)}M(_,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(u,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||_}function Ba(u){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,u),this.cb=Gi("retryDelaySeedMs",1e4,u),this.Wa=Gi("forwardChannelMaxRetries",2,u),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xr(u&&u.concurrentRequestLimit),this.Da=new qi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ba.prototype,r.la=8,r.G=1,r.connect=function(u,_,E,A){ct(0),this.W=u,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Eu(this,null,this.W),qa(this)};function Al(u){if(mu(u),u.G==3){var _=u.U++,E=On(u.I);if(Ze(E,"SID",u.K),Ze(E,"RID",_),Ze(E,"TYPE","terminate"),$i(u,E),_=new yn(u,u.j,_),_.L=2,_.v=Ui(On(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.v,E=!0),E||(_.g=Tu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Mi(_)}vu(u)}function za(u){u.g&&(Ki(u),u.g.cancel(),u.g=null)}function mu(u){za(u),u.u&&(f.clearTimeout(u.u),u.u=null),Ha(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function qa(u){if(!Oa(u.h)&&!u.s){u.s=!0;var _=u.Ga;ae||j(),ge||(ae(),ge=!0),Fe.add(_,u),u.B=0}}function Wd(u,_){return ka(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=_.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=At(w(u.Ga,u,_),xl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new yn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=C(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=pu(this,q,_),E=On(this.I),Ze(E,"RID",u),Ze(E,"CVER",22),this.D&&Ze(E,"X-HTTP-Session-Id",this.D),$i(this,E),X&&(this.O?_="headers="+encodeURIComponent(String(wl(X)))+"&"+_:this.m&&Ht(E,this.m,X)),ja(this.h,q),this.Ua&&Ze(E,"TYPE","init"),this.P?(Ze(E,"$req",_),Ze(E,"SID","null"),q.T=!0,or(q,E,null)):or(q,E,_),this.G=2}}else this.G==3&&(u?Rl(this,u):this.i.length==0||Oa(this.h)||Rl(this))};function Rl(u,_){var E;_?E=_.l:E=u.U++;const A=On(u.I);Ze(A,"SID",u.K),Ze(A,"RID",E),Ze(A,"AID",u.T),$i(u,A),u.m&&u.o&&Ht(A,u.m,u.o),E=new yn(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),_&&(u.i=_.D.concat(u.i)),_=pu(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ja(u.h,E),or(E,A,_)}function $i(u,_){u.H&&Ae(u.H,function(E,A){Ze(_,A,E)}),u.l&&vl({},function(E,A){Ze(_,A,E)})}function pu(u,_,E){E=Math.min(u.i.length,E);var A=u.l?w(u.l.Na,u.l,u):null;e:{var q=u.i;let X=-1;for(;;){const oe=["count="+E];X==-1?0<E?(X=q[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Ve=!0;for(let Mt=0;Mt<E;Mt++){let Ue=q[Mt].g;const Ft=q[Mt].map;if(Ue-=X,0>Ue)X=Math.max(0,q[Mt].g-100),Ve=!1;else try{wr(Ft,oe,"req"+Ue+"_")}catch{A&&A(Ft)}}if(Ve){A=oe.join("&");break e}}}return u=u.i.splice(0,E),_.D=u,A}function gu(u){if(!u.g&&!u.u){u.Y=1;var _=u.Fa;ae||j(),ge||(ae(),ge=!0),Fe.add(_,u),u.v=0}}function Cl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=At(w(u.Fa,u),xl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=At(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),za(this),yu(this))};function Ki(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new yn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var _=On(u.qa);Ze(_,"RID","rpc"),Ze(_,"SID",u.K),Ze(_,"AID",u.T),Ze(_,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ze(_,"TO",u.ja),Ze(_,"TYPE","xmlhttp"),$i(u,_),u.m&&u.o&&Ht(_,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Ui(On(_)),E.m=null,E.P=!0,Yr(E,u)}r.Za=function(){this.C!=null&&(this.C=null,za(this),Cl(this),ct(19))};function Ha(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function _u(u,_){var E=null;if(u.g==_){Ha(u),Ki(u),u.g=null;var A=2}else if(yl(u.h,_))E=_.D,_n(u.h,_),A=1;else return;if(u.G!=0){if(_.o)if(A==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var q=u.B;A=xs(),Xe(A,new jt(A,E)),qa(u)}else gu(u);else if(q=_.s,q==3||q==0&&0<_.X||!(A==1&&Wd(u,_)||A==2&&Cl(u)))switch(E&&0<E.length&&(_=u.h,_.i=_.i.concat(E)),q){case 1:ns(u,5);break;case 4:ns(u,10);break;case 3:ns(u,6);break;default:ns(u,2)}}}function xl(u,_){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*_}function ns(u,_){if(u.j.info("Error code "+_),_==2){var E=w(u.fb,u),A=u.Xa;const q=!A;A=new Rt(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Vi(A,"https"),Ui(A),q?zi(A.toString(),E):lr(A.toString(),E)}else ct(2);u.G=0,u.l&&u.l.sa(_),vu(u),mu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function vu(u){if(u.G=0,u.ka=[],u.l){const _=_l(u.h);(_.length!=0||u.i.length!=0)&&(k(u.ka,_),k(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function Eu(u,_,E){var A=E instanceof Rt?On(E):new Rt(E);if(A.g!="")_&&(A.g=_+"."+A.g),ks(A,A.s);else{var q=f.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var X=new Rt(null);A&&Vi(X,A),_&&(X.g=_),q&&ks(X,q),E&&(X.l=E),A=X}return E=u.D,_=u.ya,E&&_&&Ze(A,E,_),Ze(A,"VER",u.la),$i(u,A),A}function Tu(u,_,E){if(_&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Ca&&!u.pa?new Qe(new js({eb:E})):new Qe(u.pa),_.Ha(u.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fa(){}Fa.prototype.g=function(u,_){return new vn(u,_)};function vn(u,_){gt.call(this),this.g=new Ba(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(u?u["X-WebChannel-Client-Profile"]=_.va:u={"X-WebChannel-Client-Profile":_.va}),this.g.S=u,(u=_&&_.Sb)&&!K(u)&&(this.g.m=u),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!K(_)&&(this.g.D=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new xr(this)}R(vn,gt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Al(this.g)},vn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=ar(u),u=E);_.i.push(new cu(_.Ya++,u)),_.G==3&&qa(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,vn.aa.N.call(this)};function Su(u){Kr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const E in _){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}R(Su,Kr);function wu(){fl.call(this),this.status=1}R(wu,fl);function xr(u){this.g=u}R(xr,bu),xr.prototype.ua=function(){Xe(this.g,"a")},xr.prototype.ta=function(u){Xe(this.g,new Su(u))},xr.prototype.sa=function(u){Xe(this.g,new wu)},xr.prototype.ra=function(){Xe(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,MT=function(){return new Fa},jT=function(){return xs()},kT=vr,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,zh=Ds,Qr.COMPLETE="complete",OT=Qr,dl.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Tc=dl,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,DT=Qe}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",r0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new dg("@firebase/firestore");function Ro(){return Ea.logLevel}function de(r,...e){if(Ea.logLevel<=Pe.DEBUG){const t=e.map(Sg);Ea.debug(`Firestore (${el}): ${r}`,...t)}}function ws(r,...e){if(Ea.logLevel<=Pe.ERROR){const t=e.map(Sg);Ea.error(`Firestore (${el}): ${r}`,...t)}}function zo(r,...e){if(Ea.logLevel<=Pe.WARN){const t=e.map(Sg);Ea.warn(`Firestore (${el}): ${r}`,...t)}}function Sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,PT(r,i,t)}function PT(r,e,t){let i=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ws(i),new Error(i)}function mt(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||PT(e,o,i)}function qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class GN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $N{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let c=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fa,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fa)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new LT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class KN{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new KN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const i=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new s0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=XN(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%62))}return i}}function Le(r,e){return r<e?-1:r>e?1:0}function kp(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return sp(o)===sp(c)?Le(o,c):sp(o)?1:-1}return Le(r.length,e.length)}const WN=55296,JN=57343;function sp(r){const e=r.charCodeAt(0);return e>=WN&&e<=JN}function qo(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class Pr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ce(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=Pr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Le(e.length,t.length)}static compareSegments(e,t){const i=Pr.isNumericId(e),o=Pr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class ot extends Pr{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Pr{construct(e,t,i){return new fn(e,t,i)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new fn([i0])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ue(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ue(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(c(),o++)}if(c(),h)throw new ue(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e,t){if(!t)throw new ue(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eI(r,e,t,i){if(e===!0&&i===!0)throw new ue(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function a0(r){if(!ve.isDocumentKey(r))throw new ue(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function o0(r){if(ve.isDocumentKey(r))throw new ue(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function UT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Td(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function jo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Td(r);throw new ue(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e){const t={typeString:r};return e&&(t.value=e),t}function Kc(r,e){if(!UT(r))throw new ue(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new ue(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,c0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*c0);return new ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<l0)throw new ue(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ot("string",ht._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ht(0,0))}static max(){return new Re(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=-1;function tI(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new ht(t+1,0):new ht(t,i));return new _i(o,ve.empty(),e)}function nI(r){return new _i(r.readTime,r.key,Mc)}class _i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _i(Re.min(),ve.empty(),Mc)}static max(){return new _i(Re.max(),ve.empty(),Mc)}}function rI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==sI)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let o=0,c=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++c,h&&c===o&&t()}),(p=>i(p)))})),h=!0,c===o&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((o=>o?re.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,c)=>{i.push(t.call(this,o,c))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,o)=>{const c=e.length,h=new Array(c);let f=0;for(let p=0;p<c;p++){const y=p;t(e[y]).next((v=>{h[y]=v,++f,f===c&&i(h)}),(v=>o(v)))}}))}static doWhile(e,t){return new re(((i,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):i()};c()}))}}function aI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=-1;function wd(r){return r==null}function sd(r){return r===0&&1/r==-1/0}function lI(r){return typeof r=="number"&&Number.isInteger(r)&&!sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="";function cI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=u0(e)),e=uI(r.get(t),e);return u0(e)}function uI(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case BT:t+="";break;default:t+=c}}return t}function u0(r){return r+BT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function nl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function zT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new nn(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,i,o,c){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ui([])}unionWith(e){let t=new zt(fn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new qT("Invalid base64 string: "+c):c}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const hI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(r){if(mt(!!r,39018),typeof r=="string"){let e=0;const t=hI.exec(r);if(mt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ei(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",FT="__type__",GT="__previous_value__",$T="__local_write_time__";function Ag(r){return(r?.mapValue?.fields||{})[FT]?.stringValue===HT}function Ad(r){const e=r.mapValue.fields[GT];return Ag(e)?Ad(e):e}function Pc(r){const e=vi(r.mapValue.fields[$T].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t,i,o,c,h,f,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const id="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__type__",fI="__max__",Nh={mapValue:{}},QT="__vector__",ad="value";function Ti(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ag(r)?4:pI(r)?9007199254740991:mI(r)?10:11:Ce(28295,{value:r})}function Fr(r,e){if(r===e)return!0;const t=Ti(r);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pc(r).isEqual(Pc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=vi(o.timestampValue),f=vi(c.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Ei(o.bytesValue).isEqual(Ei(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),f=bt(c.doubleValue);return h===f?sd(h)===sd(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return qo(r.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},f=c.mapValue.fields||{};if(h0(h)!==h0(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!Fr(h[p],f[p])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function Vc(r,e){return(r.values||[]).find((t=>Fr(t,e)))!==void 0}function Ho(r,e){if(r===e)return 0;const t=Ti(r),i=Ti(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const f=bt(c.integerValue||c.doubleValue),p=bt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(r,e);case 3:return f0(r.timestampValue,e.timestampValue);case 4:return f0(Pc(r),Pc(e));case 5:return kp(r.stringValue,e.stringValue);case 6:return(function(c,h){const f=Ei(c),p=Ei(h);return f.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const f=c.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=Le(f[y],p[y]);if(v!==0)return v}return Le(f.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const f=Le(bt(c.latitude),bt(h.latitude));return f!==0?f:Le(bt(c.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return m0(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const f=c.fields||{},p=h.fields||{},y=f[ad]?.arrayValue,v=p[ad]?.arrayValue,b=Le(y?.values?.length||0,v?.values?.length||0);return b!==0?b:m0(y,v)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Nh.mapValue&&h===Nh.mapValue)return 0;if(c===Nh.mapValue)return 1;if(h===Nh.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=kp(p[b],v[b]);if(w!==0)return w;const x=Ho(f[p[b]],y[v[b]]);if(x!==0)return x}return Le(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function f0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const t=vi(r),i=vi(e),o=Le(t.seconds,i.seconds);return o!==0?o:Le(t.nanos,i.nanos)}function m0(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=Ho(t[o],i[o]);if(c)return c}return Le(t.length,i.length)}function Fo(r){return jp(r)}function jp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=vi(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ei(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ve.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=jp(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${jp(t.fields[h])}`;return o+"}"})(r.mapValue):Ce(61005,{value:r})}function qh(r){switch(Ti(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(r);return e?16+qh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ei(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+qh(c)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return nl(i.fields,((c,h)=>{o+=c.length+qh(h)})),o})(r.mapValue);default:throw Ce(13486,{value:r})}}function p0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Mp(r){return!!r&&"integerValue"in r}function Rg(r){return!!r&&"arrayValue"in r}function g0(r){return!!r&&"nullValue"in r}function y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ip(r){return!!r&&"mapValue"in r}function mI(r){return(r?.mapValue?.fields||{})[KT]?.stringValue===QT}function Cc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return nl(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Cc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cc(r.arrayValue.values[t]);return e}return{...r}}function pI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ip(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(t)}setAll(e){let t=fn.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Cc(h):o.push(f.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());ip(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ip(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){nl(t,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new Lr(Cc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,c,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,Re.min(),Re.min(),Re.min(),Lr.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Re.min(),Re.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Re.min(),Re.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.position=e,this.inclusive=t}}function _0(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?i=ve.comparator(ve.fromName(h.referenceValue),t.key):i=Ho(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function v0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class Dt extends YT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new _I(e,t,i):t==="array-contains"?new TI(e,i):t==="in"?new bI(e,i):t==="not-in"?new SI(e,i):t==="array-contains-any"?new wI(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new vI(e,i):new EI(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ho(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends YT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pr(e,t)}matches(e){return XT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XT(r){return r.op==="and"}function WT(r){return yI(r)&&XT(r)}function yI(r){for(const e of r.filters)if(e instanceof pr)return!1;return!0}function Pp(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+Fo(r.value);if(WT(r))return r.filters.map((e=>Pp(e))).join(",");{const e=r.filters.map((t=>Pp(t))).join(",");return`${r.op}(${e})`}}function JT(r,e){return r instanceof Dt?(function(i,o){return o instanceof Dt&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)})(r,e):r instanceof pr?(function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,h,f)=>c&&JT(h,o.filters[f])),!0):!1})(r,e):void Ce(19439)}function ZT(r){return r instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`})(r):r instanceof pr?(function(t){return t.op.toString()+" {"+t.getFilters().map(ZT).join(" ,")+"}"})(r):"Filter"}class _I extends Dt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class vI extends Dt{constructor(e,t){super(e,"in",t),this.keys=eb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class EI extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=eb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function eb(r,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class TI extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&Vc(t.arrayValue,this.value)}}class bI extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vc(this.value.arrayValue,t)}}class SI extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vc(this.value.arrayValue,t)}}class wI extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Vc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t=null,i=[],o=[],c=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=f,this.Te=null}}function E0(r,e=null,t=[],i=[],o=null,c=null,h=null){return new AI(r,e,t,i,o,c,h)}function Cg(r){const e=qe(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Pp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Fo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Fo(i))).join(",")),e.Te=t}return e.Te}function xg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!gI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!JT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!v0(r.startAt,e.startAt)&&v0(r.endAt,e.endAt)}function Lp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t=null,i=[],o=[],c=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RI(r,e,t,i,o,c,h,f){return new rl(r,e,t,i,o,c,h,f)}function Rd(r){return new rl(r)}function T0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tb(r){return r.collectionGroup!==null}function xc(r){const e=qe(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new zt(fn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Uc(c,i))})),t.has(fn.keyField().canonicalString())||e.Ie.push(new Uc(fn.keyField(),i))}return e.Ie}function zr(r){const e=qe(r);return e.Ee||(e.Ee=CI(e,xc(r))),e.Ee}function CI(r,e){if(r.limitType==="F")return E0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Uc(o.field,c)}));const t=r.endAt?new od(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new od(r.startAt.position,r.startAt.inclusive):null;return E0(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Vp(r,e){const t=r.filters.concat([e]);return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Up(r,e,t){return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Cd(r,e){return xg(zr(r),zr(e))&&r.limitType===e.limitType}function nb(r){return`${Cg(zr(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>ZT(o))).join(", ")}]`),wd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Fo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Fo(o))).join(",")),`Target(${i})`})(zr(r))}; limitType=${r.limitType})`}function xd(r,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,o){for(const c of xc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,p){const y=_0(h,f,p);return h.inclusive?y<=0:y<0})(i.startAt,xc(i),o)||i.endAt&&!(function(h,f,p){const y=_0(h,f,p);return h.inclusive?y>=0:y>0})(i.endAt,xc(i),o))})(r,e)}function xI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rb(r){return(e,t)=>{let i=!1;for(const o of xc(r)){const c=NI(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function NI(r,e,t){const i=r.field.isKeyField()?ve.comparator(e.key,t.key):(function(c,h,f){const p=h.data.field(c),y=f.data.field(c);return p!==null&&y!==null?Ho(p,y):Ce(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,((t,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new St(ve.comparator);function bi(){return II}const sb=new St(ve.comparator);function bc(...r){let e=sb;for(const t of r)e=e.insert(t.key,t);return e}function DI(r){let e=sb;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ha(){return Nc()}function ib(){return Nc()}function Nc(){return new Aa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const OI=new zt(ve.comparator);function Ge(...r){let e=OI;for(const t of r)e=e.add(t);return e}const kI=new zt(Le);function jI(){return kI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function ab(r){return{integerValue:""+r}}function MI(r,e){return lI(e)?ab(e):Ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this._=void 0}}function PI(r,e,t){return r instanceof Bp?(function(o,c){const h={fields:{[FT]:{stringValue:HT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ag(c)&&(c=Ad(c)),c&&(h.fields[GT]=c),{mapValue:h}})(t,e):r instanceof ld?ob(r,e):r instanceof cd?lb(r,e):(function(o,c){const h=VI(o,c),f=b0(h)+b0(o.Ae);return Mp(h)&&Mp(o.Ae)?ab(f):Ng(o.serializer,f)})(r,e)}function LI(r,e,t){return r instanceof ld?ob(r,e):r instanceof cd?lb(r,e):t}function VI(r,e){return r instanceof zp?(function(i){return Mp(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Bp extends Nd{}class ld extends Nd{constructor(e){super(),this.elements=e}}function ob(r,e){const t=cb(e);for(const i of r.elements)t.some((o=>Fr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class cd extends Nd{constructor(e){super(),this.elements=e}}function lb(r,e){let t=cb(e);for(const i of r.elements)t=t.filter((o=>!Fr(o,i)));return{arrayValue:{values:t}}}class zp extends Nd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function b0(r){return bt(r.integerValue||r.doubleValue)}function cb(r){return Rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UI(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof ld&&o instanceof ld||i instanceof cd&&o instanceof cd?qo(i.elements,o.elements,Fr):i instanceof zp&&o instanceof zp?Fr(i.Ae,o.Ae):i instanceof Bp&&o instanceof Bp})(r.transform,e.transform)}class ma{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ig{}function ub(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zI(r.key,ma.none()):new Dg(r.key,r.data,ma.none());{const t=r.data,i=Lr.empty();let o=new zt(fn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new Id(r.key,i,new ui(o.toArray()),ma.none())}}function BI(r,e,t){r instanceof Dg?(function(o,c,h){const f=o.value.clone(),p=w0(o.fieldTransforms,c,h.transformResults);f.setAll(p),c.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Id?(function(o,c,h){if(!Hh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const f=w0(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(hb(o)),p.setAll(f),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,t):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Ic(r,e,t,i){return r instanceof Dg?(function(c,h,f,p){if(!Hh(c.precondition,h))return f;const y=c.value.clone(),v=A0(c.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,t,i):r instanceof Id?(function(c,h,f,p){if(!Hh(c.precondition,h))return f;const y=A0(c.fieldTransforms,p,h),v=h.data;return v.setAll(hb(c)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,t,i):(function(c,h,f){return Hh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function S0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,((c,h)=>UI(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Dg extends Ig{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Id extends Ig{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function w0(r,e,t){const i=new Map;mt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const c=r[o],h=c.transform,f=e.data.field(c.field);i.set(c.field,LI(h,f,t[o]))}return i}function A0(r,e,t){const i=new Map;for(const o of r){const c=o.transform,h=t.data.field(o.field);i.set(o.field,PI(c,h,e))}return i}class zI extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&BI(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ic(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ib();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let f=this.applyToLocalView(h,c.mutatedFields);f=t.has(o.key)?null:f;const p=ub(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((t,i)=>S0(t,i)))&&qo(this.baseMutations,e.baseMutations,((t,i)=>S0(t,i)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,ze;function db(r){if(r===void 0)return ws("GRPC error has no .code"),se.UNKNOWN;switch(r){case It.OK:return se.OK;case It.CANCELLED:return se.CANCELLED;case It.UNKNOWN:return se.UNKNOWN;case It.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case It.INTERNAL:return se.INTERNAL;case It.UNAVAILABLE:return se.UNAVAILABLE;case It.UNAUTHENTICATED:return se.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case It.NOT_FOUND:return se.NOT_FOUND;case It.ALREADY_EXISTS:return se.ALREADY_EXISTS;case It.PERMISSION_DENIED:return se.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case It.ABORTED:return se.ABORTED;case It.OUT_OF_RANGE:return se.OUT_OF_RANGE;case It.UNIMPLEMENTED:return se.UNIMPLEMENTED;case It.DATA_LOSS:return se.DATA_LOSS;default:return Ce(39323,{code:r})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new gi([4294967295,4294967295],0);function R0(r){const e=GI().encode(r),t=new IT;return t.update(e),new Uint8Array(t.digest())}function C0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gi([t,i],0),new gi([o,c],0)]}class Og{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Sc(`Invalid padding: ${t}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gi.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(gi.fromNumber(i)));return o.compare($I)===1&&(o=new gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=R0(e),[i,o]=C0(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Og(c,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=R0(e),[i,o]=C0(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dd(Re.min(),o,new St(Le),bi(),Ge())}}class Qc{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Qc(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class fb{constructor(e,t){this.targetId=e,this.Ce=t}}class mb{constructor(e,t,i=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=N0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),i=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce(38017,{changeType:c})}})),new Qc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KI{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.Je=Ih(),this.He=Ih(),this.Ye=new St(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Lp(c))if(i===0){const h=new ve(c.path);this.et(t,h,dn.newNoDocument(h,Re.min()))}else mt(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),p=f?this.ct(f,e,h):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let h,f;try{h=Ei(i).toUint8Array()}catch(p){if(p instanceof qT)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Og(h,o,c)}catch(p){return zo(p instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((c=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const f=this.ot(h);if(f){if(c.current&&Lp(f.target)){const p=new ve(f.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,dn.newNoDocument(p,e))}c.Be&&(t.set(h,c.ke()),c.qe())}}));let i=Ge();this.He.forEach(((c,h)=>{let f=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Dd(e,t,this.Ye,this.je,i);return this.je=bi(),this.Je=Ih(),this.He=Ih(),this.Ye=new St(Le),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new x0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new zt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new zt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new St(ve.comparator)}function N0(){return new St(ve.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class WI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qp(r,e){return r.useProto3Json||wd(e)?e:{value:e}}function Hp(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Mo(r){return mt(!!r,49232),Re.fromTimestamp((function(t){const i=vi(t);return new ht(i.seconds,i.nanos)})(r))}function gb(r,e){return Fp(r,e).canonicalString()}function Fp(r,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function yb(r){const e=ot.fromString(r);return mt(bb(e),10190,{key:e.toString()}),e}function ap(r,e){const t=yb(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(vb(t))}function _b(r,e){return gb(r.databaseId,e)}function JI(r){const e=yb(r);return e.length===4?ot.emptyPath():vb(e)}function I0(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vb(r){return mt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ZI(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(mt(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const v=y.code===void 0?se.UNKNOWN:db(y.code);return new ue(v,y.message||"")})(h);t=new mb(i,o,c,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ap(r,i.document.name),c=Mo(i.document.updateTime),h=i.document.createTime?Mo(i.document.createTime):Re.min(),f=new Lr({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(o,c,h,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Fh(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ap(r,i.document),c=i.readTime?Mo(i.readTime):Re.min(),h=dn.newNoDocument(o,c),f=i.removedTargetIds||[];t=new Fh([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ap(r,i.document),c=i.removedTargetIds||[];t=new Fh([],c,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new FI(o,c),f=i.targetId;t=new fb(f,h)}}return t}function eD(r,e){return{documents:[_b(r,e.path)]}}function tD(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_b(r,o);const c=(function(y){if(y.length!==0)return Tb(pr.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((v=>(function(w){return{field:xo(w.field),direction:sD(w.dir)}})(v)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=qp(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function nD(r){let e=JI(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){mt(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=(function(b){const w=Eb(b);return w instanceof pr&&WT(w)?w.getFilters():[w]})(t.where));let h=[];t.orderBy&&(h=(function(b){return b.map((w=>(function(R){return new Uc(No(R.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,wd(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(b){const w=!!b.before,x=b.values||[];return new od(x,w)})(t.startAt));let y=null;return t.endAt&&(y=(function(b){const w=!b.before,x=b.values||[];return new od(x,w)})(t.endAt)),RI(e,o,h,c,f,"F",p,y)}function rD(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Eb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=No(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(t.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(t.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Dt.create(No(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return pr.create(t.compositeFilter.filters.map((i=>Eb(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(r):Ce(30097,{filter:r})}function sD(r){return QI[r]}function iD(r){return YI[r]}function aD(r){return XI[r]}function xo(r){return{fieldPath:r.canonicalString()}}function No(r){return fn.fromServerFormat(r.fieldPath)}function Tb(r){return r instanceof Dt?(function(t){if(t.op==="=="){if(y0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(g0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(y0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(g0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:iD(t.op),value:t.value}}})(r):r instanceof pr?(function(t){const i=t.getFilters().map((o=>Tb(o)));return i.length===1?i[0]:{compositeFilter:{op:aD(t.op),filters:i}}})(r):Ce(54877,{filter:r})}function bb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,i,o,c=Re.min(),h=Re.min(),f=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.yt=e}}function lD(r){const e=nD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Cn=new uD}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(_i.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class uD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new zt(ot.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new zt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Sb,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Go(0)}static cr(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="LruGarbageCollector",hD=1048576;function k0([r,e],[t,i]){const o=Le(r,t);return o===0?Le(e,i):o}class dD{constructor(e){this.Ir=e,this.buffer=new zt(k0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();k0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(O0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?de(O0,"Ignoring IndexedDB error during garbage collection: ",t):await bd(t)}await this.Vr(3e5)}))}}class mD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Sd.ce);const i=new dD(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(D0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,c,h,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(i=b,f=Date.now(),this.removeTargets(e,i,t)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(y=Date.now(),Ro()<=Pe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function pD(r,e){return new mD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.changes=new Aa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Ic(i.mutation,o,ui.empty(),ht.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ge()){const o=ha();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((c=>{let h=bc();return c.forEach(((f,p)=>{h=h.insert(f,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=ha();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ge())))}populateOverlays(e,t,i){const o=[];return i.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let c=bi();const h=Nc(),f=(function(){return Nc()})();return t.forEach(((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Id)?c=c.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),Ic(v.mutation,y,v.mutation.getFieldMask(),ht.now())):h.set(y.key,ui.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,v)=>h.set(y,v))),t.forEach(((y,v)=>f.set(y,new yD(v,h.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Nc();let o=new St(((h,f)=>h-f)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||ui.empty();v=f.applyToLocalView(y,v),i.set(p,v);const b=(o.get(f.batchId)||Ge()).add(p);o=o.insert(f.batchId,b)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,b=ib();v.forEach((w=>{if(!c.has(w)){const x=ub(t.get(w),i.get(w));x!==null&&b.set(w,x),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,b))}return re.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):re.resolve(ha());let f=Mc,p=c;return h.next((y=>re.forEach(y,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Ge()))).next((v=>({batchId:f,changes:DI(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((i=>{let o=bc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let h=bc();return this.indexManager.getCollectionParents(e,c).next((f=>re.forEach(f,(p=>{const y=(function(b,w){return new rl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((v=>{v.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o)))).next((h=>{c.forEach(((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,dn.newInvalidDocument(v)))}));let f=bc();return h.forEach(((p,y)=>{const v=c.get(p);v!==void 0&&Ic(v.mutation,y,ui.empty(),ht.now()),xd(t,y)&&(f=f.insert(p,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Mo(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:lD(o.bundledQuery),readTime:Mo(o.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.overlays=new St(ve.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ha();return re.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,c)=>{this.St(e,t,c)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const o=ha(),c=t.length+1,h=new ve(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new St(((y,v)=>y-v));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=c.get(y.largestBatchId);v===null&&(v=ha(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=ha(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>f.set(y,v))),!(f.size()>=o)););return re.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new HI(t,i));let c=this.qr.get(t);c===void 0&&(c=Ge(),this.qr.set(t,c)),this.qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Qr=new zt(Xt.$r),this.Ur=new zt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ve(new ot([])),i=new Xt(t,e),o=new Xt(t,e+1),c=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new ot([])),i=new Xt(t,e),o=new Xt(t,e+1);let c=Ge();return this.Ur.forEachInRange([i,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new Xt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Xt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qI(c,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new Xt(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?oI:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);c.push(f)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(Le);return t.forEach((o=>{const c=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(f=>{i=i.add(f.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;ve.isDocumentKey(c)||(c=c.child(""));const h=new Xt(new ve(c),0);let f=new zt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Yr)),!0)}),h),re.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,(o=>{const c=new Xt(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Xt(t,0),o=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.ri=e,this.docs=(function(){return new St(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=bi();return t.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():dn.newInvalidDocument(o))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=bi();const h=t.path,f=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||rI(nI(v),i)<=0||(o.has(v.key)||xd(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Ce(9500)}ii(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new wD(this)}getSize(e){return re.resolve(this.size)}}class wD extends gD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.persistence=e,this.si=new Aa((t=>Cg(t)),xg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new kg,this.targetCount=0,this.ai=Go.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t){this.ui={},this.overlays={},this.ci=new Sd(0),this.li=!1,this.li=!0,this.hi=new TD,this.referenceDelegate=e(this),this.Pi=new AD(this),this.indexManager=new cD,this.remoteDocumentCache=(function(o){return new SD(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new oD(t),this.Ii=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ED,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new bD(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new RD(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class RD extends iI{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ri=new kg,this.Vi=null}static mi(e){return new jg(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const o=ve.fromPath(i);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ud{constructor(e,t){this.persistence=e,this.pi=new Aa((i=>cI(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=pD(this,t)}static mi(e,t){return new ud(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((i,o)=>this.br(e,i,o).next((c=>c?re.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,c.removeEntry(h,Re.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qh(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ge(),o=Ge();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Mg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cC()?8:aI(gn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.ys(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,t,o,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new CD;return this.Ss(e,t,h).next((f=>{if(c.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>c.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Ro()<=Pe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ro()<=Pe.DEBUG&&de("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ro()<=Pe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):re.resolve())}ys(e,t){if(T0(t))return re.resolve(null);let i=zr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Up(t,null,"F"),i=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=Ge(...c);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,f);return this.Cs(t,y,h,p.readTime)?this.ys(e,Up(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return T0(t)||o.isEqual(Re.min())?re.resolve(null):this.ps.getDocuments(e,i).next((c=>{const h=this.Ds(t,c);return this.Cs(t,h,i,o)?re.resolve(null):(Ro()<=Pe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.vs(e,h,t,tI(o,Mc)).next((f=>f)))}))}Ds(e,t){let i=new zt(rb(e));return t.forEach(((o,c)=>{xd(e,c)&&(i=i.add(c))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,i){return Ro()<=Pe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ps.getDocumentsMatchingQuery(e,t,_i.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",ND=3e8;class ID{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new St(Le),this.xs=new Aa((c=>Cg(c)),xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function DD(r,e,t,i){return new ID(r,e,t,i)}async function Ab(r,e){const t=qe(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],f=[];let p=Ge();for(const y of o){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function Rb(r){const e=qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function OD(r,e){const t=qe(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const w=o.get(b);if(!w)return;f.push(t.Pi.removeMatchingKeys(c,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(c,v.addedDocuments,b))));let x=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),o=o.insert(b,x),(function(U,k,Y){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ND?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(w,x,v)&&f.push(t.Pi.updateTargetData(c,x))}));let p=bi(),y=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))})),f.push(kD(c,h,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!i.isEqual(Re.min())){const v=t.Pi.getLastRemoteSnapshotVersion(c).next((b=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));f.push(v)}return re.waitFor(f).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(t.Ms=o,c)))}function kD(r,e,t){let i=Ge(),o=Ge();return t.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let h=bi();return t.forEach(((f,p)=>{const y=c.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):de(Pg,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function jD(r,e){const t=qe(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((c=>c?(o=c,re.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new hi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Gp(r,e,t){const i=qe(r),o=i.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!tl(h))throw h;de(Pg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function j0(r,e,t){const i=qe(r);let o=Re.min(),c=Ge();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,v){const b=qe(p),w=b.xs.get(v);return w!==void 0?re.resolve(b.Ms.get(w)):b.Pi.getTargetData(y,v)})(i,h,zr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((p=>{c=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?c:Ge()))).next((f=>(MD(i,xI(e),f),{documents:f,Qs:c})))))}function MD(r,e,t){let i=r.Os.get(e)||Re.min();t.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.Os.set(e,i)}class M0{constructor(){this.activeTargetIds=jI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PD{constructor(){this.Mo=new M0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="ConnectivityMonitor";class L0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(P0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(P0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function $p(){return Dh===null?Dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",VD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===id?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,c){const h=$p(),f=this.zo(e,t.toUriEncodedString());de(op,`Sending RPC '${e}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(f),v=Wo(y);return this.Jo(e,f,p,i,v).then((b=>(de(op,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw zo(op,`RPC '${e}' ${h} failed with error: `,b,"url: ",f,"request:",i),b}))}Ho(e,t,i,o,c,h){return this.Go(e,t,i,o,c)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const i=VD[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class zD extends UD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,c){const h=$p();return new Promise(((f,p)=>{const y=new DT;y.setWithCredentials(!0),y.listenOnce(OT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zh.NO_ERROR:const b=y.getResponseJson();de(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),f(b);break;case zh.TIMEOUT:de(ln,`RPC '${e}' ${h} timed out`),p(new ue(se.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const w=y.getStatus();if(de(ln,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x?.error;if(R&&R.status&&R.message){const U=(function(Y){const K=Y.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(K)>=0?K:se.UNKNOWN})(R.status);p(new ue(U,R.message))}else p(new ue(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(se.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(ln,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);de(ln,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=$p(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=MT(),f=jT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=c.join("");de(ln,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.I_(b);let w=!1,x=!1;const R=new BD({Yo:k=>{x?de(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(de(ln,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),de(ln,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Zo:()=>b.close()}),U=(k,Y,K)=>{k.listen(Y,(Z=>{try{K(Z)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return U(b,Tc.EventType.OPEN,(()=>{x||(de(ln,`RPC '${e}' stream ${o} transport opened.`),R.o_())})),U(b,Tc.EventType.CLOSE,(()=>{x||(x=!0,de(ln,`RPC '${e}' stream ${o} transport closed`),R.a_(),this.E_(b))})),U(b,Tc.EventType.ERROR,(k=>{x||(x=!0,zo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),R.a_(new ue(se.UNAVAILABLE,"The operation could not be completed")))})),U(b,Tc.EventType.MESSAGE,(k=>{if(!x){const Y=k.data[0];mt(!!Y,16349);const K=Y,Z=K?.error||K[0]?.error;if(Z){de(ln,`RPC '${e}' stream ${o} received error:`,Z);const ce=Z.status;let he=(function(C){const I=It[C];if(I!==void 0)return db(I)})(ce),Ae=Z.message;he===void 0&&(he=se.INTERNAL,Ae="Unknown error status: "+ce+" with message "+Z.message),x=!0,R.a_(new ue(he,Ae)),b.close()}else de(ln,`RPC '${e}' stream ${o} received:`,Y),R.u_(Y)}})),U(f,kT.STAT_EVENT,(k=>{k.stat===Op.PROXY?de(ln,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Op.NOPROXY&&de(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(r){return new WI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="PersistentStream";class qD{constructor(e,t,i,o,c,h,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ue(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HD extends qD{constructor(e,t,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZI(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Mo(h.readTime):Re.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=I0(this.serializer),t.addTarget=(function(c,h){let f;const p=h.target;if(f=Lp(p)?{documents:eD(c,p)}:{query:tD(c,p).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=pb(c,h.resumeToken);const y=qp(c,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Re.min())>0){f.readTime=Hp(c,h.snapshotVersion.toTimestamp());const y=qp(c,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=rD(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=I0(this.serializer),t.removeTarget=e,this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{}class GD extends FD{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Fp(t,i),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(se.UNKNOWN,c.toString())}))}Ho(e,t,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,Fp(t,i),o,h,f,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(se.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $D{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class KD{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Xc(this)&&(de($o,"Restarting streams for network reachability change."),await(async function(p){const y=qe(p);y.Ea.add(4),await Yc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kd(y)})(this))}))})),this.Ra=new $D(i,o)}}async function kd(r){if(Xc(r))for(const e of r.da)await e(!0)}async function Yc(r){for(const e of r.da)await e(!1)}function xb(r,e){const t=qe(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bg(t)?Ug(t):sl(t).O_()&&Vg(t,e))}function Lg(r,e){const t=qe(r),i=sl(t);t.Ia.delete(e),i.O_()&&Nb(t,e),t.Ia.size===0&&(i.O_()?i.L_():Xc(t)&&t.Ra.set("Unknown"))}function Vg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(r).Y_(e)}function Nb(r,e){r.Va.Ue(e),sl(r).Z_(e)}function Ug(r){r.Va=new KI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.Ra.ua()}function Bg(r){return Xc(r)&&!sl(r).x_()&&r.Ia.size>0}function Xc(r){return qe(r).Ea.size===0}function Ib(r){r.Va=void 0}async function QD(r){r.Ra.set("Online")}async function YD(r){r.Ia.forEach(((e,t)=>{Vg(r,e)}))}async function XD(r,e){Ib(r),Bg(r)?(r.Ra.ha(e),Ug(r)):r.Ra.set("Unknown")}async function WD(r,e,t){if(r.Ra.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const f of c.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(i){de($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await U0(r,i)}else if(e instanceof Fh?r.Va.Ze(e):e instanceof fb?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const i=await Rb(r.localStore);t.compareTo(i)>=0&&await(function(c,h){const f=c.Va.Tt(h);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(p.resumeToken,h))}})),f.targetMismatches.forEach(((p,y)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),Nb(c,p);const b=new hi(v.target,p,y,v.sequenceNumber);Vg(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){de($o,"Failed to raise snapshot:",i),await U0(r,i)}}async function U0(r,e,t){if(!tl(e))throw e;r.Ea.add(1),await Yc(r),r.Ra.set("Offline"),t||(t=()=>Rb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de($o,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await kd(r)}))}async function B0(r,e){const t=qe(r);t.asyncQueue.verifyOperationInProgress(),de($o,"RemoteStore received new credentials");const i=Xc(t);t.Ea.add(3),await Yc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kd(t)}async function JD(r,e){const t=qe(r);e?(t.Ea.delete(2),await kd(t)):e||(t.Ea.add(2),await Yc(t),t.Ra.set("Unknown"))}function sl(r){return r.ma||(r.ma=(function(t,i,o){const c=qe(t);return c.sa(),new HD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:QD.bind(null,r),t_:YD.bind(null,r),r_:XD.bind(null,r),H_:WD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Bg(r)?Ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ib(r))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const h=Date.now()+i,f=new zg(e,t,h,o,c);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Db(r,e){if(ws("AsyncQueue",`${e}: ${r}`),tl(r))return new ue(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=bc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Po;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ga=new St(ve.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ko{constructor(e,t,i,o,c,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,c){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new Ko(e,t,Po.emptySet(t),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eO{constructor(){this.queries=q0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=qe(t),c=o.queries;o.queries=q0(),c.forEach(((h,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new ue(se.ABORTED,"Firestore shutting down"))}}function q0(){return new Aa((r=>nb(r)),Cd)}async function Ob(r,e){const t=qe(r);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new ZD,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Db(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&qg(t)}async function kb(r,e){const t=qe(r),i=e.query;let o=3;const c=t.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tO(r,e){const t=qe(r);let i=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&qg(t)}function nO(r,e,t){const i=qe(r),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);i.queries.delete(e)}function qg(r){r.Ca.forEach((e=>{e.next()}))}var Kp,H0;(H0=Kp||(Kp={})).Ma="default",H0.Cache="cache";class jb{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.key=e}}class Pb{constructor(e){this.key=e}}class rO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=rb(e),this.tu=new Po(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new z0,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const w=o.get(v),x=xd(this.query,b)?b:null,R=!!w&&this.mutatedKeys.has(w.key),U=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;w&&x?w.data.isEqual(x.data)?R!==U&&(i.track({type:3,doc:x}),k=!0):this.su(w,x)||(i.track({type:2,doc:x}),k=!0,(p&&this.eu(x,p)>0||y&&this.eu(x,y)<0)&&(f=!0)):!w&&x?(i.track({type:0,doc:x}),k=!0):w&&!x&&(i.track({type:1,doc:w}),k=!0,(p||y)&&(f=!0)),k&&(x?(h=h.add(x),c=U?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{tu:h,iu:i,Cs:f,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,b)=>(function(x,R){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:k})}};return U(x)-U(R)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new Ko(this.query,e.tu,c,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Pb(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new Mb(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class sO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iO{constructor(e){this.key=e,this.hu=!1}}class aO{constructor(e,t,i,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Aa((f=>nb(f)),Cd),this.Iu=new Map,this.Eu=new Set,this.du=new St(ve.comparator),this.Au=new Map,this.Ru=new kg,this.Vu={},this.mu=new Map,this.fu=Go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oO(r,e,t=!0){const i=zb(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Lb(i,e,t,!0),o}async function lO(r,e){const t=zb(r);await Lb(t,e,!0,!1)}async function Lb(r,e,t,i){const o=await jD(r.localStore,zr(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,t);let f;return i&&(f=await cO(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&xb(r.remoteStore,o),f}async function cO(r,e,t,i,o){r.pu=(b,w,x)=>(async function(U,k,Y,K){let Z=k.view.ru(Y);Z.Cs&&(Z=await j0(U.localStore,k.query,!1).then((({documents:M})=>k.view.ru(M,Z))));const ce=K&&K.targetChanges.get(k.targetId),he=K&&K.targetMismatches.get(k.targetId)!=null,Ae=k.view.applyChanges(Z,U.isPrimaryClient,ce,he);return G0(U,k.targetId,Ae.au),Ae.snapshot})(r,b,w,x);const c=await j0(r.localStore,e,!0),h=new rO(e,c.Qs),f=h.ru(c.documents),p=Qc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);G0(r,t,y.au);const v=new sO(e,t,h);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function uO(r,e,t){const i=qe(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((h=>!Cd(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Gp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Lg(i.remoteStore,o.targetId),Qp(i,o.targetId)})).catch(bd)):(Qp(i,o.targetId),await Gp(i.localStore,o.targetId,!0))}async function hO(r,e){const t=qe(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Lg(t.remoteStore,i.targetId))}async function Vb(r,e){const t=qe(r);try{const i=await OD(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=t.Au.get(c);h&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?mt(h.hu,14607):o.removedDocuments.size>0&&(mt(h.hu,42227),h.hu=!1))})),await Bb(t,i,e)}catch(i){await bd(i)}}function F0(r,e,t){const i=qe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((c,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const p=qe(h);p.onlineState=f;let y=!1;p.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(f)&&(y=!0)})),y&&qg(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dO(r,e,t){const i=qe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new St(ve.comparator);h=h.insert(c,dn.newNoDocument(c,Re.min()));const f=Ge().add(c),p=new Dd(Re.min(),new Map,new St(Le),h,f);await Vb(i,p),i.du=i.du.remove(c),i.Au.delete(e),Fg(i)}else await Gp(i.localStore,e,!1).then((()=>Qp(i,e,t))).catch(bd)}function Qp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||Ub(r,i)}))}function Ub(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Lg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Fg(r))}function G0(r,e,t){for(const i of t)i instanceof Mb?(r.Ru.addReference(i.key,e),fO(r,i)):i instanceof Pb?(de(Hg,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||Ub(r,i.key)):Ce(19791,{wu:i})}function fO(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(de(Hg,"New document in limbo: "+t),r.Eu.add(i),Fg(r))}function Fg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ve(ot.fromString(e)),i=r.fu.next();r.Au.set(i,new iO(t)),r.du=r.du.insert(t,i),xb(r.remoteStore,new hi(zr(Rd(t.path)),i,"TargetPurposeLimboResolution",Sd.ce))}}async function Bb(r,e,t){const i=qe(r),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{h.push(i.pu(p,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Mg.As(p.targetId,y);c.push(v)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(p,y){const v=qe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(y,(w=>re.forEach(w.Es,(x=>v.persistence.referenceDelegate.addReference(b,w.targetId,x))).next((()=>re.forEach(w.ds,(x=>v.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))))))}catch(b){if(!tl(b))throw b;de(Pg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const x=v.Ms.get(w),R=x.snapshotVersion,U=x.withLastLimboFreeSnapshotVersion(R);v.Ms=v.Ms.insert(w,U)}}})(i.localStore,c))}async function mO(r,e){const t=qe(r);if(!t.currentUser.isEqual(e)){de(Hg,"User change. New user:",e.toKey());const i=await Ab(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((f=>{f.forEach((p=>{p.reject(new ue(se.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bb(t,i.Ls)}}function pO(r,e){const t=qe(r),i=t.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let o=Ge();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function zb(r){const e=qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dO.bind(null,e),e.Pu.H_=tO.bind(null,e.eventManager),e.Pu.yu=nO.bind(null,e.eventManager),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return DD(this.persistence,new xD,e.initialUser,this.serializer)}Cu(e){return new wb(jg.mi,this.serializer)}Du(e){return new PD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class gO extends hd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){mt(this.persistence.referenceDelegate instanceof ud,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fD(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new wb((i=>ud.mi(i,t)),this.serializer)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),await JD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eO})()}createDatastore(e){const t=Od(e.databaseInfo.databaseId),i=(function(c){return new zD(c)})(e.databaseInfo);return(function(c,h,f,p){return new GD(c,h,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,c,h,f){return new KD(i,o,c,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>F0(this.syncEngine,t,0)),(function(){return L0.v()?new L0:new LD})())}createSyncEngine(e,t){return(function(o,c,h,f,p,y,v){const b=new aO(o,c,h,f,p,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=qe(t);de($o,"RemoteStore shutting down."),i.Ea.add(5),await Yc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="FirestoreClient";class yO{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{de(Si,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(de(Si,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Db(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function cp(r,e){r.asyncQueue.verifyOperationInProgress(),de(Si,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Ab(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function $0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _O(r);de(Si,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>B0(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>B0(e.remoteStore,o))),r._onlineComponents=e}async function _O(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Si,"Using user provided OfflineComponentProvider");try{await cp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await cp(r,new hd)}}else de(Si,"Using default OfflineComponentProvider"),await cp(r,new gO(void 0));return r._offlineComponents}async function vO(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Si,"Using user provided OnlineComponentProvider"),await $0(r,r._uninitializedComponentsProvider._online)):(de(Si,"Using default OnlineComponentProvider"),await $0(r,new Yp))),r._onlineComponents}async function Xp(r){const e=await vO(r),t=e.eventManager;return t.onListen=oO.bind(null,e.syncEngine),t.onUnlisten=uO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),t}function EO(r,e,t={}){const i=new fa;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,f,p,y){const v=new qb({next:w=>{v.Nu(),h.enqueueAndForget((()=>kb(c,b)));const x=w.docs.has(f);!x&&w.fromCache?y.reject(new ue(se.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?y.reject(new ue(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new jb(Rd(f.path),v,{includeMetadataChanges:!0,qa:!0});return Ob(c,b)})(await Xp(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firestore.googleapis.com",Q0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fb,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hD)throw new ue(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new FN;switch(i.type){case"firstParty":return new QN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=K0.get(t);i&&(de("ComponentProvider","Removing Datastore"),K0.delete(t),i.terminate())})(this),Promise.resolve()}}function TO(r,e,t,i={}){r=jo(r,jd);const o=Wo(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(z1(`https://${f}`),q1("Firestore",!0)),c.host!==Fb&&c.host!==f&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:f,ssl:o,emulatorOptions:i};if(!ya(p,h)&&(r._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=hn.MOCK_USER;else{y=eC(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ue(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(b)}r._authCredentials=new GN(new LT(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Kc(t,kt._jsonSchema))return new kt(e,i||null,new ve(ot.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Ot("string",kt._jsonSchemaVersion),referencePath:Ot("string")};class yi extends Ra{constructor(e,t,i){super(e,t,Rd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ve(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function Gb(r,e,...t){if(r=wn(r),VT("collection","path",e),r instanceof jd){const i=ot.fromString(e,...t);return o0(i),new yi(r,null,i)}{if(!(r instanceof kt||r instanceof yi))throw new ue(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...t));return o0(i),new yi(r.firestore,null,i)}}function bO(r,e,...t){if(r=wn(r),arguments.length===1&&(e=wg.newId()),VT("doc","path",e),r instanceof jd){const i=ot.fromString(e,...t);return a0(i),new kt(r,null,new ve(i))}{if(!(r instanceof kt||r instanceof yi))throw new ue(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...t));return a0(i),new kt(r.firestore,r instanceof yi?r.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="AsyncQueue";class W0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cb(this,"async_queue_retry"),this._c=()=>{const i=lp();i&&de(X0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;de(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",J0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=zg.createAndSchedule(this,e,t,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function J0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class dd extends jd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new W0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W0(e),this._firestoreClient=void 0,await e}}}function SO(r,e){const t=typeof r=="object"?r:$1(),i=typeof r=="string"?r:id,o=mg(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=JR("firestore");c&&TO(o,...c)}return o}function $b(r){if(r._terminated)throw new ue(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wO(r),r._firestoreClient}function wO(r){const e=r._freezeSettings(),t=(function(o,c,h,f){return new dI(o,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Hb(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yO(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nr(rn.fromBase64String(e))}catch(t){throw new ue(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,nr._jsonSchema))return nr.fromBase64String(e.bytes)}}nr._jsonSchemaVersion="firestore/bytes/1.0",nr._jsonSchema={type:Ot("string",nr._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:Ot("string",qr._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Hr(e.vectorValues);throw new ue(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:Ot("string",Hr._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/^__.*__$/;function Yb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Gg{constructor(e,t,i,o,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Yb(this.Ac)&&AO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Od(e)}Cc(e,t,i,o=!1){return new Gg({Ac:e,methodName:t,Dc:i,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CO(r){const e=r._freezeSettings(),t=Od(r._databaseId);return new RO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function xO(r,e,t,i=!1){return $g(t,r.Cc(i?4:3,e))}function $g(r,e){if(Xb(r=wn(r)))return IO("Unsupported field value:",e,r),NO(r,e);if(r instanceof Qb)return(function(i,o){if(!Yb(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const c=[];let h=0;for(const f of i){let p=$g(f,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(r,e)}return(function(i,o){if((i=wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MI(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=ht.fromDate(i);return{timestampValue:Hp(o.serializer,c)}}if(i instanceof ht){const c=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hp(o.serializer,c)}}if(i instanceof qr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nr)return{bytesValue:pb(o.serializer,i._byteString)};if(i instanceof kt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:gb(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Hr)return(function(h,f){return{mapValue:{fields:{[KT]:{stringValue:QT},[ad]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ng(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Td(i)}`)})(r,e)}function NO(r,e){const t={};return zT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(r,((i,o)=>{const c=$g(o,e.mc(i));c!=null&&(t[i]=c)})),{mapValue:{fields:t}}}function Xb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof qr||r instanceof nr||r instanceof kt||r instanceof Qb||r instanceof Hr)}function IO(r,e,t){if(!Xb(t)||!UT(t)){const i=Td(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}const DO=new RegExp("[~\\*/\\[\\]]");function OO(r,e,t){if(e.search(DO)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Kb(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Wp(r,e,t,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ue(se.INVALID_ARGUMENT,f+r+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Md("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kO extends Wb{data(){return super.data()}}function Md(r,e){return typeof e=="string"?OO(r,e):e instanceof Kb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class Jb extends Kg{}function Zb(r,e,...t){let i=[];e instanceof Kg&&i.push(e),i=i.concat(t),(function(c){const h=c.filter((p=>p instanceof Qg)).length,f=c.filter((p=>p instanceof Pd)).length;if(h>1||h>0&&f>0)throw new ue(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Pd extends Jb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Pd(e,t,i)}_apply(e){const t=this._parse(e);return nS(e._query,t),new Ra(e.firestore,e.converter,Vp(e._query,t))}_parse(e){const t=CO(e.firestore);return(function(c,h,f,p,y,v,b){let w;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){t1(b,v);const R=[];for(const U of b)R.push(e1(p,c,U));w={arrayValue:{values:R}}}else w=e1(p,c,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||t1(b,v),w=xO(f,h,b,v==="in"||v==="not-in");return Dt.create(y,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function eS(r,e,t){const i=e,o=Md("where",r);return Pd._create(o,i,t)}class Qg extends Kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qg(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let h=o;const f=c.getFlattenedFilters();for(const p of f)nS(h,p),h=Vp(h,p)})(e._query,t),new Ra(e.firestore,e.converter,Vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yg extends Jb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yg(e,t)}_apply(e){const t=(function(o,c,h){if(o.startAt!==null)throw new ue(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(c,h)})(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,(function(o,c){const h=o.explicitOrderBy.concat([c]);return new rl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function tS(r,e="asc"){const t=e,i=Md("orderBy",r);return Yg._create(i,t)}function e1(r,e,t){if(typeof(t=wn(t))=="string"){if(t==="")throw new ue(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tb(e)&&t.indexOf("/")!==-1)throw new ue(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!ve.isDocumentKey(i))throw new ue(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return p0(r,new ve(i))}if(t instanceof kt)return p0(r,t._key);throw new ue(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(t)}.`)}function t1(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nS(r,e){const t=(function(o,c){for(const h of o)for(const f of h.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class MO{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return nl(e,((o,c)=>{i[o]=this.convertValue(c,t)})),i}convertVectorValue(e){const t=e.fields?.[ad].arrayValue?.values?.map((i=>bt(i.doubleValue)));return new Hr(t)}convertGeoPoint(e){return new qr(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ad(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=vi(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);mt(bb(i),9688,{name:e});const o=new Lc(i.get(1),i.get(3)),c=new ve(i.popFirst(5));return o.isEqual(t)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends Wb{constructor(e,t,i,o,c,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Md("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Ot("string",pa._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Gh extends pa{data(e={}){return super.data(e)}}class Lo{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Gh(this._firestore,this._userDataWriter,i.key,i,new wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const p=new Gh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const p=new Gh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),v=h.indexOf(f.doc.key)),{type:PO(f.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(r){r=jo(r,kt);const e=jo(r.firestore,dd);return EO($b(e),r._key).then((t=>sS(e,r,t)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Ot("string",Lo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class rS extends MO{constructor(e){super(),this.firestore=e}convertBytes(e){return new nr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function VO(r,...e){r=wn(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Z0(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Z0(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let c,h,f;if(r instanceof kt)h=jo(r.firestore,dd),f=Rd(r._key.path),c={next:p=>{e[i]&&e[i](sS(h,r,p))},error:e[i+1],complete:e[i+2]};else{const p=jo(r,Ra);h=jo(p.firestore,dd),f=p._query;const y=new rS(h);c={next:v=>{e[i]&&e[i](new Lo(h,y,p,v))},error:e[i+1],complete:e[i+2]},jO(r._query)}return(function(y,v,b,w){const x=new qb(w),R=new jb(v,x,b);return y.asyncQueue.enqueueAndForget((async()=>Ob(await Xp(y),R))),()=>{x.Nu(),y.asyncQueue.enqueueAndForget((async()=>kb(await Xp(y),R)))}})($b(h),f,o,c)}function sS(r,e,t){const i=t.docs.get(e._key),o=new rS(r);return new pa(r,o,e._key,i,new wc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){el=o})(Jo),Uo(new _a("firestore",((i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),f=new dd(new $N(i.getProvider("auth-internal")),new YN(h,i.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(y.options.projectId,v)})(h,o),h);return c={useFetchStreams:t,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),mi(n0,r0,e),mi(n0,r0,"esm2020")})();var UO={};const BO={apiKey:UO.REACT_APP_FIREBASE_API_KEY,authDomain:"disaster-429f0.firebaseapp.com",projectId:"disaster-429f0",storageBucket:"disaster-429f0.firebasestorage.app",messagingSenderId:"385733181390",appId:"1:385733181390:web:a8b2c1565090e2fe80759f",measurementId:"G-JR7NKEC6ZV"},iS=G1(BO),Me=BN(iS),Xg=SO(iS),zO="_container_1k5ov_1",qO="_panel_1k5ov_17",HO="_panelHeader_1k5ov_35",FO="_panelIllustration_1k5ov_45",GO="_panelQuote_1k5ov_57",$O="_formContainer_1k5ov_83",KO="_card_1k5ov_97",QO="_title_1k5ov_115",YO="_form_1k5ov_83",XO="_formGroup_1k5ov_143",WO="_label_1k5ov_153",JO="_input_1k5ov_167",ZO="_button_1k5ov_197",ek="_forgotPasswordContainer_1k5ov_243",tk="_forgotPasswordLink_1k5ov_253",nk="_messageSuccess_1k5ov_281",rk="_error_1k5ov_301",sk="_linkText_1k5ov_319",ik="_link_1k5ov_319",pe={container:zO,panel:qO,panelHeader:HO,panelIllustration:FO,panelQuote:GO,formContainer:$O,card:KO,title:QO,form:YO,formGroup:XO,label:WO,input:JO,button:ZO,forgotPasswordContainer:ek,forgotPasswordLink:tk,messageSuccess:nk,error:rk,linkText:sk,link:ik},aS=N.createContext({currentUser:null,loading:!0}),pt=()=>N.useContext(aS),ak=({children:r})=>{const[e,t]=N.useState(null),[i,o]=N.useState(!0);N.useEffect(()=>N2(Me,async f=>{if(f){const p=bO(Xg,"users",f.uid),y=await LO(p);y.exists()?t(y.data()):(console.error("User profile not found in Firestore."),t(null))}else t(null);o(!1)}),[]);const c={currentUser:e,loading:i};return g.jsx(aS.Provider,{value:c,children:!i&&r})},ok=()=>{const[r,e]=N.useState(""),[t,i]=N.useState(""),[o,c]=N.useState(""),[h,f]=N.useState(!1),[p,y]=N.useState(""),{currentUser:v}=pt(),b=Sa();N.useEffect(()=>{v&&b("/")},[v,b]);const w=async R=>{R.preventDefault(),c(""),y(""),f(!0);try{await R2(Me,r,t)}catch(U){c("Failed to log in. Please check your credentials."),console.error(U)}finally{f(!1)}},x=async()=>{if(c(""),y(""),!r){c("Please enter your email address to reset your password.");return}try{await _T(Me,r),y("Password reset link sent! Please check your email inbox and spam folder.")}catch{c("Failed to send reset email. Please try again.")}};return g.jsxs("div",{className:pe.container,children:[g.jsxs("div",{className:pe.panel,children:[g.jsx("div",{children:g.jsx("h1",{className:pe.panelHeader,children:"DisasterReady"})}),g.jsx("img",{src:"https://img.freepik.com/free-vector/people-volunteering-donating-food-items_53876-66151.jpg?w=826",alt:"Community helping each other",className:pe.panelIllustration}),g.jsxs("div",{className:pe.panelQuote,children:[g.jsx("p",{children:'"The best way to predict the future is to create it."'}),g.jsx("footer",{children:"- Peter Parker"})]})]}),g.jsx("div",{className:pe.formContainer,children:g.jsxs("div",{className:pe.card,children:[g.jsx("h2",{className:pe.title,children:"Welcome Back!"}),g.jsxs("form",{onSubmit:w,className:pe.form,children:[g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"email",className:pe.label,children:"Email Address"}),g.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:R=>e(R.target.value),className:pe.input})]}),g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"password",className:pe.label,children:"Password"}),g.jsx("input",{id:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:R=>i(R.target.value),className:pe.input})]}),g.jsx("div",{className:pe.forgotPasswordContainer,children:g.jsx("button",{type:"button",onClick:x,className:pe.forgotPasswordLink,children:"Forgot Password?"})}),o&&g.jsx("p",{className:pe.error,children:o}),p&&g.jsx("p",{className:pe.messageSuccess,children:p}),g.jsx("div",{children:g.jsx("button",{type:"submit",className:pe.button,disabled:h,children:h?"Signing In...":"Sign In"})})]}),g.jsxs("p",{className:pe.linkText,children:["Don't have an account?"," ",g.jsx(Sn,{to:"/signup",className:pe.link,children:"Sign up"})]})]})})]})};function oS(r,e){return function(){return r.apply(e,arguments)}}const{toString:lk}=Object.prototype,{getPrototypeOf:Wg}=Object,{iterator:Ld,toStringTag:lS}=Symbol,Vd=(r=>e=>{const t=lk.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yr=r=>(r=r.toLowerCase(),e=>Vd(e)===r),Ud=r=>e=>typeof e===r,{isArray:il}=Array,Qo=Ud("undefined");function Wc(r){return r!==null&&!Qo(r)&&r.constructor!==null&&!Qo(r.constructor)&&Nn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const cS=yr("ArrayBuffer");function ck(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&cS(r.buffer),e}const uk=Ud("string"),Nn=Ud("function"),uS=Ud("number"),Jc=r=>r!==null&&typeof r=="object",hk=r=>r===!0||r===!1,$h=r=>{if(Vd(r)!=="object")return!1;const e=Wg(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lS in r)&&!(Ld in r)},dk=r=>{if(!Jc(r)||Wc(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},fk=yr("Date"),mk=yr("File"),pk=yr("Blob"),gk=yr("FileList"),yk=r=>Jc(r)&&Nn(r.pipe),_k=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Nn(r.append)&&((e=Vd(r))==="formdata"||e==="object"&&Nn(r.toString)&&r.toString()==="[object FormData]"))},vk=yr("URLSearchParams"),[Ek,Tk,bk,Sk]=["ReadableStream","Request","Response","Headers"].map(yr),wk=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,o;if(typeof r!="object"&&(r=[r]),il(r))for(i=0,o=r.length;i<o;i++)e.call(null,r[i],i,r);else{if(Wc(r))return;const c=t?Object.getOwnPropertyNames(r):Object.keys(r),h=c.length;let f;for(i=0;i<h;i++)f=c[i],e.call(null,r[f],f,r)}}function hS(r,e){if(Wc(r))return null;e=e.toLowerCase();const t=Object.keys(r);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const da=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dS=r=>!Qo(r)&&r!==da;function Jp(){const{caseless:r,skipUndefined:e}=dS(this)&&this||{},t={},i=(o,c)=>{const h=r&&hS(t,c)||c;$h(t[h])&&$h(o)?t[h]=Jp(t[h],o):$h(o)?t[h]=Jp({},o):il(o)?t[h]=o.slice():(!e||!Qo(o))&&(t[h]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Zc(arguments[o],i);return t}const Ak=(r,e,t,{allOwnKeys:i}={})=>(Zc(e,(o,c)=>{t&&Nn(o)?r[c]=oS(o,t):r[c]=o},{allOwnKeys:i}),r),Rk=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ck=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},xk=(r,e,t,i)=>{let o,c,h;const f={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),c=o.length;c-- >0;)h=o[c],(!i||i(h,r,e))&&!f[h]&&(e[h]=r[h],f[h]=!0);r=t!==!1&&Wg(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Nk=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},Ik=r=>{if(!r)return null;if(il(r))return r;let e=r.length;if(!uS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Dk=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Wg(Uint8Array)),Ok=(r,e)=>{const i=(r&&r[Ld]).call(r);let o;for(;(o=i.next())&&!o.done;){const c=o.value;e.call(r,c[0],c[1])}},kk=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},jk=yr("HTMLFormElement"),Mk=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),n1=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Pk=yr("RegExp"),fS=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};Zc(t,(o,c)=>{let h;(h=e(o,c,r))!==!1&&(i[c]=h||o)}),Object.defineProperties(r,i)},Lk=r=>{fS(r,(e,t)=>{if(Nn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(Nn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Vk=(r,e)=>{const t={},i=o=>{o.forEach(c=>{t[c]=!0})};return il(r)?i(r):i(String(r).split(e)),t},Uk=()=>{},Bk=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function zk(r){return!!(r&&Nn(r.append)&&r[lS]==="FormData"&&r[Ld])}const qk=r=>{const e=new Array(10),t=(i,o)=>{if(Jc(i)){if(e.indexOf(i)>=0)return;if(Wc(i))return i;if(!("toJSON"in i)){e[o]=i;const c=il(i)?[]:{};return Zc(i,(h,f)=>{const p=t(h,o+1);!Qo(p)&&(c[f]=p)}),e[o]=void 0,c}}return i};return t(r,0)},Hk=yr("AsyncFunction"),Fk=r=>r&&(Jc(r)||Nn(r))&&Nn(r.then)&&Nn(r.catch),mS=((r,e)=>r?setImmediate:e?((t,i)=>(da.addEventListener("message",({source:o,data:c})=>{o===da&&c===t&&i.length&&i.shift()()},!1),o=>{i.push(o),da.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Nn(da.postMessage)),Gk=typeof queueMicrotask<"u"?queueMicrotask.bind(da):typeof process<"u"&&process.nextTick||mS,$k=r=>r!=null&&Nn(r[Ld]),Q={isArray:il,isArrayBuffer:cS,isBuffer:Wc,isFormData:_k,isArrayBufferView:ck,isString:uk,isNumber:uS,isBoolean:hk,isObject:Jc,isPlainObject:$h,isEmptyObject:dk,isReadableStream:Ek,isRequest:Tk,isResponse:bk,isHeaders:Sk,isUndefined:Qo,isDate:fk,isFile:mk,isBlob:pk,isRegExp:Pk,isFunction:Nn,isStream:yk,isURLSearchParams:vk,isTypedArray:Dk,isFileList:gk,forEach:Zc,merge:Jp,extend:Ak,trim:wk,stripBOM:Rk,inherits:Ck,toFlatObject:xk,kindOf:Vd,kindOfTest:yr,endsWith:Nk,toArray:Ik,forEachEntry:Ok,matchAll:kk,isHTMLForm:jk,hasOwnProperty:n1,hasOwnProp:n1,reduceDescriptors:fS,freezeMethods:Lk,toObjectSet:Vk,toCamelCase:Mk,noop:Uk,toFiniteNumber:Bk,findKey:hS,global:da,isContextDefined:dS,isSpecCompliantForm:zk,toJSONObject:qk,isAsyncFn:Hk,isThenable:Fk,setImmediate:mS,asap:Gk,isIterable:$k};function xe(r,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const pS=xe.prototype,gS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{gS[r]={value:r}});Object.defineProperties(xe,gS);Object.defineProperty(pS,"isAxiosError",{value:!0});xe.from=(r,e,t,i,o,c)=>{const h=Object.create(pS);Q.toFlatObject(r,h,function(v){return v!==Error.prototype},y=>y!=="isAxiosError");const f=r&&r.message?r.message:"Error",p=e==null&&r?r.code:e;return xe.call(h,f,p,t,i,o),r&&h.cause==null&&Object.defineProperty(h,"cause",{value:r,configurable:!0}),h.name=r&&r.name||"Error",c&&Object.assign(h,c),h};const Kk=null;function Zp(r){return Q.isPlainObject(r)||Q.isArray(r)}function yS(r){return Q.endsWith(r,"[]")?r.slice(0,-2):r}function r1(r,e,t){return r?r.concat(e).map(function(o,c){return o=yS(o),!t&&c?"["+o+"]":o}).join(t?".":""):e}function Qk(r){return Q.isArray(r)&&!r.some(Zp)}const Yk=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Bd(r,e,t){if(!Q.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,k){return!Q.isUndefined(k[U])});const i=t.metaTokens,o=t.visitor||v,c=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function y(R){if(R===null)return"";if(Q.isDate(R))return R.toISOString();if(Q.isBoolean(R))return R.toString();if(!p&&Q.isBlob(R))throw new xe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(R)||Q.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function v(R,U,k){let Y=R;if(R&&!k&&typeof R=="object"){if(Q.endsWith(U,"{}"))U=i?U:U.slice(0,-2),R=JSON.stringify(R);else if(Q.isArray(R)&&Qk(R)||(Q.isFileList(R)||Q.endsWith(U,"[]"))&&(Y=Q.toArray(R)))return U=yS(U),Y.forEach(function(Z,ce){!(Q.isUndefined(Z)||Z===null)&&e.append(h===!0?r1([U],ce,c):h===null?U:U+"[]",y(Z))}),!1}return Zp(R)?!0:(e.append(r1(k,U,c),y(R)),!1)}const b=[],w=Object.assign(Yk,{defaultVisitor:v,convertValue:y,isVisitable:Zp});function x(R,U){if(!Q.isUndefined(R)){if(b.indexOf(R)!==-1)throw Error("Circular reference detected in "+U.join("."));b.push(R),Q.forEach(R,function(Y,K){(!(Q.isUndefined(Y)||Y===null)&&o.call(e,Y,Q.isString(K)?K.trim():K,U,w))===!0&&x(Y,U?U.concat(K):[K])}),b.pop()}}if(!Q.isObject(r))throw new TypeError("data must be an object");return x(r),e}function s1(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Jg(r,e){this._pairs=[],r&&Bd(r,this,e)}const _S=Jg.prototype;_S.append=function(e,t){this._pairs.push([e,t])};_S.toString=function(e){const t=e?function(i){return e.call(this,i,s1)}:s1;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function Xk(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vS(r,e,t){if(!e)return r;const i=t&&t.encode||Xk;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let c;if(o?c=o(e,t):c=Q.isURLSearchParams(e)?e.toString():new Jg(e,t).toString(i),c){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+c}return r}class i1{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(i){i!==null&&e(i)})}}const ES={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wk=typeof URLSearchParams<"u"?URLSearchParams:Jg,Jk=typeof FormData<"u"?FormData:null,Zk=typeof Blob<"u"?Blob:null,ej={isBrowser:!0,classes:{URLSearchParams:Wk,FormData:Jk,Blob:Zk},protocols:["http","https","file","blob","url","data"]},Zg=typeof window<"u"&&typeof document<"u",eg=typeof navigator=="object"&&navigator||void 0,tj=Zg&&(!eg||["ReactNative","NativeScript","NS"].indexOf(eg.product)<0),nj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rj=Zg&&window.location.href||"http://localhost",sj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zg,hasStandardBrowserEnv:tj,hasStandardBrowserWebWorkerEnv:nj,navigator:eg,origin:rj},Symbol.toStringTag,{value:"Module"})),mn={...sj,...ej};function ij(r,e){return Bd(r,new mn.classes.URLSearchParams,{visitor:function(t,i,o,c){return mn.isNode&&Q.isBuffer(t)?(this.append(i,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function aj(r){return Q.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oj(r){const e={},t=Object.keys(r);let i;const o=t.length;let c;for(i=0;i<o;i++)c=t[i],e[c]=r[c];return e}function TS(r){function e(t,i,o,c){let h=t[c++];if(h==="__proto__")return!0;const f=Number.isFinite(+h),p=c>=t.length;return h=!h&&Q.isArray(o)?o.length:h,p?(Q.hasOwnProp(o,h)?o[h]=[o[h],i]:o[h]=i,!f):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(t,i,o[h],c)&&Q.isArray(o[h])&&(o[h]=oj(o[h])),!f)}if(Q.isFormData(r)&&Q.isFunction(r.entries)){const t={};return Q.forEachEntry(r,(i,o)=>{e(aj(i),o,t,0)}),t}return null}function lj(r,e,t){if(Q.isString(r))try{return(e||JSON.parse)(r),Q.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const eu={transitional:ES,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,c=Q.isObject(e);if(c&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(TS(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return ij(e,this.formSerializer).toString();if((f=Q.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Bd(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return c||o?(t.setContentType("application/json",!1),lj(e)):e}],transformResponse:[function(e){const t=this.transitional||eu.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(i&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(f){if(h)throw f.name==="SyntaxError"?xe.from(f,xe.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],r=>{eu.headers[r]={}});const cj=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uj=r=>{const e={};let t,i,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),i=h.substring(o+1).trim(),!(!t||e[t]&&cj[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},a1=Symbol("internals");function _c(r){return r&&String(r).trim().toLowerCase()}function Kh(r){return r===!1||r==null?r:Q.isArray(r)?r.map(Kh):String(r)}function hj(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const dj=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function up(r,e,t,i,o){if(Q.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(i))return e.indexOf(i)!==-1;if(Q.isRegExp(i))return i.test(e)}}function fj(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function mj(r,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(o,c,h){return this[i].call(this,e,o,c,h)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function c(f,p,y){const v=_c(p);if(!v)throw new Error("header name must be a non-empty string");const b=Q.findKey(o,v);(!b||o[b]===void 0||y===!0||y===void 0&&o[b]!==!1)&&(o[b||p]=Kh(f))}const h=(f,p)=>Q.forEach(f,(y,v)=>c(y,v,p));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Q.isString(e)&&(e=e.trim())&&!dj(e))h(uj(e),t);else if(Q.isObject(e)&&Q.isIterable(e)){let f={},p,y;for(const v of e){if(!Q.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[y=v[0]]=(p=f[y])?Q.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}h(f,t)}else e!=null&&c(t,e,i);return this}get(e,t){if(e=_c(e),e){const i=Q.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return hj(o);if(Q.isFunction(t))return t.call(this,o,i);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_c(e),e){const i=Q.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||up(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function c(h){if(h=_c(h),h){const f=Q.findKey(i,h);f&&(!t||up(i,i[f],f,t))&&(delete i[f],o=!0)}}return Q.isArray(e)?e.forEach(c):c(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const c=t[i];(!e||up(this,this[c],c,e,!0))&&(delete this[c],o=!0)}return o}normalize(e){const t=this,i={};return Q.forEach(this,(o,c)=>{const h=Q.findKey(i,c);if(h){t[h]=Kh(o),delete t[c];return}const f=e?fj(c):String(c).trim();f!==c&&delete t[c],t[f]=Kh(o),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&Q.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[a1]=this[a1]={accessors:{}}).accessors,o=this.prototype;function c(h){const f=_c(h);i[f]||(mj(o,h),i[f]=!0)}return Q.isArray(e)?e.forEach(c):c(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(In.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});Q.freezeMethods(In);function hp(r,e){const t=this||eu,i=e||t,o=In.from(i.headers);let c=i.data;return Q.forEach(r,function(f){c=f.call(t,c,o.normalize(),e?e.status:void 0)}),o.normalize(),c}function bS(r){return!!(r&&r.__CANCEL__)}function al(r,e,t){xe.call(this,r??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(al,xe,{__CANCEL__:!0});function SS(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function pj(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function gj(r,e){r=r||10;const t=new Array(r),i=new Array(r);let o=0,c=0,h;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),v=i[c];h||(h=y),t[o]=p,i[o]=y;let b=c,w=0;for(;b!==o;)w+=t[b++],b=b%r;if(o=(o+1)%r,o===c&&(c=(c+1)%r),y-h<e)return;const x=v&&y-v;return x?Math.round(w*1e3/x):void 0}}function yj(r,e){let t=0,i=1e3/e,o,c;const h=(y,v=Date.now())=>{t=v,o=null,c&&(clearTimeout(c),c=null),r(...y)};return[(...y)=>{const v=Date.now(),b=v-t;b>=i?h(y,v):(o=y,c||(c=setTimeout(()=>{c=null,h(o)},i-b)))},()=>o&&h(o)]}const fd=(r,e,t=3)=>{let i=0;const o=gj(50,250);return yj(c=>{const h=c.loaded,f=c.lengthComputable?c.total:void 0,p=h-i,y=o(p),v=h<=f;i=h;const b={loaded:h,total:f,progress:f?h/f:void 0,bytes:p,rate:y||void 0,estimated:y&&f&&v?(f-h)/y:void 0,event:c,lengthComputable:f!=null,[e?"download":"upload"]:!0};r(b)},t)},o1=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},l1=r=>(...e)=>Q.asap(()=>r(...e)),_j=mn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,mn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(mn.origin),mn.navigator&&/(msie|trident)/i.test(mn.navigator.userAgent)):()=>!0,vj=mn.hasStandardBrowserEnv?{write(r,e,t,i,o,c){const h=[r+"="+encodeURIComponent(e)];Q.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Q.isString(i)&&h.push("path="+i),Q.isString(o)&&h.push("domain="+o),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ej(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Tj(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function wS(r,e,t){let i=!Ej(e);return r&&(i||t==!1)?Tj(r,e):e}const c1=r=>r instanceof In?{...r}:r;function Ta(r,e){e=e||{};const t={};function i(y,v,b,w){return Q.isPlainObject(y)&&Q.isPlainObject(v)?Q.merge.call({caseless:w},y,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function o(y,v,b,w){if(Q.isUndefined(v)){if(!Q.isUndefined(y))return i(void 0,y,b,w)}else return i(y,v,b,w)}function c(y,v){if(!Q.isUndefined(v))return i(void 0,v)}function h(y,v){if(Q.isUndefined(v)){if(!Q.isUndefined(y))return i(void 0,y)}else return i(void 0,v)}function f(y,v,b){if(b in e)return i(y,v);if(b in r)return i(void 0,y)}const p={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:f,headers:(y,v,b)=>o(c1(y),c1(v),b,!0)};return Q.forEach(Object.keys({...r,...e}),function(v){const b=p[v]||o,w=b(r[v],e[v],v);Q.isUndefined(w)&&b!==f||(t[v]=w)}),t}const AS=r=>{const e=Ta({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:c,headers:h,auth:f}=e;if(e.headers=h=In.from(h),e.url=vS(wS(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),f&&h.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),Q.isFormData(t)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(Q.isFunction(t.getHeaders)){const p=t.getHeaders(),y=["content-type","content-length"];Object.entries(p).forEach(([v,b])=>{y.includes(v.toLowerCase())&&h.set(v,b)})}}if(mn.hasStandardBrowserEnv&&(i&&Q.isFunction(i)&&(i=i(e)),i||i!==!1&&_j(e.url))){const p=o&&c&&vj.read(c);p&&h.set(o,p)}return e},bj=typeof XMLHttpRequest<"u",Sj=bj&&function(r){return new Promise(function(t,i){const o=AS(r);let c=o.data;const h=In.from(o.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:y}=o,v,b,w,x,R;function U(){x&&x(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function Y(){if(!k)return;const Z=In.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),he={data:!f||f==="text"||f==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:Z,config:r,request:k};SS(function(M){t(M),U()},function(M){i(M),U()},he),k=null}"onloadend"in k?k.onloadend=Y:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(Y)},k.onabort=function(){k&&(i(new xe("Request aborted",xe.ECONNABORTED,r,k)),k=null)},k.onerror=function(ce){const he=ce&&ce.message?ce.message:"Network Error",Ae=new xe(he,xe.ERR_NETWORK,r,k);Ae.event=ce||null,i(Ae),k=null},k.ontimeout=function(){let ce=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const he=o.transitional||ES;o.timeoutErrorMessage&&(ce=o.timeoutErrorMessage),i(new xe(ce,he.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,r,k)),k=null},c===void 0&&h.setContentType(null),"setRequestHeader"in k&&Q.forEach(h.toJSON(),function(ce,he){k.setRequestHeader(he,ce)}),Q.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),f&&f!=="json"&&(k.responseType=o.responseType),y&&([w,R]=fd(y,!0),k.addEventListener("progress",w)),p&&k.upload&&([b,x]=fd(p),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(v=Z=>{k&&(i(!Z||Z.type?new al(null,r,k):Z),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const K=pj(o.url);if(K&&mn.protocols.indexOf(K)===-1){i(new xe("Unsupported protocol "+K+":",xe.ERR_BAD_REQUEST,r));return}k.send(c||null)})},wj=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,o;const c=function(y){if(!o){o=!0,f();const v=y instanceof Error?y:this.reason;i.abort(v instanceof xe?v:new al(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,c(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const f=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(c):y.removeEventListener("abort",c)}),r=null)};r.forEach(y=>y.addEventListener("abort",c));const{signal:p}=i;return p.unsubscribe=()=>Q.asap(f),p}},Aj=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let i=0,o;for(;i<t;)o=i+e,yield r.slice(i,o),i=o},Rj=async function*(r,e){for await(const t of Cj(r))yield*Aj(t,e)},Cj=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},u1=(r,e,t,i)=>{const o=Rj(r,e);let c=0,h,f=p=>{h||(h=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:y,value:v}=await o.next();if(y){f(),p.close();return}let b=v.byteLength;if(t){let w=c+=b;t(w)}p.enqueue(new Uint8Array(v))}catch(y){throw f(y),y}},cancel(p){return f(p),o.return()}},{highWaterMark:2})},h1=64*1024,{isFunction:Oh}=Q,RS=(({fetch:r,Request:e,Response:t})=>({fetch:r,Request:e,Response:t}))(Q.global),{ReadableStream:d1,TextEncoder:f1}=Q.global,m1=(r,...e)=>{try{return!!r(...e)}catch{return!1}},xj=r=>{const{fetch:e,Request:t,Response:i}=Object.assign({},RS,r),o=Oh(e),c=Oh(t),h=Oh(i);if(!o)return!1;const f=o&&Oh(d1),p=o&&(typeof f1=="function"?(R=>U=>R.encode(U))(new f1):async R=>new Uint8Array(await new t(R).arrayBuffer())),y=c&&f&&m1(()=>{let R=!1;const U=new t(mn.origin,{body:new d1,method:"POST",get duplex(){return R=!0,"half"}}).headers.has("Content-Type");return R&&!U}),v=h&&f&&m1(()=>Q.isReadableStream(new i("").body)),b={stream:v&&(R=>R.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!b[R]&&(b[R]=(U,k)=>{let Y=U&&U[R];if(Y)return Y.call(U);throw new xe(`Response type '${R}' is not supported`,xe.ERR_NOT_SUPPORT,k)})});const w=async R=>{if(R==null)return 0;if(Q.isBlob(R))return R.size;if(Q.isSpecCompliantForm(R))return(await new t(mn.origin,{method:"POST",body:R}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(R)||Q.isArrayBuffer(R))return R.byteLength;if(Q.isURLSearchParams(R)&&(R=R+""),Q.isString(R))return(await p(R)).byteLength},x=async(R,U)=>{const k=Q.toFiniteNumber(R.getContentLength());return k??w(U)};return async R=>{let{url:U,method:k,data:Y,signal:K,cancelToken:Z,timeout:ce,onDownloadProgress:he,onUploadProgress:Ae,responseType:M,headers:C,withCredentials:I="same-origin",fetchOptions:L}=AS(R);M=M?(M+"").toLowerCase():"text";let V=wj([K,Z&&Z.toAbortSignal()],ce),B=null;const O=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let wt;try{if(Ae&&y&&k!=="get"&&k!=="head"&&(wt=await x(C,Y))!==0){let j=new t(U,{method:"POST",body:Y,duplex:"half"}),ne;if(Q.isFormData(Y)&&(ne=j.headers.get("content-type"))&&C.setContentType(ne),j.body){const[le,ie]=o1(wt,fd(l1(Ae)));Y=u1(j.body,h1,le,ie)}}Q.isString(I)||(I=I?"include":"omit");const He=c&&"credentials"in t.prototype,W={...L,signal:V,method:k.toUpperCase(),headers:C.normalize().toJSON(),body:Y,duplex:"half",credentials:He?I:void 0};B=c&&new t(U,W);let ae=await(c?e(B,L):e(U,W));const ge=v&&(M==="stream"||M==="response");if(v&&(he||ge&&O)){const j={};["status","statusText","headers"].forEach(_e=>{j[_e]=ae[_e]});const ne=Q.toFiniteNumber(ae.headers.get("content-length")),[le,ie]=he&&o1(ne,fd(l1(he),!0))||[];ae=new i(u1(ae.body,h1,le,()=>{ie&&ie(),O&&O()}),j)}M=M||"text";let Fe=await b[Q.findKey(b,M)||"text"](ae,R);return!ge&&O&&O(),await new Promise((j,ne)=>{SS(j,ne,{data:Fe,headers:In.from(ae.headers),status:ae.status,statusText:ae.statusText,config:R,request:B})})}catch(He){throw O&&O(),He&&He.name==="TypeError"&&/Load failed|fetch/i.test(He.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,R,B),{cause:He.cause||He}):xe.from(He,He&&He.code,R,B)}}},Nj=new Map,CS=r=>{let e=Q.merge.call({skipUndefined:!0},RS,r?r.env:null);const{fetch:t,Request:i,Response:o}=e,c=[i,o,t];let h=c.length,f=h,p,y,v=Nj;for(;f--;)p=c[f],y=v.get(p),y===void 0&&v.set(p,y=f?new Map:xj(e)),v=y;return y};CS();const tg={http:Kk,xhr:Sj,fetch:{get:CS}};Q.forEach(tg,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const p1=r=>`- ${r}`,Ij=r=>Q.isFunction(r)||r===null||r===!1,xS={getAdapter:(r,e)=>{r=Q.isArray(r)?r:[r];const{length:t}=r;let i,o;const c={};for(let h=0;h<t;h++){i=r[h];let f;if(o=i,!Ij(i)&&(o=tg[(f=String(i)).toLowerCase()],o===void 0))throw new xe(`Unknown adapter '${f}'`);if(o&&(Q.isFunction(o)||(o=o.get(e))))break;c[f||"#"+h]=o}if(!o){const h=Object.entries(c).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let f=t?h.length>1?`since :
`+h.map(p1).join(`
`):" "+p1(h[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o},adapters:tg};function dp(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new al(null,r)}function g1(r){return dp(r),r.headers=In.from(r.headers),r.data=hp.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),xS.getAdapter(r.adapter||eu.adapter,r)(r).then(function(i){return dp(r),i.data=hp.call(r,r.transformResponse,i),i.headers=In.from(i.headers),i},function(i){return bS(i)||(dp(r),i&&i.response&&(i.response.data=hp.call(r,r.transformResponse,i.response),i.response.headers=In.from(i.response.headers))),Promise.reject(i)})}const NS="1.12.1",zd={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{zd[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const y1={};zd.transitional=function(e,t,i){function o(c,h){return"[Axios v"+NS+"] Transitional option '"+c+"'"+h+(i?". "+i:"")}return(c,h,f)=>{if(e===!1)throw new xe(o(h," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!y1[h]&&(y1[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(c,h,f):!0}};zd.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Dj(r,e,t){if(typeof r!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let o=i.length;for(;o-- >0;){const c=i[o],h=e[c];if(h){const f=r[c],p=f===void 0||h(f,c,r);if(p!==!0)throw new xe("option "+c+" must be "+p,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+c,xe.ERR_BAD_OPTION)}}const Qh={assertOptions:Dj,validators:zd},Mr=Qh.validators;let ga=class{constructor(e){this.defaults=e||{},this.interceptors={request:new i1,response:new i1}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ta(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:c}=t;i!==void 0&&Qh.assertOptions(i,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:Qh.assertOptions(o,{encode:Mr.function,serialize:Mr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qh.assertOptions(t,{baseUrl:Mr.spelling("baseURL"),withXsrfToken:Mr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=c&&Q.merge(c.common,c[t.method]);c&&Q.forEach(["delete","get","head","post","put","patch","common"],R=>{delete c[R]}),t.headers=In.concat(h,c);const f=[];let p=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(t)===!1||(p=p&&U.synchronous,f.unshift(U.fulfilled,U.rejected))});const y=[];this.interceptors.response.forEach(function(U){y.push(U.fulfilled,U.rejected)});let v,b=0,w;if(!p){const R=[g1.bind(this),void 0];for(R.unshift(...f),R.push(...y),w=R.length,v=Promise.resolve(t);b<w;)v=v.then(R[b++],R[b++]);return v}w=f.length;let x=t;for(b=0;b<w;){const R=f[b++],U=f[b++];try{x=R(x)}catch(k){U.call(this,k);break}}try{v=g1.call(this,x)}catch(R){return Promise.reject(R)}for(b=0,w=y.length;b<w;)v=v.then(y[b++],y[b++]);return v}getUri(e){e=Ta(this.defaults,e);const t=wS(e.baseURL,e.url,e.allowAbsoluteUrls);return vS(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){ga.prototype[e]=function(t,i){return this.request(Ta(i||{},{method:e,url:t,data:(i||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(i){return function(c,h,f){return this.request(Ta(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}ga.prototype[e]=t(),ga.prototype[e+"Form"]=t(!0)});let Oj=class IS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const i=this;this.promise.then(o=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](o);i._listeners=null}),this.promise.then=o=>{let c;const h=new Promise(f=>{i.subscribe(f),c=f}).then(o);return h.cancel=function(){i.unsubscribe(c)},h},e(function(c,h,f){i.reason||(i.reason=new al(c,h,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new IS(function(o){e=o}),cancel:e}}};function kj(r){return function(t){return r.apply(null,t)}}function jj(r){return Q.isObject(r)&&r.isAxiosError===!0}const ng={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ng).forEach(([r,e])=>{ng[e]=r});function DS(r){const e=new ga(r),t=oS(ga.prototype.request,e);return Q.extend(t,ga.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return DS(Ta(r,o))},t}const me=DS(eu);me.Axios=ga;me.CanceledError=al;me.CancelToken=Oj;me.isCancel=bS;me.VERSION=NS;me.toFormData=Bd;me.AxiosError=xe;me.Cancel=me.CanceledError;me.all=function(e){return Promise.all(e)};me.spread=kj;me.isAxiosError=jj;me.mergeConfig=Ta;me.AxiosHeaders=In;me.formToJSON=r=>TS(Q.isHTMLForm(r)?new FormData(r):r);me.getAdapter=xS.getAdapter;me.HttpStatusCode=ng;me.default=me;const{Axios:QV,AxiosError:YV,CanceledError:XV,isCancel:WV,CancelToken:JV,VERSION:ZV,all:e5,Cancel:t5,isAxiosError:n5,spread:r5,toFormData:s5,AxiosHeaders:i5,HttpStatusCode:a5,formToJSON:o5,getAdapter:l5,mergeConfig:c5}=me,Mj=()=>{const[r,e]=N.useState(""),[t,i]=N.useState(""),[o,c]=N.useState(""),[h,f]=N.useState("student"),[p,y]=N.useState(""),[v,b]=N.useState(""),[w,x]=N.useState(""),[R,U]=N.useState(""),[k,Y]=N.useState(""),K=Sa(),Z=async ce=>{if(ce.preventDefault(),Y(""),t.length<6)return Y("Password must be at least 6 characters long.");if(h!=="parent"&&!p)return Y("Institution ID is required for this role.");try{await me.post("http://localhost:8080/api/auth/register",{email:r,password:t,fullName:o,role:h,institutionId:p||null,schoolName:v||null,grade:w||null,city:R||null}),K("/login")}catch(Ae){Y(Ae.response?.data?.message||"Failed to register.")}};return g.jsxs("div",{className:pe.container,children:[g.jsxs("div",{className:pe.panel,children:[g.jsx("div",{children:g.jsx("h1",{className:pe.panelHeader,children:"DisasterReady"})}),g.jsx("img",{src:"https://img.freepik.com/free-vector/people-volunteering-donating-food-items_53876-66151.jpg?w=826",alt:"Community helping each other",className:pe.panelIllustration}),g.jsxs("div",{className:pe.panelQuote,children:[g.jsx("p",{children:'"The future depends on what you do today."'}),g.jsx("footer",{children:"- Mare Jene"})]})]}),g.jsx("div",{className:pe.formContainer,children:g.jsxs("div",{className:pe.card,children:[g.jsx("h2",{className:pe.title,children:"Create Your Account"}),g.jsxs("form",{onSubmit:Z,className:pe.form,children:[g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"fullName",className:pe.label,children:"Full Name"}),g.jsx("input",{id:"fullName",type:"text",required:!0,value:o,onChange:ce=>c(ce.target.value),className:pe.input})]}),g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"email",className:pe.label,children:"Email Address"}),g.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:ce=>e(ce.target.value),className:pe.input})]}),g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"password",className:pe.label,children:"Password"}),g.jsx("input",{id:"password",type:"password",required:!0,value:t,onChange:ce=>i(ce.target.value),className:pe.input})]}),g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"role",className:pe.label,children:"I am a:"}),g.jsxs("select",{id:"role",value:h,onChange:ce=>f(ce.target.value),className:pe.input,children:[g.jsx("option",{value:"student",children:"Student"}),g.jsx("option",{value:"teacher",children:"Teacher"}),g.jsx("option",{value:"admin",children:"Admin"}),g.jsx("option",{value:"parent",children:"Parent"})]})]}),h!=="parent"&&g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"institutionId",className:pe.label,children:"Institution ID"}),g.jsx("input",{id:"institutionId",type:"text",required:h!=="parent",value:p,onChange:ce=>y(ce.target.value),className:pe.input})]}),(h==="student"||h==="teacher"||h==="admin")&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"schoolName",className:pe.label,children:"School/College Name"}),g.jsx("input",{id:"schoolName",type:"text",value:v,onChange:ce=>b(ce.target.value),className:pe.input})]}),(h==="student"||h==="teacher")&&g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"grade",className:pe.label,children:"Grade / Class"}),g.jsx("input",{id:"grade",type:"text",value:w,onChange:ce=>x(ce.target.value),className:pe.input})]}),g.jsxs("div",{className:pe.formGroup,children:[g.jsx("label",{htmlFor:"city",className:pe.label,children:"City"}),g.jsx("input",{id:"city",type:"text",value:R,onChange:ce=>U(ce.target.value),className:pe.input})]})]}),k&&g.jsx("p",{className:pe.error,children:k}),g.jsx("button",{type:"submit",className:pe.button,children:"Sign Up"})]}),g.jsxs("p",{className:pe.linkText,children:["Already have an account? ",g.jsx(Sn,{to:"/login",className:pe.link,children:"Log in"})]})]})})]})},fp=({children:r})=>{const{currentUser:e}=pt();return e?r:g.jsx(Tp,{to:"/login"})},Pj="_container_isleb_1",Lj="_header_isleb_17",Vj="_title_isleb_41",Uj="_welcomeMessage_isleb_55",Bj="_logoutButton_isleb_65",zj="_mainContent_isleb_87",Eo={container:Pj,header:Lj,title:Vj,welcomeMessage:Uj,logoutButton:Bj,mainContent:zj},OS=()=>{const[r,e]=N.useState({location:null,error:null});return N.useEffect(()=>{if(!navigator.geolocation){e(o=>({...o,error:"Geolocation is not supported by your browser."}));return}const t=o=>{e({location:{latitude:o.coords.latitude,longitude:o.coords.longitude},error:null})},i=o=>{e(c=>({...c,error:`Could not get location: ${o.message}`}))};navigator.geolocation.getCurrentPosition(t,i,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),r},qj="_banner_xjhan_1",Hj="_high_xjhan_23",Fj="_medium_xjhan_31",Gj="_low_xjhan_39",$j="_closeButton_xjhan_47",mp={banner:qj,high:Hj,medium:Fj,low:Gj,closeButton:$j},kS=()=>{const{currentUser:r}=pt(),{location:e}=OS(),[t,i]=N.useState([]);if(N.useEffect(()=>{(async()=>{if(r&&e)try{const f=await Me.currentUser?.getIdToken(),p=await me.get(`http://localhost:8080/api/alerts?lat=${e.latitude}&lon=${e.longitude}`,{headers:{Authorization:`Bearer ${f}`}});i(p.data.filter(y=>y.severity!=="High"))}catch(f){console.error("Failed to fetch alerts",f)}})()},[r,e]),t.length===0)return null;const o=t[0],c=mp[(o.severity||"low").toLowerCase()];return g.jsxs("div",{className:`${mp.banner} ${c}`,children:[g.jsx("strong",{children:"ALERT:"})," ",o.title,g.jsx("button",{onClick:()=>i([]),className:mp.closeButton,children:"×"})]})},pn=({children:r,title:e})=>{const{currentUser:t}=pt(),i=Sa(),o=async()=>{try{await vT(Me),i("/login")}catch(c){console.error("Failed to log out",c)}};return g.jsxs("div",{className:Eo.container,children:[g.jsxs("header",{className:Eo.header,children:[g.jsxs("div",{children:[g.jsx("h1",{className:Eo.title,children:e}),t&&g.jsxs("p",{className:Eo.welcomeMessage,children:["Welcome, ",t.fullName,"!"]})]}),g.jsx("button",{onClick:o,className:Eo.logoutButton,children:"Logout"})]}),g.jsxs("main",{className:Eo.mainContent,children:[g.jsx(kS,{}),r]})]})},Kj="_formBox_6a3mr_1",Qj="_listBox_6a3mr_1",Yj="_formGroup_6a3mr_15",Xj="_subheading_6a3mr_51",Wj="_lessonBox_6a3mr_65",Jj="_divider_6a3mr_85",Zj="_actions_6a3mr_97",eM="_button_6a3mr_107",tM="_saveButton_6a3mr_107",nM="_deleteButton_6a3mr_107",rM="_cancelButton_6a3mr_107",sM="_listItem_6a3mr_155",iM="_listItemTitle_6a3mr_171",aM="_listItemActions_6a3mr_173",Ye={formBox:Kj,listBox:Qj,formGroup:Yj,subheading:Xj,lessonBox:Wj,divider:Jj,actions:Zj,button:eM,saveButton:tM,deleteButton:nM,cancelButton:rM,listItem:sM,listItemTitle:iM,listItemActions:aM},oM=({initialData:r,onDrillCreated:e,onCancel:t})=>{const[i,o]=N.useState(""),[c,h]=N.useState("Fire Evacuation"),[f,p]=N.useState(""),[y,v]=N.useState(!1),[b,w]=N.useState(""),[x,R]=N.useState(""),{currentUser:U}=pt();N.useEffect(()=>{if(r){o(r.name||""),h(r.type||"Fire Evacuation");const K=new Date(r.scheduledDate).toISOString().split("T")[0];p(K)}else o(""),h("Fire Evacuation"),p("")},[r]);const k=async Y=>{Y.preventDefault(),w(""),R(""),v(!0);const K={name:i,type:c,scheduledDate:f,institutionId:U?.institutionId};try{const Z=await Me.currentUser?.getIdToken();r?(await me.put(`http://localhost:8080/api/drills/${r.id}`,K,{headers:{Authorization:`Bearer ${Z}`}}),w("Drill updated successfully!")):(await me.post("http://localhost:8080/api/drills",K,{headers:{Authorization:`Bearer ${Z}`}}),w("Drill scheduled successfully!")),e()}catch(Z){R(Z.response?.data?.message||"Failed to save drill. Please try again.")}finally{v(!1)}};return g.jsxs("div",{className:Ye.formBox,children:[g.jsx("h2",{className:Ye.subheading,children:r?"Edit Drill Details":"Schedule a New Drill"}),g.jsxs("form",{onSubmit:k,children:[g.jsxs("div",{className:Ye.formGroup,children:[g.jsx("label",{children:"Drill Name:"}),g.jsx("input",{type:"text",value:i,onChange:Y=>o(Y.target.value),required:!0})]}),g.jsxs("div",{className:Ye.formGroup,children:[g.jsx("label",{children:"Drill Type:"}),g.jsxs("select",{value:c,onChange:Y=>h(Y.target.value),required:!0,children:[g.jsx("option",{children:"Fire Evacuation"}),g.jsx("option",{children:"Earthquake Drop-Cover-Hold"}),g.jsx("option",{children:"Flood Response"})]})]}),g.jsxs("div",{className:Ye.formGroup,children:[g.jsx("label",{children:"Date:"}),g.jsx("input",{type:"date",value:f,onChange:Y=>p(Y.target.value),required:!0})]}),g.jsxs("div",{className:Ye.actions,children:[g.jsx("button",{type:"submit",className:Ye.saveButton,disabled:y,children:y?"Saving...":r?"Update Drill":"Schedule Drill"}),r&&g.jsx("button",{type:"button",onClick:t,className:Ye.cancelButton,children:"Cancel"})]}),b&&g.jsx("p",{className:Ye.successMessage,children:b}),x&&g.jsx("p",{className:Ye.errorMessage,children:x})]})]})},lM="_container_yt5sn_1",cM="_title_yt5sn_3",uM="_list_yt5sn_5",hM="_listItem_yt5sn_7",dM="_drillInfo_yt5sn_9",fM="_drillName_yt5sn_11",mM="_drillDate_yt5sn_13",pM="_actionButton_yt5sn_15",gM="_completedButton_yt5sn_15",yM="_editButton_yt5sn_15",_M="_deleteButton_yt5sn_15",vM="_stats_yt5sn_23",EM="_progressBar_yt5sn_25",TM="_progressFill_yt5sn_27",bM="_participantCount_yt5sn_29",SM="_managerActions_yt5sn_31",cn={container:lM,title:cM,list:uM,listItem:hM,drillInfo:dM,drillName:fM,drillDate:mM,actionButton:pM,completedButton:gM,editButton:yM,deleteButton:_M,stats:vM,progressBar:EM,progressFill:TM,participantCount:bM,managerActions:SM},jS=({drills:r,onAction:e,onEdit:t})=>{const{currentUser:i}=pt(),o=i?.role==="admin"||i?.role==="super-admin",c=i?.role==="teacher",h=i?.role==="student",f=async y=>{try{const v=await Me.currentUser?.getIdToken();await me.patch(`http://localhost:8080/api/drills/${y}/participate`,{},{headers:{Authorization:`Bearer ${v}`}}),e()}catch{alert("There was an error recording your participation.")}},p=async y=>{if(window.confirm("Are you sure you want to delete this drill?"))try{const v=await Me.currentUser?.getIdToken();await me.delete(`http://localhost:8080/api/drills/${y}`,{headers:{Authorization:`Bearer ${v}`}}),e()}catch{alert("Failed to delete drill.")}};return g.jsxs("div",{className:cn.container,children:[g.jsx("h2",{className:cn.title,children:h?"My Assigned Drills":"Scheduled Drills Overview"}),!r||r.length===0?g.jsx("p",{children:"No drills are currently scheduled."}):g.jsx("ul",{className:cn.list,children:r.map(y=>{const v=(y.participants||[]).includes(i.uid);return g.jsxs("li",{className:cn.listItem,children:[g.jsxs("div",{className:cn.drillInfo,children:[g.jsx("span",{className:cn.drillName,children:y.name}),g.jsxs("span",{className:cn.drillDate,children:["Due: ",new Date(y.scheduledDate).toLocaleDateString()]})]}),(o||c)&&g.jsxs("div",{className:cn.stats,children:[y.participationRate,"% Complete",g.jsx("div",{className:cn.progressBar,children:g.jsx("div",{className:cn.progressFill,style:{width:`${y.participationRate}%`}})}),g.jsxs("span",{className:cn.participantCount,children:[y.participantsCount," / ",y.totalStudents," Students"]})]}),o&&t&&g.jsxs("div",{className:cn.managerActions,children:[g.jsx("button",{onClick:()=>t(y),className:cn.editButton,children:"Edit"}),g.jsx("button",{onClick:()=>p(y.id),className:cn.deleteButton,children:"Delete"})]}),h&&g.jsx("button",{onClick:()=>f(y.id),disabled:v,className:v?cn.completedButton:cn.actionButton,children:v?"✓ Completed":"Participate"})]},y.id)})})]})},MS=r=>{const[e,t]=N.useState([]),[i,o]=N.useState(!0),[c,h]=N.useState(null);return N.useEffect(()=>{if(!r){t([]),o(!1);return}o(!0);const f=VO(r,p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));t(y),o(!1)},p=>{console.error("Real-time listener error:",p),h(p),o(!1)});return()=>f()},[r]),{data:e,loading:i,error:c}},wM=()=>{const{currentUser:r}=pt(),[e,t]=N.useState(null),i=N.useMemo(()=>r?.institutionId?Zb(Gb(Xg,"drills"),eS("institutionId","==",r.institutionId),tS("scheduledDate","desc")):null,[r?.institutionId]),{data:o,loading:c,error:h}=MS(i),f=N.useCallback(()=>{t(null)},[]);return c?g.jsx(pn,{title:"Manage Drills",children:g.jsx("p",{children:"Loading drills..."})}):h?g.jsx(pn,{title:"Manage Drills",children:g.jsx("p",{children:"Error loading drills."})}):g.jsx(pn,{title:"Manage Drills",children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"2rem",alignItems:"flex-start"},children:[g.jsx("div",{children:g.jsx(oM,{initialData:e,onDrillCreated:f,onCancel:()=>t(null)},e?.id||"new")}),g.jsx("div",{children:g.jsx(jS,{drills:o,onAction:f,onEdit:t})})]})})},AM="_dashboardContainer_fbo52_1",RM="_sidebar_fbo52_13",CM="_sidebarMain_fbo52_35",xM="_sidebarHeader_fbo52_47",NM="_navListWrapper_fbo52_65",IM="_navList_fbo52_65",DM="_active_fbo52_113",OM="_icon_fbo52_125",kM="_sidebarFooter_fbo52_135",jM="_emergencyButton_fbo52_147",MM="_userProfile_fbo52_189",PM="_profileLink_fbo52_191",LM="_avatar_fbo52_195",VM="_userInfo_fbo52_197",UM="_userName_fbo52_199",BM="_userRole_fbo52_201",zM="_logoutButton_fbo52_203",qM="_mainContent_fbo52_211",Ut={dashboardContainer:AM,sidebar:RM,sidebarMain:CM,sidebarHeader:xM,navListWrapper:NM,navList:IM,active:DM,icon:OM,sidebarFooter:kM,emergencyButton:jM,userProfile:MM,profileLink:PM,avatar:LM,userInfo:VM,userName:UM,userRole:BM,logoutButton:zM,mainContent:qM},HM="_overlay_2e203_1",FM="_modal_2e203_29",GM="_header_2e203_65",$M="_title_2e203_81",KM="_closeButton_2e203_95",QM="_content_2e203_113",To={overlay:HM,modal:FM,header:GM,title:$M,closeButton:KM,content:QM},YM="_hubContainer_oqb2p_5",XM="_title_oqb2p_21",WM="_subtitle_oqb2p_39",JM="_contactList_oqb2p_53",ZM="_contactRow_oqb2p_65",e4="_contactInfo_oqb2p_93",t4="_icon_oqb2p_109",n4="_callButton_oqb2p_119",ri={hubContainer:YM,title:XM,subtitle:WM,contactList:JM,contactRow:ZM,contactInfo:e4,icon:t4,callButton:n4},r4=[{name:"National Emergency",number:"112",icon:"🚨"},{name:"Police",number:"100",icon:"🚓"},{name:"Fire",number:"101",icon:"🔥"},{name:"Ambulance",number:"108",icon:"🚑"},{name:"Disaster Helpline",number:"1077",icon:"☎️"}],s4=()=>g.jsxs("div",{className:ri.hubContainer,children:[g.jsx("h3",{className:ri.title,children:"Emergency Hub"}),g.jsx("p",{className:ri.subtitle,children:"Quick access to emergency services."}),g.jsx("div",{className:ri.contactList,children:r4.map(r=>g.jsxs("div",{className:ri.contactRow,children:[g.jsxs("span",{className:ri.contactInfo,children:[g.jsx("span",{className:ri.icon,children:r.icon}),r.name]}),g.jsx("a",{href:`tel:${r.number}`,className:ri.callButton,children:"Call"})]},r.name))})]}),i4=({onClose:r})=>g.jsx("div",{className:To.overlay,onClick:r,children:g.jsxs("div",{className:To.modal,onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:To.header,children:[g.jsx("h2",{className:To.title,children:"Emergency Hub"}),g.jsx("button",{onClick:r,className:To.closeButton,children:"×"})]}),g.jsx("div",{className:To.content,children:g.jsx(s4,{})})]})}),Tn={dashboard:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),courses:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),progress:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),drills:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),games:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),child:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),cms:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),emergency:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),logout:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})},a4=()=>{const{currentUser:r}=pt(),e=Sa(),[t,i]=N.useState(!1),o=async()=>{try{await vT(Me),e("/login")}catch(f){console.error("Failed to log out",f)}},c=f=>f?f.split(" ").map(p=>p[0]).slice(0,2).join("").toUpperCase():"U",h=()=>{const f=r?.role,p=[];return f==="student"?(p.push({path:"/dashboard",label:"Dashboard",icon:Tn.dashboard}),p.push({path:"/dashboard/courses",label:"Courses",icon:Tn.courses}),p.push({path:"/dashboard/progress",label:"My Progress",icon:Tn.progress}),p.push({path:"/dashboard/drills",label:"Drills",icon:Tn.drills}),p.push({path:"/dashboard/games",label:"Games",icon:Tn.games})):f==="teacher"||f==="admin"?(p.push({path:"/dashboard",label:"Dashboard",icon:Tn.dashboard}),p.push({path:"/dashboard/manage-students",label:"Manage Students",icon:Tn.child}),p.push({path:"/dashboard/manage-drills",label:"Manage Drills",icon:Tn.drills})):f==="parent"?(p.push({path:"/dashboard",label:"Dashboard",icon:Tn.dashboard}),p.push({path:"/dashboard/child-progress",label:"Child's Progress",icon:Tn.child})):f==="super-admin"&&(p.push({path:"/dashboard",label:"Dashboard",icon:Tn.dashboard}),p.push({path:"/manage-modules",label:"Manage Content",icon:Tn.cms}),p.push({path:"/dashboard/manage-drills",label:"Manage Drills",icon:Tn.drills})),p.map(y=>g.jsx("li",{children:g.jsxs(k1,{to:y.path,end:!0,className:({isActive:v})=>v?Ut.active:"",children:[g.jsx("span",{className:Ut.icon,children:y.icon}),y.label]})},y.path))};return g.jsxs("div",{className:Ut.dashboardContainer,children:[g.jsxs("nav",{className:Ut.sidebar,children:[g.jsxs("div",{className:Ut.sidebarMain,children:[g.jsx("div",{className:Ut.sidebarHeader,children:g.jsx("h3",{children:"DisasterReady"})}),g.jsx("div",{className:Ut.navListWrapper,children:g.jsx("ul",{className:Ut.navList,children:h()})})]}),g.jsxs("div",{className:Ut.sidebarFooter,children:[g.jsxs("button",{className:Ut.emergencyButton,onClick:()=>i(!0),children:[g.jsx("span",{className:Ut.icon,children:Tn.emergency}),"Emergency Hub"]}),g.jsxs("div",{className:Ut.userProfile,children:[g.jsxs(Sn,{to:"/dashboard/profile",className:Ut.profileLink,children:[g.jsx("div",{className:Ut.avatar,children:c(r?.fullName)}),g.jsxs("div",{className:Ut.userInfo,children:[g.jsx("span",{className:Ut.userName,children:r?.fullName||"User"}),g.jsx("span",{className:Ut.userRole,children:r?.role})]})]}),g.jsx("button",{onClick:o,className:Ut.logoutButton,title:"Logout",children:g.jsx("span",{children:Tn.logout})})]})]})]}),g.jsxs("main",{className:Ut.mainContent,children:[g.jsx(kS,{}),g.jsx(uR,{})]}),t&&g.jsx(i4,{onClose:()=>i(!1)})]})},o4="_title_fw6ki_1",l4="_subtitle_fw6ki_13",bo={title:o4,subtitle:l4},c4="_card_ij43n_1",u4="_cardTitle_ij43n_17",h4="_cardContent_ij43n_37",pp={card:c4,cardTitle:u4,cardContent:h4},rr=({title:r,children:e})=>g.jsxs("div",{className:pp.card,children:[g.jsx("h3",{className:pp.cardTitle,children:r}),g.jsx("div",{className:pp.cardContent,children:e})]}),d4="_statContainer_1bsp3_1",f4="_mainStat_1bsp3_11",m4="_subStat_1bsp3_25",Vo={statContainer:d4,mainStat:f4,subStat:m4},p4=({score:r,completed:e,total:t})=>g.jsx(rr,{title:"My Preparedness Score",children:g.jsxs("div",{className:Vo.statContainer,children:[g.jsx("span",{className:Vo.mainStat,children:r}),g.jsxs("span",{className:Vo.subStat,children:["You have completed ",e," of ",t," lessons."]})]})}),g4=({drill:r})=>g.jsx(rr,{title:"Next Virtual Drill",children:r?g.jsxs("div",{className:Vo.statContainer,children:[g.jsx("span",{className:Vo.mainStat,children:r.name}),g.jsxs("span",{className:Vo.subStat,children:["Scheduled for: ",new Date(r.scheduledDate).toLocaleDateString()]})]}):g.jsx("p",{children:"No upcoming drills are scheduled. Stay tuned!"})}),y4=()=>{const[r,e]=N.useState(null),[t,i]=N.useState(!0),{currentUser:o}=pt();return N.useEffect(()=>{(async()=>{if(o)try{const h=await Me.currentUser?.getIdToken(),f=await me.get("http://localhost:8080/api/dashboard/student",{headers:{Authorization:`Bearer ${h}`}});e(f.data)}catch(h){console.error("Failed to fetch student dashboard data",h)}finally{i(!1)}})()},[o]),t?g.jsx("p",{children:"Loading your dashboard summary..."}):r?g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:[g.jsx(p4,{score:r.preparednessScore,completed:r.completedLessons,total:r.totalLessons}),g.jsx(g4,{drill:r.nextDrill}),g.jsxs(rr,{title:"Start Learning",children:[g.jsx("p",{children:"Jump back into your courses and continue learning."}),g.jsx(Sn,{to:"/dashboard/courses",style:{color:"#4f46e5",fontWeight:500,textDecoration:"none"},children:"Go to Courses →"})]})]}):g.jsx("p",{children:"Could not load your dashboard data at this time."})},_4="_title_e40mh_1",v4="_subtitle_e40mh_13",E4="_cardGrid_e40mh_27",T4="_cardLink_e40mh_39",b4="_drillDate_e40mh_69",Vr={title:_4,subtitle:v4,cardGrid:E4,cardLink:T4,drillDate:b4},S4=()=>g.jsxs("div",{children:[g.jsx("h1",{className:Vr.title,children:"Administrator Dashboard"}),g.jsx("p",{className:Vr.subtitle,children:"Manage your institution's users and preparedness activities."}),g.jsxs("div",{className:Vr.cardGrid,children:[g.jsxs(rr,{title:"Manage Students & Parents",children:[g.jsx("p",{children:"View all students in your institution and link them to their parent accounts."}),g.jsx(Sn,{to:"/dashboard/manage-students",className:Vr.cardLink,children:"Go to Student Management →"})]}),g.jsxs(rr,{title:"Manage Drills",children:[g.jsx("p",{children:"Create, edit, and view participation statistics for institutional drills."}),g.jsx(Sn,{to:"/dashboard/manage-drills",className:Vr.cardLink,children:"Go to Drill Management →"})]})]})]}),w4="_progressGrid_kjgd3_1",A4="_statBox_kjgd3_15",R4="_statValue_kjgd3_25",C4="_statLabel_kjgd3_39",x4="_error_kjgd3_53",si={progressGrid:w4,statBox:A4,statValue:R4,statLabel:C4,error:x4},N4=()=>{const{currentUser:r}=pt(),[e,t]=N.useState(null),[i,o]=N.useState(null),[c,h]=N.useState(!0),[f,p]=N.useState("");return N.useEffect(()=>{(async()=>{if(r)try{const b={Authorization:`Bearer ${await Me.currentUser?.getIdToken()}`},x=(await me.get("http://localhost:8080/api/users/my-child",{headers:b})).data;if(x&&x.uid){t(x);const R=await me.get(`http://localhost:8080/api/progress?uid=${x.uid}`,{headers:b});o(R.data)}else p("Child data is incomplete.")}catch(v){console.error("Failed to fetch child data",v),p(v.response?.data?.message||"Could not load child's progress.")}finally{h(!1)}})()},[r]),c?g.jsx(rr,{title:"Child's Progress",children:g.jsx("p",{children:"Loading..."})}):f||!e?g.jsx(rr,{title:"Child's Progress",children:g.jsx("p",{className:si.error,children:f})}):g.jsx(rr,{title:`Progress for ${e.fullName}`,children:g.jsxs("div",{className:si.progressGrid,children:[g.jsxs("div",{className:si.statBox,children:[g.jsx("span",{className:si.statValue,children:i?.completedLessonsCount||0}),g.jsx("span",{className:si.statLabel,children:"Lessons Completed"})]}),g.jsxs("div",{className:si.statBox,children:[g.jsx("span",{className:si.statValue,children:i?.earnedBadges?.length||0}),g.jsx("span",{className:si.statLabel,children:"Badges Earned"})]})]})})},I4=()=>{const{currentUser:r}=pt(),[e,t]=N.useState(null),[i,o]=N.useState(!0);return N.useEffect(()=>{(async()=>{if(!r||!r.institutionId){o(!1);return}try{const h=await Me.currentUser?.getIdToken(),p=(await me.get(`http://localhost:8080/api/drills?institutionId=${r.institutionId}`,{headers:{Authorization:`Bearer ${h}`}})).data.filter(y=>new Date(y.scheduledDate)>=new Date).sort((y,v)=>new Date(y.scheduledDate).getTime()-new Date(v.scheduledDate).getTime());p.length>0&&t(p[0])}catch(h){console.error("Failed to fetch drills for parent dashboard",h)}finally{o(!1)}})()},[r]),g.jsxs("div",{children:[g.jsx("h1",{className:Vr.title,children:"Parent Dashboard"}),g.jsxs("p",{className:Vr.subtitle,children:["Welcome, ",r?.fullName,"! Here's an overview of your child's preparedness journey."]}),g.jsxs("div",{className:Vr.cardGrid,children:[g.jsx(N4,{}),g.jsxs(rr,{title:"Manage Child's Profile",children:[g.jsx("p",{children:"View and edit your child's personal information to keep it up-to-date."}),g.jsx(Sn,{to:"/dashboard/manage-child",className:Vr.cardLink,children:"Edit Profile →"})]}),g.jsx(rr,{title:"Upcoming School Drill",children:i?g.jsx("p",{children:"Loading drill information..."}):e?g.jsxs("div",{children:[g.jsxs("p",{children:[g.jsx("strong",{children:e.name})," is scheduled for:"]}),g.jsx("p",{className:Vr.drillDate,children:new Date(e.scheduledDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),g.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem"},children:"Please remind your child of the evacuation procedures."})]}):g.jsx("p",{children:"No upcoming drills are scheduled at this time."})})]})]})},D4=()=>g.jsx(pn,{title:"Super Admin Dashboard",children:g.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[g.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Institutions"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Onboard new schools and colleges."})]}),g.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Global Analytics"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"View preparedness data across all institutions."})]}),g.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Settings"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Manage global configurations and alerts."})]}),g.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Master Content"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Create and edit master education modules."})]})]})}),O4="_container_h4jxs_1",k4="_weatherDisplay_h4jxs_15",j4="_weatherInfo_h4jxs_35",M4="_city_h4jxs_37",P4="_temp_h4jxs_39",L4="_weatherIcon_h4jxs_41",V4="_searchSection_h4jxs_49",U4="_searchLabel_h4jxs_57",B4="_form_h4jxs_69",z4="_input_h4jxs_79",q4="_button_h4jxs_95",H4="_error_h4jxs_117",Bn={container:O4,weatherDisplay:k4,weatherInfo:j4,city:M4,temp:P4,weatherIcon:L4,searchSection:V4,searchLabel:U4,form:B4,input:z4,button:q4,error:H4},F4=({initialLocation:r,onLocationChange:e,initialError:t})=>{const[i,o]=N.useState(null),[c,h]=N.useState(!0),[f,p]=N.useState(""),[y,v]=N.useState("");N.useEffect(()=>{(async()=>{if(r){h(!0);try{const x=await Me.currentUser?.getIdToken(),R=await me.get(`http://localhost:8080/api/weather?lat=${r.latitude}&lon=${r.longitude}`,{headers:{Authorization:`Bearer ${x}`}});o(R.data)}catch(x){console.error("Could not fetch weather for initial location:",x)}finally{h(!1)}}else t&&h(!1)})()},[r,t]);const b=async w=>{if(w.preventDefault(),!!f){h(!0),v("");try{const x=await Me.currentUser?.getIdToken(),R=await me.get(`http://localhost:8080/api/weather/by-city?q=${f}`,{headers:{Authorization:`Bearer ${x}`}});o(R.data),e({latitude:R.data.coord.lat,longitude:R.data.coord.lon})}catch{v(`Could not find "${f}". Please check the spelling.`)}finally{h(!1)}}};return g.jsxs("div",{className:Bn.container,children:[c&&g.jsx("p",{children:"Loading location data..."}),t&&!i&&g.jsx("p",{className:Bn.error,children:t}),i&&g.jsxs("div",{className:Bn.weatherDisplay,children:[g.jsxs("div",{className:Bn.weatherInfo,children:[g.jsx("span",{className:Bn.city,children:i.city}),g.jsxs("span",{className:Bn.temp,children:[i.temperature,"°C"]})]}),g.jsxs("div",{className:Bn.weatherIcon,children:[g.jsx("img",{src:i.icon,alt:i.description}),g.jsx("span",{children:i.description})]})]}),g.jsxs("div",{className:Bn.searchSection,children:[g.jsx("p",{className:Bn.searchLabel,children:"Location inaccurate? Search for your city:"}),g.jsxs("form",{onSubmit:b,className:Bn.form,children:[g.jsx("input",{type:"text",value:f,onChange:w=>p(w.target.value),placeholder:"E.g., Kolluru, Guntur",className:Bn.input}),g.jsx("button",{type:"submit",className:Bn.button,disabled:c,children:c?"...":"Search"})]}),y&&g.jsx("p",{className:Bn.error,children:y})]})]})},G4="_container_sv0y7_1",$4="_title_sv0y7_9",K4="_grid_sv0y7_27",Q4="_card_sv0y7_39",Y4="_alertBorder_sv0y7_63",X4="_weather_sv0y7_73",W4="_icon_sv0y7_85",J4="_temp_sv0y7_97",Z4="_location_sv0y7_109",e3="_cityName_sv0y7_117",t3="_description_sv0y7_125",n3="_alertInfo_sv0y7_137",zn={container:G4,title:$4,grid:K4,card:Q4,alertBorder:Y4,weather:X4,icon:W4,temp:J4,location:Z4,cityName:e3,description:t3,alertInfo:n3},r3=({location:r})=>{const[e,t]=N.useState([]),[i,o]=N.useState(!0);return N.useEffect(()=>{(async()=>{if(r){o(!0);try{const h=await Me.currentUser?.getIdToken(),f=await me.get(`http://localhost:8080/api/dashboard/regional?lat=${r.latitude}&lon=${r.longitude}`,{headers:{Authorization:`Bearer ${h}`}});t(f.data)}catch(h){console.error("Failed to fetch regional data",h)}finally{o(!1)}}})()},[r]),r?i?g.jsx("div",{className:zn.container,children:g.jsx("p",{children:"Loading regional outlook..."})}):g.jsxs("div",{className:zn.container,children:[g.jsx("h2",{className:zn.title,children:"Regional Outlook"}),g.jsx("div",{className:zn.grid,children:e.map((c,h)=>g.jsxs("div",{className:`${zn.card} ${c.activeAlert?zn.alertBorder:""}`,children:[g.jsxs("div",{className:zn.weather,children:[g.jsx("img",{src:c.icon,alt:c.description,className:zn.icon}),g.jsxs("div",{className:zn.temp,children:[c.temp,"°C"]})]}),g.jsxs("div",{className:zn.location,children:[g.jsxs("div",{className:zn.cityName,children:[c.name,", ",c.country]}),g.jsx("div",{className:zn.description,children:c.description})]}),c.activeAlert&&g.jsxs("div",{className:zn.alertInfo,children:[g.jsx("strong",{children:"ALERT:"})," ",c.activeAlert.title]})]},h))})]}):null},s3="_container_1i3nd_1",i3="_alertHeader_1i3nd_19",a3="_actions_1i3nd_59",o3="_safeButton_1i3nd_71",l3="_helpButton_1i3nd_71",c3="_icon_1i3nd_123",u3="_contacts_1i3nd_135",h3="_contactGrid_1i3nd_149",d3="_contactCard_1i3nd_159",f3="_contactButtons_1i3nd_175",m3="_confirmation_1i3nd_193",p3="_safeText_1i3nd_195",g3="_helpText_1i3nd_197",bn={container:s3,alertHeader:i3,actions:a3,safeButton:o3,helpButton:l3,icon:c3,contacts:u3,contactGrid:h3,contactCard:d3,contactButtons:f3,confirmation:m3,safeText:p3,helpText:g3},y3=({activeAlert:r})=>{const[e,t]=N.useState("unreported"),[i,o]=N.useState(""),c=async p=>{if(!(p==="help"&&!window.confirm("Are you sure you want to send an SOS? This will alert school administrators that you need immediate help.")))try{const y=await Me.currentUser?.getIdToken(),v={alertId:r.id,status:p};p==="help"&&navigator.geolocation?navigator.geolocation.getCurrentPosition(async b=>{v.location={lat:b.coords.latitude,lon:b.coords.longitude},await h(y,v)},async()=>{await h(y,v)}):await h(y,v)}catch(y){console.error("Failed to send status",y),o("Error: Could not send status.")}},h=async(p,y)=>{const v=await me.post("http://localhost:8080/api/emergency/check-in",y,{headers:{Authorization:`Bearer ${p}`}});t(y.status),o(v.data.message)},f=[{name:"Police",number:"100"},{name:"Ambulance",number:"108"},{name:"Fire",number:"101"},{name:"Disaster Helpline",number:"1077"}];return e!=="unreported"?g.jsx("div",{className:bn.container,children:g.jsxs("div",{className:bn.confirmation,children:[g.jsx("h2",{children:"Your Status has been Reported"}),g.jsx("p",{className:e==="safe"?bn.safeText:bn.helpText,children:i}),g.jsx("p",{children:"Stay safe and follow instructions from authorities."})]})}):g.jsxs("div",{className:bn.container,children:[g.jsxs("div",{className:bn.alertHeader,children:[g.jsx("h1",{children:"EMERGENCY ALERT"}),g.jsx("p",{children:r.title})]}),g.jsxs("div",{className:bn.actions,children:[g.jsxs("button",{className:bn.safeButton,onClick:()=>c("safe"),children:[g.jsx("span",{className:bn.icon,children:"✓"})," I am Safe"]}),g.jsxs("button",{className:bn.helpButton,onClick:()=>c("help"),children:[g.jsx("span",{className:bn.icon,children:"🆘"})," I Need Help (SOS)"]})]}),g.jsxs("div",{className:bn.contacts,children:[g.jsx("h3",{children:"Quick Emergency Contacts"}),g.jsx("div",{className:bn.contactGrid,children:f.map(p=>g.jsxs("div",{className:bn.contactCard,children:[g.jsx("span",{children:p.name}),g.jsxs("div",{className:bn.contactButtons,children:[g.jsx("a",{href:`tel:${p.number}`,children:"Call"}),g.jsx("a",{href:`sms:${p.number}`,children:"Message"})]})]},p.name))})]})]})},_3=()=>{const{currentUser:r,loading:e}=pt(),[t,i]=N.useState(null),{location:o,error:c}=OS(),[h,f]=N.useState(null);if(N.useEffect(()=>{o&&i(o)},[o]),N.useEffect(()=>{(async()=>{if(t&&r)try{const v=await Me.currentUser?.getIdToken(),w=(await me.get(`http://localhost:8080/api/alerts?lat=${t.latitude}&lon=${t.longitude}`,{headers:{Authorization:`Bearer ${v}`}})).data.find(x=>x.severity==="High");f(w||null)}catch(v){console.error("Could not check for active alerts",v)}})()},[t,r]),e)return g.jsx("p",{children:"Loading dashboard..."});if(!r)return g.jsx("p",{children:"Could not load user information. Please log in again."});if(h)return g.jsx(y3,{activeAlert:h});const p=()=>{switch(r.role){case"student":return g.jsxs("div",{className:bo.roleSpecificContent,children:[g.jsxs("h1",{className:bo.title,children:["Welcome back, ",r.fullName,"!"]}),g.jsx("p",{className:bo.subtitle,children:"Here is a summary of your preparedness journey."}),g.jsx(y4,{})]});case"admin":return g.jsx(S4,{});case"parent":return g.jsx(I4,{});case"super-admin":return g.jsx(D4,{});default:return g.jsxs("div",{className:bo.roleSpecificContent,children:[g.jsxs("h1",{className:bo.title,children:["Welcome, ",r.fullName,"!"]}),g.jsx("p",{className:bo.subtitle,children:"Select an option from the sidebar to get started."})]})}};return g.jsxs("div",{children:[g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsx(F4,{initialLocation:t,onLocationChange:i,initialError:c})}),p(),g.jsx(r3,{location:t})]})},v3="_catalogGrid_1m605_1",E3="_cardLink_1m605_13",T3="_card_1m605_13",b3="_cardImage_1m605_57",S3="_cardContent_1m605_69",w3="_cardTitle_1m605_79",A3="_cardDescription_1m605_93",R3="_cardProgressBarContainer_1m605_105",C3="_cardProgressBar_1m605_105",ys={catalogGrid:v3,cardLink:E3,card:T3,cardImage:b3,cardContent:S3,cardTitle:w3,cardDescription:A3,cardProgressBarContainer:R3,cardProgressBar:C3},x3=()=>{const[r,e]=N.useState([]),[t,i]=N.useState(null),{currentUser:o}=pt();return N.useEffect(()=>{(async()=>{if(o)try{const h=await Me.currentUser?.getIdToken(),[f,p]=await Promise.all([me.get("http://localhost:8080/api/education/modules",{headers:{Authorization:`Bearer ${h}`}}),me.get("http://localhost:8080/api/progress",{headers:{Authorization:`Bearer ${h}`}})]);e(f.data),i(p.data)}catch(h){console.error("Failed to fetch page data:",h)}})()},[o]),g.jsxs("div",{children:[g.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:600,marginBottom:"1.5rem"},children:"Courses"}),g.jsx("div",{className:ys.catalogGrid,children:r.map(c=>{const h=t?.completedLessons.filter(y=>y.startsWith(c.id)).length||0,f=c.lessons.length||0,p=f>0?h/f*100:0;return g.jsx(Sn,{to:`/modules/${c.id}`,className:ys.cardLink,children:g.jsxs("div",{className:ys.card,children:[g.jsx("img",{src:c.imageUrl,alt:c.title,className:ys.cardImage}),g.jsxs("div",{className:ys.cardContent,children:[g.jsx("h3",{className:ys.cardTitle,children:c.title}),g.jsx("p",{className:ys.cardDescription,children:c.description})]}),g.jsx("div",{className:ys.cardProgressBarContainer,children:g.jsx("div",{className:ys.cardProgressBar,style:{width:`${p}%`}})})]})},c.id)})})]})},N3=()=>g.jsx("div",{children:g.jsx(x3,{})}),I3="_title_1v83x_1",D3="_summaryBox_1v83x_15",O3="_resultsContainer_1v83x_35",k3="_subtitle_1v83x_49",j3="_resultsTable_1v83x_67",M3="_scoreGood_1v83x_109",P3="_scoreBad_1v83x_119",ca={title:I3,summaryBox:D3,resultsContainer:O3,subtitle:k3,resultsTable:j3,scoreGood:M3,scoreBad:P3},L3="_badgeGrid_8vws6_1",V3="_badge_8vws6_1",U3="_badgeIcon_8vws6_31",B3="_badgeName_8vws6_51",kh={badgeGrid:L3,badge:V3,badgeIcon:U3,badgeName:B3},PS=({badges:r})=>g.jsx(rr,{title:"My Achievements",children:r&&r.length>0?g.jsx("div",{className:kh.badgeGrid,children:r.map((e,t)=>g.jsxs("div",{className:kh.badge,title:`Earned for completing: ${e.courseTitle}`,children:[g.jsx("img",{src:e.iconUrl,alt:e.name,className:kh.badgeIcon}),g.jsx("span",{className:kh.badgeName,children:e.name})]},t))}):g.jsx("p",{children:"Complete a course to earn your first badge!"})}),z3=()=>{const[r,e]=N.useState(null),[t,i]=N.useState(!0),{currentUser:o}=pt();return N.useEffect(()=>{(async()=>{if(o)try{const h=await Me.currentUser?.getIdToken(),f=await me.get("http://localhost:8080/api/progress",{headers:{Authorization:`Bearer ${h}`}});e(f.data)}catch(h){console.error("Failed to fetch progress data",h)}finally{i(!1)}})()},[o]),t?g.jsx("p",{children:"Loading your progress..."}):r?g.jsxs("div",{children:[g.jsx("h1",{className:ca.title,children:"My Progress"}),g.jsxs("div",{className:ca.summaryBox,children:["You have completed a total of ",g.jsx("strong",{children:r.completedLessonsCount})," lessons. Keep up the great work!"]}),g.jsx("div",{style:{marginBottom:"2.5rem"},children:g.jsx(PS,{badges:r.earnedBadges})}),g.jsxs("div",{className:ca.resultsContainer,children:[g.jsx("h2",{className:ca.subtitle,children:"Quiz Results"}),r.quizResults.length>0?g.jsxs("table",{className:ca.resultsTable,children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Course"}),g.jsx("th",{children:"Quiz"}),g.jsx("th",{children:"Score"}),g.jsx("th",{children:"Date Completed"})]})}),g.jsx("tbody",{children:r.quizResults.map((c,h)=>g.jsxs("tr",{children:[g.jsx("td",{children:c.moduleTitle}),g.jsx("td",{children:c.lessonTitle}),g.jsx("td",{children:g.jsxs("span",{className:c.percentage>=70?ca.scoreGood:ca.scoreBad,children:[c.score," / ",c.totalQuestions," (",c.percentage,"%)"]})}),g.jsx("td",{children:new Date(c.completedAt).toLocaleDateString()})]},h))})]}):g.jsx("p",{children:`You haven't completed any quizzes yet. Head to the "Courses" tab to get started!`})]})]}):g.jsx("p",{children:"Could not load your progress data."})},q3=()=>{const{currentUser:r}=pt(),e=N.useMemo(()=>r?.institutionId?Zb(Gb(Xg,"drills"),eS("institutionId","==",r.institutionId),tS("scheduledDate","desc")):null,[r?.institutionId]),{data:t,loading:i,error:o}=MS(e);return i?g.jsx("p",{children:"Loading drills..."}):o?g.jsx("p",{children:"Error loading drills."}):g.jsxs("div",{children:[g.jsx("h1",{style:{fontSize:"2.25rem",fontWeight:"bold"},children:"Virtual Drills"}),g.jsx("p",{style:{marginTop:"0.5rem",marginBottom:"2.5rem",fontSize:"1.125rem"},children:"Participate in scheduled drills to test your knowledge and preparedness."}),g.jsx(jS,{drills:t,onAction:()=>{}})]})},H3=()=>{const[r,e]=N.useState(null),[t,i]=N.useState(null),[o,c]=N.useState(!0),{currentUser:h}=pt();return N.useEffect(()=>{(async()=>{if(h)try{const y={Authorization:`Bearer ${await Me.currentUser?.getIdToken()}`},v=await me.get("http://localhost:8080/api/users/my-child",{headers:y});i(v.data);const b=await me.get(`http://localhost:8080/api/progress?uid=${v.data.uid}`,{headers:y});e(b.data)}catch(p){console.error("Failed to fetch child data",p)}finally{c(!1)}})()},[h]),o?g.jsx(pn,{title:"Child's Progress",children:g.jsx("p",{children:"Loading progress..."})}):!t||!r?g.jsxs(pn,{title:"Child's Progress",children:[g.jsx(Sn,{to:"/dashboard",style:{marginBottom:"1.5rem",display:"inline-block"},children:"← Back to Dashboard"}),g.jsx("p",{children:"Could not load your child's progress. Please ensure they are correctly linked by a teacher."})]}):g.jsxs(pn,{title:`Progress for ${t.fullName}`,children:[g.jsx(Sn,{to:"/dashboard",style:{marginBottom:"1.5rem",display:"inline-block"},children:"← Back to Dashboard"}),g.jsx("div",{style:{marginBottom:"2rem"},children:g.jsx(PS,{badges:r.earnedBadges})})]})},F3="_backLink_16ech_1",G3="_profileContainer_16ech_31",$3="_profileForm_16ech_49",K3="_formGroup_16ech_63",Q3="_saveButton_16ech_111",Y3="_messageSuccess_16ech_143",X3="_messageError_16ech_157",W3="_resetSection_16ech_171",J3="_resetButton_16ech_203",lt={backLink:F3,profileContainer:G3,profileForm:$3,formGroup:K3,saveButton:Q3,messageSuccess:Y3,messageError:X3,resetSection:W3,resetButton:J3},Z3=()=>{const{currentUser:r}=pt(),[e,t]=N.useState({}),[i,o]=N.useState(""),[c,h]=N.useState(""),[f,p]=N.useState(!1);N.useEffect(()=>{r&&t({fullName:r.fullName||"",schoolName:r.schoolName||"",grade:r.grade||"",city:r.city||""})},[r]);const y=async w=>{w.preventDefault(),o(""),h("");try{const x=await Me.currentUser?.getIdToken(),R=await me.put("http://localhost:8080/api/users/profile",e,{headers:{Authorization:`Bearer ${x}`}});o(R.data.message)}catch{h("Error: Could not update profile.")}},v=async()=>{if(o(""),h(""),!r?.email){h("Could not find your email address. Please try logging out and in again.");return}p(!0);try{await _T(Me,r.email),o("Password reset link sent! Please check your inbox and spam folder.")}catch(w){console.error("Firebase Password Reset Error:",w),h("Failed to send reset email. Please try again later.")}finally{p(!1)}};if(!r)return g.jsx(pn,{title:"My Profile",children:g.jsx("p",{children:"Loading profile..."})});const b=()=>{const w=r.role;return w==="student"||w==="teacher"||w==="admin"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"schoolName",children:"School Name"}),g.jsx("input",{name:"schoolName",value:e.schoolName,onChange:x=>t(R=>({...R,schoolName:x.target.value}))})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"grade",children:"Grade / Class"}),g.jsx("input",{name:"grade",value:e.grade,onChange:x=>t(R=>({...R,grade:x.target.value}))})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"city",children:"City"}),g.jsx("input",{name:"city",value:e.city,onChange:x=>t(R=>({...R,city:x.target.value}))})]})]}):null};return g.jsxs(pn,{title:"My Profile",children:[g.jsx(Sn,{to:"/dashboard",className:lt.backLink,children:"← Back to Dashboard"}),g.jsxs("div",{className:lt.profileContainer,children:[g.jsxs("form",{onSubmit:y,className:lt.profileForm,children:[g.jsx("h2",{children:"Edit Your Details"}),r.role==="student"&&g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"uid",children:"Your Unique User ID (for parents)"}),g.jsx("input",{id:"uid",type:"text",value:r.uid,readOnly:!0,disabled:!0})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{children:"Email Address"}),g.jsx("input",{type:"email",value:r.email||"",disabled:!0})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{children:"Your Role"}),g.jsx("input",{type:"text",value:r.role,disabled:!0})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"fullName",children:"Full Name"}),g.jsx("input",{name:"fullName",value:e.fullName,onChange:w=>t(x=>({...x,fullName:w.target.value})),required:!0})]}),b(),g.jsx("button",{type:"submit",className:lt.saveButton,children:"Save Changes"}),i&&g.jsx("p",{className:lt.messageSuccess,children:i}),c&&g.jsx("p",{className:lt.messageError,children:c})]}),g.jsxs("div",{className:lt.resetSection,children:[g.jsx("h3",{children:"Manage Your Password"}),g.jsx("p",{children:"Click the button below to send a password reset link to your email."}),g.jsx("button",{onClick:v,className:lt.resetButton,disabled:f,children:f?"Sending Link...":"Send Reset Link"})]})]})]})},eP="_backLink_1f1qx_1",tP="_progressContainer_1f1qx_31",nP="_progressBar_1f1qx_51",rP="_progressText_1f1qx_65",sP="_courseLayout_1f1qx_85",iP="_sidebar_1f1qx_99",aP="_sidebarTitle_1f1qx_113",oP="_lessonList_1f1qx_127",lP="_lessonItem_1f1qx_139",cP="_activeLesson_1f1qx_169",uP="_completedLesson_1f1qx_179",hP="_checkmark_1f1qx_189",dP="_mainContent_1f1qx_203",fP="_lessonTitle_1f1qx_217",mP="_videoContainer_1f1qx_229",pP="_textContent_1f1qx_263",gP="_completeButton_1f1qx_281",yP="_completedMessage_1f1qx_317",Yt={backLink:eP,progressContainer:tP,progressBar:nP,progressText:rP,courseLayout:sP,sidebar:iP,sidebarTitle:aP,lessonList:oP,lessonItem:lP,activeLesson:cP,completedLesson:uP,checkmark:hP,mainContent:dP,lessonTitle:fP,videoContainer:mP,textContent:pP,completeButton:gP,completedMessage:yP},_P="_quizContainer_1swj8_1",vP="_questionHeader_1swj8_15",EP="_questionText_1swj8_33",TP="_questionCounter_1swj8_45",bP="_optionsGrid_1swj8_59",SP="_optionButton_1swj8_71",wP="_selected_1swj8_105",AP="_nextButton_1swj8_115",RP="_resultsScreen_1swj8_163",CP="_resultsTitle_1swj8_179",xP="_resultsText_1swj8_191",NP="_reviewContainer_1swj8_203",IP="_reviewHeader_1swj8_215",DP="_reviewQuestion_1swj8_229",OP="_correct_1swj8_253",kP="_incorrect_1swj8_261",jP="_resultsActions_1swj8_271",MP="_resetButton_1swj8_285",PP="_dashboardButton_1swj8_285",Nt={quizContainer:_P,questionHeader:vP,questionText:EP,questionCounter:TP,optionsGrid:bP,optionButton:SP,selected:wP,nextButton:AP,resultsScreen:RP,resultsTitle:CP,resultsText:xP,reviewContainer:NP,reviewHeader:IP,reviewQuestion:DP,correct:OP,incorrect:kP,resultsActions:jP,resetButton:MP,dashboardButton:PP},LP=({questions:r,moduleId:e,lessonId:t})=>{const[i,o]=N.useState(0),[c,h]=N.useState([]),[f,p]=N.useState(0),[y,v]=N.useState(!1),b=Sa(),w=K=>{const Z=[...c];Z[i]=K,h(Z)},x=()=>{const K=i+1;K<r.length?o(K):(R(),v(!0))},R=()=>{let K=0;r.forEach((Z,ce)=>{Z.answer===c[ce]&&K++}),p(K)};N.useEffect(()=>{y&&(async()=>{try{const Z=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/progress/quiz",{moduleId:e,lessonId:t,score:f,totalQuestions:r.length},{headers:{Authorization:`Bearer ${Z}`}})}catch(Z){console.error("Failed to save quiz results",Z)}})()},[y,f,e,t,r.length]);const U=()=>{o(0),h([]),p(0),v(!1)};if(y)return g.jsxs("div",{className:Nt.resultsScreen,children:[g.jsx("h2",{className:Nt.resultsTitle,children:"Quiz Completed!"}),g.jsxs("p",{className:Nt.resultsText,children:["You scored ",g.jsx("strong",{children:f})," out of ",g.jsx("strong",{children:r.length})]}),g.jsxs("div",{className:Nt.reviewContainer,children:[g.jsx("h3",{className:Nt.reviewHeader,children:"Review Your Answers"}),r.map((K,Z)=>g.jsxs("div",{className:Nt.reviewQuestion,children:[g.jsx("p",{children:g.jsxs("strong",{children:[Z+1,". ",K.q]})}),g.jsxs("p",{className:c[Z]===K.answer?Nt.correct:Nt.incorrect,children:["Your Answer: ",c[Z]]}),c[Z]!==K.answer&&g.jsxs("p",{className:Nt.correct,children:["Correct Answer: ",K.answer]})]},Z))]}),g.jsxs("div",{className:Nt.resultsActions,children:[g.jsx("button",{onClick:U,className:Nt.resetButton,children:"Retake Quiz"}),g.jsx("button",{onClick:()=>b("/dashboard"),className:Nt.dashboardButton,children:"Back to Dashboard"})]})]});const k=r[i],Y=c[i];return g.jsxs("div",{className:Nt.quizContainer,children:[g.jsxs("div",{className:Nt.questionHeader,children:[g.jsx("h3",{className:Nt.questionText,children:k.q}),g.jsxs("span",{className:Nt.questionCounter,children:["Question ",i+1,"/",r.length]})]}),g.jsx("div",{className:Nt.optionsGrid,children:k.options.map(K=>g.jsx("button",{onClick:()=>w(K),className:`${Nt.optionButton} ${Y===K?Nt.selected:""}`,children:K},K))}),g.jsx("button",{onClick:x,className:Nt.nextButton,disabled:!Y,children:i===r.length-1?"Finish Quiz":"Next"})]})},VP=({lesson:r})=>{const[e,t]=N.useState(null),[i,o]=N.useState(!0),[c,h]=N.useState("");return N.useEffect(()=>{(async()=>{o(!0),h("");try{const p=await Me.currentUser?.getIdToken(),y=await me.get(`http://localhost:8080/api/education/video-url/${r.content}`,{headers:{Authorization:`Bearer ${p}`}});t(y.data.url)}catch(p){console.error("Could not fetch video URL",p),h("Could not load video.")}finally{o(!1)}})()},[r.content]),i?g.jsx("p",{children:"Loading video..."}):c?g.jsx("p",{style:{color:"red"},children:c}):g.jsx("div",{className:Yt.videoContainer,children:g.jsxs("video",{controls:!0,controlsList:"nodownload",width:"100%",children:[g.jsx("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]},e)})},UP=()=>{const{moduleId:r}=XA(),[e,t]=N.useState(null),[i,o]=N.useState(null),[c,h]=N.useState(null),[f,p]=N.useState(!0),{currentUser:y}=pt();N.useEffect(()=>{(async()=>{if(!(!y||!r)){p(!0);try{const Y=await Me.currentUser?.getIdToken(),[K,Z]=await Promise.all([me.get(`http://localhost:8080/api/education/modules/${r}`,{headers:{Authorization:`Bearer ${Y}`}}),me.get("http://localhost:8080/api/progress",{headers:{Authorization:`Bearer ${Y}`}})]);t(K.data),o(Z.data),K.data.lessons?.length>0&&h(K.data.lessons[0])}catch(Y){console.error("Failed to fetch page data:",Y)}finally{p(!1)}}})()},[y,r]);const v=()=>"/dashboard",b=async k=>{try{const Y=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/progress/complete",{moduleId:r,lessonId:k},{headers:{Authorization:`Bearer ${Y}`}});const K=await me.get("http://localhost:8080/api/progress",{headers:{Authorization:`Bearer ${Y}`}});o(K.data)}catch(Y){console.error("Failed to mark lesson as complete",Y)}},w=k=>{const K=i?.completedLessons.includes(`${r}_${k.id}`)?g.jsx("div",{className:Yt.completedMessage,children:"✓ Completed"}):g.jsx("button",{onClick:()=>b(k.id),className:Yt.completeButton,children:"Mark as Complete"});switch(k.type){case"video":return g.jsxs("div",{children:[g.jsx(VP,{lesson:k}),K]});case"text":return g.jsxs("div",{children:[g.jsx("div",{className:Yt.textContent,children:k.content}),K]});case"quiz":return k.questions?g.jsx(LP,{questions:k.questions,moduleId:r,lessonId:k.id}):g.jsx("p",{children:"Quiz not available."});default:return g.jsx("p",{children:"Unsupported lesson type."})}};if(f)return g.jsx(pn,{title:"Loading Course...",children:g.jsx("p",{children:"Loading..."})});if(!e)return g.jsx(pn,{title:"Error",children:g.jsx("p",{children:"Could not find the requested course."})});const x=i?.completedLessons.filter(k=>k.startsWith(r)).length||0,R=e.lessons.length||0,U=R>0?x/R*100:0;return g.jsxs(pn,{title:e.title,children:[g.jsx(Sn,{to:v(),className:Yt.backLink,children:"← Back to Dashboard"}),g.jsxs("div",{className:Yt.progressContainer,children:[g.jsx("div",{className:Yt.progressBar,style:{width:`${U}%`}}),g.jsxs("span",{className:Yt.progressText,children:[x," / ",R," Lessons Completed"]})]}),g.jsxs("div",{className:Yt.courseLayout,children:[g.jsxs("aside",{className:Yt.sidebar,children:[g.jsx("h3",{className:Yt.sidebarTitle,children:"Course Content"}),g.jsx("ul",{className:Yt.lessonList,children:e.lessons&&e.lessons.map(k=>{const Y=i?.completedLessons.includes(`${r}_${k.id}`);return g.jsxs("li",{className:`${Yt.lessonItem} ${c?.id===k.id?Yt.activeLesson:""} ${Y?Yt.completedLesson:""}`,onClick:()=>h(k),children:[Y&&g.jsx("span",{className:Yt.checkmark,children:"✓"}),k.title]},k.id)})})]}),g.jsx("section",{className:Yt.mainContent,children:c?g.jsxs("div",{children:[g.jsx("h2",{className:Yt.lessonTitle,children:c.title}),w(c)]}):g.jsx("p",{children:"Select a lesson to begin."})})]})]})},BP=({initialData:r,onSave:e,onCancel:t})=>{const[i,o]=N.useState(r||{title:"",description:"",imageUrl:"",lessons:[]}),c=v=>{const{name:b,value:w}=v.target;o(x=>({...x,[b]:w}))},h=(v,b,w)=>{const x=[...i.lessons];x[v]={...x[v],[b]:w},o(R=>({...R,lessons:x}))},f=()=>{const v={id:Date.now(),title:"",type:"text",content:""};o(b=>({...b,lessons:[...b.lessons,v]}))},p=v=>{const b=i.lessons.filter((w,x)=>x!==v);o(w=>({...w,lessons:b}))},y=async v=>{v.preventDefault();try{const b=await Me.currentUser?.getIdToken();i.id?await me.put(`http://localhost:8080/api/education/modules/${i.id}`,i,{headers:{Authorization:`Bearer ${b}`}}):await me.post("http://localhost:8080/api/education/modules",i,{headers:{Authorization:`Bearer ${b}`}}),e()}catch(b){console.error("Failed to save module",b),alert("Error: Could not save course.")}};return g.jsxs("form",{onSubmit:y,className:Ye.formBox,children:[g.jsxs("div",{className:Ye.formGroup,children:[g.jsx("label",{children:"Course Title"}),g.jsx("input",{name:"title",value:i.title,onChange:c,required:!0})]}),g.jsxs("div",{className:Ye.formGroup,children:[g.jsx("label",{children:"Description"}),g.jsx("textarea",{name:"description",value:i.description,rows:3,onChange:c,required:!0})]}),g.jsxs("div",{className:Ye.formGroup,children:[g.jsx("label",{children:"Image URL"}),g.jsx("input",{name:"imageUrl",value:i.imageUrl,onChange:c,required:!0})]}),g.jsx("h3",{className:Ye.subheading,children:"Lessons"}),i.lessons.map((v,b)=>g.jsxs("div",{className:Ye.lessonBox,children:[g.jsx("input",{placeholder:"Lesson Title",value:v.title,onChange:w=>h(b,"title",w.target.value)}),g.jsxs("select",{value:v.type,onChange:w=>h(b,"type",w.target.value),children:[g.jsx("option",{value:"text",children:"Text"}),g.jsx("option",{value:"video",children:"Video"}),g.jsx("option",{value:"quiz",children:"Quiz"})]}),g.jsx("textarea",{placeholder:"Content (Text or Video URL)",value:v.content,rows:4,onChange:w=>h(b,"content",w.target.value)}),g.jsx("button",{type:"button",onClick:()=>p(b),className:`${Ye.button} ${Ye.deleteButton}`,children:"Remove Lesson"})]},b)),g.jsx("button",{type:"button",onClick:f,className:Ye.button,children:"+ Add Lesson"}),g.jsx("hr",{className:Ye.divider}),g.jsxs("div",{className:Ye.actions,children:[g.jsx("button",{type:"submit",className:Ye.saveButton,children:"Save Course"}),g.jsx("button",{type:"button",onClick:t,className:Ye.cancelButton,children:"Cancel"})]})]})},zP=({modules:r,onEdit:e,onDelete:t})=>{const i=async o=>{if(window.confirm("Are you sure you want to delete this course? This action cannot be undone."))try{const c=await Me.currentUser?.getIdToken();await me.delete(`http://localhost:8080/api/education/modules/${o}`,{headers:{Authorization:`Bearer ${c}`}}),t()}catch(c){console.error("Failed to delete module",c),alert("Error: Could not delete course.")}};return g.jsxs("div",{className:Ye.listBox,children:[r.length===0&&g.jsx("p",{children:"No courses found. Create one to get started!"}),r.map(o=>g.jsxs("div",{className:Ye.listItem,children:[g.jsx("span",{className:Ye.listItemTitle,children:o.title}),g.jsxs("div",{className:Ye.listItemActions,children:[g.jsx("button",{onClick:()=>e(o),className:Ye.button,children:"Edit"}),g.jsx("button",{onClick:()=>i(o.id),className:`${Ye.button} ${Ye.deleteButton}`,children:"Delete"})]})]},o.id))]})},qP=()=>{const[r,e]=N.useState([]),[t,i]=N.useState(null),{currentUser:o}=pt(),c=async()=>{if(o)try{const p=await Me.currentUser?.getIdToken(),y=await me.get("http://localhost:8080/api/education/modules",{headers:{Authorization:`Bearer ${p}`}});e(y.data)}catch(p){console.error("Failed to fetch modules",p)}};N.useEffect(()=>{c()},[o]);const h=()=>{c(),i(null)},f=()=>{c()};return g.jsx(pn,{title:"Content Management",children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"2rem",alignItems:"flex-start"},children:[g.jsxs("div",{children:[g.jsx("h2",{children:t?"Edit Course":"Create New Course"}),g.jsx(BP,{initialData:t,onSave:h,onCancel:()=>i(null)},t?t.id:"new")]}),g.jsxs("div",{children:[g.jsx("h2",{children:"Existing Courses"}),g.jsx(zP,{modules:r,onEdit:i,onDelete:f})]})]})})},HP=()=>{const{currentUser:r}=pt(),[e,t]=N.useState({fullName:"",schoolName:"",grade:"",city:""}),[i,o]=N.useState(!0),[c,h]=N.useState(""),[f,p]=N.useState("");N.useEffect(()=>{(async()=>{if(r)try{const w=await Me.currentUser?.getIdToken(),x=await me.get("http://localhost:8080/api/users/my-child",{headers:{Authorization:`Bearer ${w}`}});t({fullName:x.data.fullName||"",schoolName:x.data.schoolName||"",grade:x.data.grade||"",city:x.data.city||""})}catch(w){console.error(w),p("Could not fetch your child's profile. Please ensure you have linked the correct User ID.")}finally{o(!1)}})()},[r]);const y=b=>{t(w=>({...w,[b.target.name]:b.target.value}))},v=async b=>{b.preventDefault(),h(""),p("");try{const w=await Me.currentUser?.getIdToken(),x=await me.put("http://localhost:8080/api/users/my-child",e,{headers:{Authorization:`Bearer ${w}`}});h(x.data.message)}catch{p("Failed to update child's profile.")}};return i?g.jsx(pn,{title:"Manage Child Profile",children:g.jsx("p",{children:"Loading child's details..."})}):g.jsxs(pn,{title:"Manage Child Profile",children:[g.jsx(Sn,{to:"/dashboard",className:lt.backLink,children:"← Back to Dashboard"}),g.jsx("div",{className:lt.profileContainer,children:f?g.jsx("p",{className:lt.messageError,children:f}):g.jsxs("form",{onSubmit:v,className:lt.profileForm,children:[g.jsxs("h2",{children:["Edit ",e.fullName,"'s Details"]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"fullName",children:"Full Name"}),g.jsx("input",{name:"fullName",value:e.fullName,onChange:y})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"schoolName",children:"School Name"}),g.jsx("input",{name:"schoolName",value:e.schoolName,onChange:y})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"grade",children:"Grade / Class"}),g.jsx("input",{name:"grade",value:e.grade,onChange:y})]}),g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{htmlFor:"city",children:"City"}),g.jsx("input",{name:"city",value:e.city,onChange:y})]}),g.jsx("button",{type:"submit",className:lt.saveButton,children:"Save Changes"}),c&&g.jsx("p",{className:lt.messageSuccess,children:c})]})})]})},FP="_title_10dm3_1",GP="_subtitle_10dm3_15",$P="_gameGrid_10dm3_37",KP="_gameCard_10dm3_49",QP="_cardIcon_10dm3_81",YP="_gameTitle_10dm3_93",XP="_gameDescription_10dm3_105",WP="_playButton_10dm3_117",ii={title:FP,subtitle:GP,gameGrid:$P,gameCard:KP,cardIcon:QP,gameTitle:YP,gameDescription:XP,playButton:WP},JP="_overlay_kb84o_1",ZP="_modal_kb84o_27",eL="_header_kb84o_49",tL="_title_kb84o_65",nL="_closeButton_kb84o_77",rL="_content_kb84o_95",So={overlay:JP,modal:ZP,header:eL,title:tL,closeButton:nL,content:rL},sL=({title:r,onClose:e,children:t})=>g.jsx("div",{className:So.overlay,onClick:e,children:g.jsxs("div",{className:So.modal,onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:So.header,children:[g.jsx("h2",{className:So.title,children:r}),g.jsx("button",{onClick:e,className:So.closeButton,children:"×"})]}),g.jsx("div",{className:So.content,children:t})]})}),iL="_gameContainer_1wjhn_1",aL="_timer_1wjhn_15",oL="_gameArea_1wjhn_31",lL="_itemPool_1wjhn_43",cL="_dropZone_1wjhn_43",uL="_item_1wjhn_43",hL="_backpack_1wjhn_87",dL="_kitItems_1wjhn_99",fL="_itemInKit_1wjhn_113",mL="_finishButton_1wjhn_117",pL="_playAgainButton_1wjhn_117",gL="_resultsScreen_1wjhn_145",yL="_scoreText_1wjhn_147",_L="_review_1wjhn_149",vL="_correct_1wjhn_153",EL="_incorrect_1wjhn_155",un={gameContainer:iL,timer:aL,gameArea:oL,itemPool:lL,dropZone:cL,item:uL,backpack:hL,kitItems:dL,itemInKit:fL,finishButton:mL,playAgainButton:pL,resultsScreen:gL,scoreText:yL,review:_L,correct:vL,incorrect:EL},rg=[{name:"Water Bottle",correct:!0,emoji:"💧"},{name:"First-Aid Kit",correct:!0,emoji:"🩹"},{name:"Flashlight",correct:!0,emoji:"🔦"},{name:"Video Game",correct:!1,emoji:"🎮"},{name:"Pizza Slice",correct:!1,emoji:"🍕"},{name:"Batteries",correct:!0,emoji:"🔋"},{name:"Canned Food",correct:!0,emoji:"🥫"},{name:"Soccer Ball",correct:!1,emoji:"⚽"},{name:"Whistle",correct:!0,emoji:"📣"}],_1=rg.filter(r=>r.correct).length,TL=()=>{const[r,e]=N.useState(rg),[t,i]=N.useState([]),[o,c]=N.useState(0),[h,f]=N.useState("playing"),[p,y]=N.useState(30);pt(),N.useEffect(()=>{if(h==="playing"&&p>0){const R=setInterval(()=>y(U=>U-1),1e3);return()=>clearInterval(R)}else p===0&&w()},[p,h]);const v=(R,U)=>{R.dataTransfer.setData("itemName",U.name)},b=R=>{R.preventDefault();const U=R.dataTransfer.getData("itemName"),k=r.find(Y=>Y.name===U);k&&!t.some(Y=>Y.name===k.name)&&(i(Y=>[...Y,k]),e(Y=>Y.filter(K=>K.name!==k.name)))},w=async()=>{f("finished");let R=0;t.forEach(U=>{U.correct&&R++}),c(R);try{const U=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/progress/game",{gameName:"Emergency Kit Packer",score:R,maxScore:_1},{headers:{Authorization:`Bearer ${U}`}})}catch(U){console.error("Failed to save game score",U)}},x=()=>{e(rg),i([]),c(0),y(30),f("playing")};return h==="finished"?g.jsxs("div",{className:un.resultsScreen,children:[g.jsx("h2",{children:"Time's Up!"}),g.jsxs("p",{className:un.scoreText,children:["You packed ",o," out of ",_1," correct items!"]}),g.jsxs("div",{className:un.review,children:[g.jsx("h3",{children:"Your Kit:"}),t.map(R=>g.jsxs("span",{className:R.correct?un.correct:un.incorrect,children:[R.emoji," ",R.name]},R.name))]}),g.jsx("button",{onClick:x,className:un.playAgainButton,children:"Play Again"})]}):g.jsxs("div",{className:un.gameContainer,children:[g.jsxs("div",{className:un.timer,children:["Time Left: ",p,"s"]}),g.jsxs("div",{className:un.gameArea,children:[g.jsxs("div",{className:un.itemPool,children:[g.jsx("h3",{children:"Available Items"}),r.map(R=>g.jsxs("div",{draggable:!0,onDragStart:U=>v(U,R),className:un.item,children:[R.emoji," ",R.name]},R.name))]}),g.jsxs("div",{className:un.dropZone,onDragOver:R=>R.preventDefault(),onDrop:b,children:[g.jsx("h3",{children:"Drag Correct Items Here"}),g.jsx("div",{className:un.backpack,children:"🎒"}),g.jsx("div",{className:un.kitItems,children:t.map(R=>g.jsx("div",{className:un.itemInKit,children:R.emoji},R.name))})]})]}),g.jsx("button",{onClick:w,className:un.finishButton,children:"Finish Packing"})]})},bL="_gameContainer_1uzan_1",SL="_instructions_1uzan_23",wL="_gameArea_1uzan_39",AL="_wall_1uzan_59",RL="_floor_1uzan_61",CL="_window_1uzan_63",xL="_shelf_1uzan_65",NL="_table_1uzan_67",IL="_book_1uzan_77",DL="_vase_1uzan_77",OL="_person_1uzan_87",kL="_dropZone_1uzan_93",jL="_shake_1uzan_101",ML="_fall1_1uzan_115",PL="_fall2_1uzan_117",LL="_fall3_1uzan_119",VL="_startScreen_1uzan_131",UL="_resultsScreen_1uzan_131",BL="_feedbackText_1uzan_135",zL="_correctIcon_1uzan_141",qL="_incorrectIcon_1uzan_141",HL="_playButton_1uzan_147",rt={gameContainer:bL,instructions:SL,gameArea:wL,wall:AL,floor:RL,window:CL,shelf:xL,table:NL,book:IL,vase:DL,person:OL,dropZone:kL,shake:jL,fall1:ML,fall2:PL,fall3:LL,startScreen:VL,resultsScreen:UL,feedbackText:BL,correctIcon:zL,incorrectIcon:qL,playButton:HL},FL=()=>{const[r,e]=N.useState("start"),[t,i]=N.useState({message:"",correct:!1}),[o,c]=N.useState(!1),[h,f]=N.useState(15),p=N.useRef(null),y=async R=>{try{const U=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/progress/game",{gameName:"Earthquake Survivor Drill",score:R,maxScore:1},{headers:{Authorization:`Bearer ${U}`}})}catch(U){console.error("Failed to save game score",U)}},v=(R,U)=>{p.current&&clearInterval(p.current),c(!1),i({message:U,correct:R}),y(R?1:0),e("finished")},b=R=>{R.preventDefault();const U=R.currentTarget.dataset.safe==="true",k=R.currentTarget.dataset.reason||"That spot is not safe.";v(U,U?"Perfect! A sturdy table is the best protection from falling objects.":k)},w=()=>{e("playing"),c(!0),f(15),p.current=setInterval(()=>{f(R=>R>0?R-1:0)},1e3)};N.useEffect(()=>(h<=0&&r==="playing"&&v(!1,"Time's up! In a real earthquake, you must act fast. Let's try again."),()=>{p.current&&clearInterval(p.current)}),[h,r]);const x=()=>{e("start")};return r==="start"?g.jsx("div",{className:rt.gameContainer,children:g.jsxs("div",{className:rt.startScreen,children:[g.jsx("h3",{children:"Game: Earthquake Survivor Drill"}),g.jsx("p",{children:"The ground is about to shake! When it does, drag the person to the safest spot in the room as quickly as you can."}),g.jsx("button",{onClick:w,className:rt.playButton,children:"Start Drill"})]})}):r==="finished"?g.jsx("div",{className:rt.gameContainer,children:g.jsxs("div",{className:rt.resultsScreen,children:[g.jsx("div",{className:t.correct?rt.correctIcon:rt.incorrectIcon,children:t.correct?"✓":"✗"}),g.jsx("h2",{children:t.correct?"You Survived!":"That Was Dangerous!"}),g.jsx("p",{className:rt.feedbackText,children:t.message}),g.jsx("button",{onClick:x,className:rt.playButton,children:"Try Again"})]})}):g.jsxs("div",{className:rt.gameContainer,children:[g.jsx("p",{className:rt.instructions,children:"Drag the person to safety!"}),g.jsxs("div",{className:`${rt.gameArea} ${o?rt.shake:""}`,children:[g.jsxs("div",{className:rt.wall,children:[g.jsx("div",{className:rt.window}),g.jsxs("div",{className:rt.shelf,children:[g.jsx("div",{className:`${rt.book} ${o?rt.fall1:""}`}),g.jsx("div",{className:`${rt.book} ${o?rt.fall2:""}`}),g.jsx("div",{className:`${rt.vase} ${o?rt.fall3:""}`})]}),g.jsx("div",{className:rt.table})]}),g.jsx("div",{className:rt.floor}),g.jsx("div",{draggable:!0,className:rt.person,onDragStart:R=>R.dataTransfer.setData("text/plain","person"),children:g.jsx("span",{children:"You"})}),g.jsx("div",{className:rt.dropZone,style:{top:"60%",left:"50%",width:"30%",height:"25%"},"data-safe":"true",onDrop:b,onDragOver:R=>R.preventDefault()}),g.jsx("div",{className:rt.dropZone,style:{top:"25%",left:"10%",width:"25%",height:"50%"},"data-safe":"false","data-reason":"Not safe! The window glass could shatter.",onDrop:b,onDragOver:R=>R.preventDefault()}),g.jsx("div",{className:rt.dropZone,style:{top:"20%",right:"5%",width:"25%",height:"70%"},"data-safe":"false","data-reason":"Dangerous! The bookshelf and items could fall on you.",onDrop:b,onDragOver:R=>R.preventDefault()})]})]})},GL="_container_qvs2y_1",$L="_storm_qvs2y_23",KL="_rain_qvs2y_33",QL="_ground_qvs2y_77",YL="_tree_qvs2y_97",XL="_tree1_qvs2y_117",WL="_tree2_qvs2y_119",JL="_buildingWrapper_qvs2y_149",ZL="_building_qvs2y_149",eV="_hut_qvs2y_191",tV="_shelter_qvs2y_193",nV="_house_qvs2y_195",rV="_overlay_qvs2y_217",sV="_playButton_qvs2y_269",Bt={container:GL,storm:$L,rain:KL,ground:QL,tree:YL,tree1:XL,tree2:WL,buildingWrapper:JL,building:ZL,hut:eV,shelter:tV,house:nV,overlay:rV,playButton:sV},iV=()=>{const[r,e]=N.useState("start"),[t,i]=N.useState(null),[o,c]=N.useState(12),h=N.useRef(null),f=async w=>{try{const x=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/progress/game",{gameName:"Cyclone Shelter Dash",score:w,maxScore:1},{headers:{Authorization:`Bearer ${x}`}})}catch(x){console.error("Failed to save score",x)}},p=w=>{h.current&&clearInterval(h.current),e("finished"),i(w?"won":"lost"),f(w?1:0)},y=w=>{r==="playing"&&p(w)},v=()=>{i(null),c(12),e("playing"),h.current=setInterval(()=>{c(w=>w-1)},1e3)};N.useEffect(()=>(o<=0&&r==="playing"&&p(!1),()=>{h.current&&clearInterval(h.current)}),[o,r]);const b=()=>{let w="",x="";return r==="start"?(w="Game: Cyclone Shelter Dash",x="A cyclone warning has been issued! Click on the strongest building to shelter in before the storm hits."):r==="finished"&&(t==="won"?(w="You Made It to Safety!",x="Excellent choice! A specially designed concrete shelter offers the best protection during a cyclone."):(w="Evacuation Failed!",x=o<=0?"You ran out of time! Evacuation must be swift in a real emergency.":"That building is not strong enough to withstand a cyclone.")),g.jsxs("div",{className:Bt.overlay,children:[g.jsx("h3",{children:w}),g.jsx("p",{children:x}),g.jsx("button",{onClick:v,className:Bt.playButton,children:r==="start"?"Start Evacuation":"Try Again"})]})};return g.jsxs("div",{className:`${Bt.container} ${r==="playing"?Bt.storm:""}`,children:[r!=="playing"&&b(),g.jsx("div",{className:`${Bt.rain}`}),g.jsxs("div",{className:Bt.ground,children:[g.jsx("div",{className:`${Bt.tree} ${Bt.tree1}`}),g.jsx("div",{className:`${Bt.tree} ${Bt.tree2}`})]}),g.jsxs("div",{className:`${Bt.buildingWrapper} ${Bt.hut}`,onClick:()=>y(!1),children:[g.jsx("div",{className:Bt.building,children:"🛖"}),g.jsx("span",{children:"Weak Hut"})]}),g.jsxs("div",{className:`${Bt.buildingWrapper} ${Bt.shelter}`,onClick:()=>y(!0),children:[g.jsx("div",{className:Bt.building,children:"🏢"}),g.jsx("span",{children:"Shelter"})]}),g.jsxs("div",{className:`${Bt.buildingWrapper} ${Bt.house}`,onClick:()=>y(!1),children:[g.jsx("div",{className:Bt.building,children:"🏡"}),g.jsx("span",{children:"House"})]})]})},aV="_container_1ekk9_1",oV="_header_1ekk9_19",lV="_grid_1ekk9_33",cV="_cell_1ekk9_55",uV="_grass_1ekk9_85",hV="_start_1ekk9_87",dV="_end_1ekk9_89",fV="_water_1ekk9_91",mV="_wave_1ekk9_1",pV="_path_1ekk9_97",gV="_player_1ekk9_105",yV="_flooded_1ekk9_133",_V="_won_1ekk9_137",vV="_overlay_1ekk9_143",EV="_fadeIn_1ekk9_1",TV="_playButton_1ekk9_173",bV="_controls_1ekk9_179",SV="_undoButton_1ekk9_191",qn={container:aV,header:oV,grid:lV,cell:cV,grass:uV,start:hV,end:dV,water:fV,wave:mV,path:pV,player:gV,"player-pop":"_player-pop_1ekk9_1",flooded:yV,"flood-animation":"_flood-animation_1ekk9_1",won:_V,"win-pulse":"_win-pulse_1ekk9_1",overlay:vV,fadeIn:EV,playButton:TV,controls:bV,undoButton:SV},gp=[3,6,11,12,17,20,21],yp=0,_p=24,jh=5,wV=()=>{const[r,e]=N.useState("playing"),[t,i]=N.useState([yp]),o=async y=>{try{const v=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/progress/game",{gameName:"Flood Escape",score:y,maxScore:1},{headers:{Authorization:`Bearer ${v}`}})}catch(v){console.error("Failed to save game score",v)}},c=y=>{if(r!=="playing"||t.includes(y))return;const v=t[t.length-1],b=v%jh,w=Math.floor(v/jh),x=y%jh,R=Math.floor(y/jh);if(Math.abs(b-x)+Math.abs(w-R)===1){const k=[...t,y];i(k)}},h=()=>{if(r!=="playing"||t.length<=1)return;const y=t.slice(0,-1);i(y)};N.useEffect(()=>{const y=t[t.length-1];y===_p?(e("won"),o(1)):gp.includes(y)&&(e("lost"),o(0))},[t]);const f=()=>{i([yp]),e("playing")},p=t[t.length-1];return g.jsxs("div",{className:qn.container,children:[g.jsxs("div",{className:qn.header,children:[g.jsx("h3",{children:"Flood Escape"}),g.jsx("p",{children:"Click adjacent squares to find a safe path from the 🏠 to the 🆘!"})]}),g.jsx("div",{className:qn.grid,children:Array.from({length:25}).map((y,v)=>{let b="grass";v===yp&&(b="start"),v===_p&&(b="end"),gp.includes(v)&&(b="water");const w=p===v,x=t.includes(v),R=r==="lost"&&x&&gp.includes(v);return g.jsx("div",{className:`
                                ${qn.cell} 
                                ${qn[b]} 
                                ${x&&!w?qn.path:""}
                                ${R?qn.flooded:""}
                                ${r==="won"&&v===_p?qn.won:""}
                            `,onClick:()=>c(v),children:w&&g.jsx("div",{className:qn.player})},v)})}),g.jsx("div",{className:qn.controls,children:g.jsx("button",{onClick:h,className:qn.undoButton,disabled:r!=="playing"||t.length<=1,children:"Undo Last Move"})}),r!=="playing"&&g.jsxs("div",{className:qn.overlay,children:[g.jsx("h2",{children:r==="won"?"You Reached Safety!":"Swept Away!"}),g.jsx("p",{children:r==="won"?"Excellent! You found a safe route.":"You must find a path that does not go through the water."}),g.jsx("button",{onClick:f,className:qn.playButton,children:"Try Again"})]})]})},vp={emergencyKit:{title:"Emergency Kit Packer",description:"A disaster is approaching! Drag the essential items into the backpack before time runs out.",icon:"🎒"},earthquakeDrill:{title:"Earthquake Survivor Drill",description:"The room is shaking! Drag the person to the safest spot to protect them from falling objects.",icon:"🏠"},cycloneDash:{title:"Cyclone Shelter Dash",description:"A cyclone warning is issued! Click on the strongest building to find shelter before the storm hits.",icon:"🌪️"},floodRoute:{title:"Flood Route Planner",description:"The city is flooding! Draw a safe path from the house to the relief shelter, avoiding the water.",icon:"🗺️"}},AV=()=>{const[r,e]=N.useState(null),t=i=>{switch(i){case"emergencyKit":return g.jsx(TL,{});case"earthquakeDrill":return g.jsx(FL,{});case"cycloneDash":return g.jsx(iV,{});case"floodRoute":return g.jsx(wV,{});default:return null}};return g.jsxs("div",{children:[g.jsx("h1",{className:ii.title,children:"Learning Games Arcade"}),g.jsx("p",{className:ii.subtitle,children:"Test your knowledge and skills with these interactive challenges!"}),g.jsx("div",{className:ii.gameGrid,children:Object.keys(vp).map(i=>{const o=vp[i];return g.jsxs("div",{className:ii.gameCard,children:[g.jsx("div",{className:ii.cardIcon,children:o.icon}),g.jsx("h2",{className:ii.gameTitle,children:o.title}),g.jsx("p",{className:ii.gameDescription,children:o.description}),g.jsx("button",{onClick:()=>e(i),className:ii.playButton,children:"Play Now"})]},i)})}),r&&g.jsx(sL,{onClose:()=>e(null),title:vp[r].title,children:t(r)})]})},RV="_subtitle_1fxcd_1",CV="_contactList_1fxcd_15",xV="_contactRow_1fxcd_27",NV="_contactInfo_1fxcd_47",IV="_icon_1fxcd_63",DV="_callButton_1fxcd_71",wo={subtitle:RV,contactList:CV,contactRow:xV,contactInfo:NV,icon:IV,callButton:DV},OV=[{name:"National Emergency",number:"112",icon:"🚨"},{name:"Police",number:"100",icon:"🚓"},{name:"Fire",number:"101",icon:"🔥"},{name:"Ambulance",number:"108",icon:"🚑"},{name:"Disaster Helpline",number:"1077",icon:"☎️"}],kV=()=>g.jsxs(rr,{title:"Emergency Contacts",children:[g.jsx("p",{className:wo.subtitle,children:"Quick access to emergency services for your region."}),g.jsx("div",{className:wo.contactList,children:OV.map(r=>g.jsxs("div",{className:wo.contactRow,children:[g.jsxs("span",{className:wo.contactInfo,children:[g.jsx("span",{className:wo.icon,children:r.icon}),r.name]}),g.jsx("a",{href:`tel:${r.number}`,className:wo.callButton,children:"Call Now"})]},r.name))})]}),jV=()=>g.jsxs("div",{children:[g.jsx("h1",{style:{fontSize:"2.25rem",fontWeight:"bold",color:"#1f2937"},children:"Emergency Contacts"}),g.jsx("p",{style:{marginTop:"0.5rem",marginBottom:"2rem",fontSize:"1.125rem",color:"#4b5563"},children:"Quick access to important national and local emergency services for your region."}),g.jsx(kV,{})]}),MV="_container_lui4b_1",PV="_successMessage_lui4b_13",LV="_table_lui4b_31",VV="_linkedText_lui4b_65",UV="_parentSelect_lui4b_73",BV="_linkButton_lui4b_87",Ao={container:MV,successMessage:PV,table:LV,linkedText:VV,parentSelect:UV,linkButton:BV},zV=()=>{const{currentUser:r}=pt(),[e,t]=N.useState([]),[i,o]=N.useState([]),[c,h]=N.useState(!0),[f,p]=N.useState(""),[y,v]=N.useState(""),b=async()=>{if(!(!r||!r.institutionId)){h(!0);try{const R={Authorization:`Bearer ${await Me.currentUser?.getIdToken()}`},[U,k]=await Promise.all([me.get(`http://localhost:8080/api/teacher/students?institutionId=${r.institutionId}`,{headers:R}),me.get("http://localhost:8080/api/teacher/parents",{headers:R})]);t(U.data),o(k.data)}catch{v("An error occurred while loading data.")}finally{h(!1)}}};N.useEffect(()=>{b()},[r]);const w=async(x,R)=>{if(!R){alert("Please select a parent to link.");return}try{const U=await Me.currentUser?.getIdToken();await me.post("http://localhost:8080/api/teacher/link",{studentUid:x,parentUid:R},{headers:{Authorization:`Bearer ${U}`}}),p("Successfully linked parent to student."),b()}catch{alert("Failed to link accounts. Please try again.")}};return c?g.jsx("p",{children:"Loading student and parent data..."}):y?g.jsx("p",{style:{color:"#dc2626",fontWeight:500},children:y}):g.jsxs("div",{className:Ao.container,children:[f&&g.jsx("p",{className:Ao.successMessage,children:f}),g.jsxs("table",{className:Ao.table,children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Student Name"}),g.jsx("th",{children:"Linked Parent"}),g.jsx("th",{children:"Action"})]})}),g.jsx("tbody",{children:e.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:3,children:"No students found for your institution."})}):e.map(x=>g.jsxs("tr",{children:[g.jsxs("td",{children:[x.fullName," (",x.email,")"]}),g.jsx("td",{children:x.parentName?g.jsx("span",{className:Ao.linkedText,children:x.parentName}):g.jsxs("select",{className:Ao.parentSelect,id:`parent-select-${x.uid}`,children:[g.jsx("option",{value:"",children:"Select an Unlinked Parent"}),i.map(R=>g.jsxs("option",{value:R.uid,children:[R.fullName," (",R.email,")"]},R.uid))]})}),g.jsx("td",{children:!x.parentName&&g.jsx("button",{className:Ao.linkButton,onClick:()=>w(x.uid,document.getElementById(`parent-select-${x.uid}`).value),children:"Link Parent"})})]},x.uid))})]})]})},qV=()=>g.jsxs(pn,{title:"Manage Student & Parent Links",children:[g.jsx("p",{style:{marginTop:0,marginBottom:"2rem",fontSize:"1.125rem",color:"#4b5563"},children:"Use this page to view all students in your institution and link them to their parent accounts."}),g.jsx(zV,{})]}),HV=()=>{const{currentUser:r}=pt();return r?g.jsx(Tp,{to:"/dashboard"}):g.jsx(Tp,{to:"/login"})};function FV(){return g.jsxs(dR,{children:[g.jsx(Qt,{path:"/login",element:g.jsx(ok,{})}),g.jsx(Qt,{path:"/signup",element:g.jsx(Mj,{})}),g.jsx(Qt,{path:"/",element:g.jsx(HV,{})}),g.jsxs(Qt,{path:"/dashboard",element:g.jsx(fp,{children:g.jsx(a4,{})}),children:[g.jsx(Qt,{index:!0,element:g.jsx(_3,{})}),g.jsx(Qt,{path:"courses",element:g.jsx(N3,{})}),g.jsx(Qt,{path:"progress",element:g.jsx(z3,{})}),g.jsx(Qt,{path:"drills",element:g.jsx(q3,{})}),g.jsx(Qt,{path:"games",element:g.jsx(AV,{})}),g.jsx(Qt,{path:"child-progress",element:g.jsx(H3,{})}),g.jsx(Qt,{path:"profile",element:g.jsx(Z3,{})}),g.jsx(Qt,{path:"manage-child",element:g.jsx(HP,{})}),g.jsx(Qt,{path:"emergency-contacts",element:g.jsx(jV,{})}),g.jsx(Qt,{path:"manage-drills",element:g.jsx(wM,{})}),g.jsx(Qt,{path:"manage-students",element:g.jsx(qV,{})})]}),g.jsx(Qt,{path:"/modules/:moduleId",element:g.jsx(fp,{children:g.jsx(UP,{})})}),g.jsx(Qt,{path:"/manage-modules",element:g.jsx(fp,{children:g.jsx(qP,{})})})]})}_A.createRoot(document.getElementById("root")).render(g.jsx(uA.StrictMode,{children:g.jsx(MR,{children:g.jsx(ak,{children:g.jsx(FV,{})})})}));
